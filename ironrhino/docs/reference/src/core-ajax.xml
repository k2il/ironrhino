<chapter id="core-ajax">
	<title>ajax功能</title>
	<para>
		为表单加入一个ajax的class,就可以ajax异步提交表单,会将服务器端的actionErrors,actionMessages,fieldErrors以json传回来并且显示出来
		<programlisting>
		<![CDATA[
		<@s.form id="login" action="login" method="post" cssClass="ajax">
			<@s.hidden id="targetUrl" name="targetUrl" />
			<@s.textfield label="%{getText('username')}" name="username" cssClass="required"/>
			<@s.password label="%{getText('password')}" name="password" cssClass="required"/>
			<@s.submit value="%{getText('login')}" />
		</@s.form>
		]]>
		</programlisting>	
	</para>
	<para>
		为链接加入一个ajax的class,就可以ajax异步提交请求,会将服务器端的actionErrors,actionMessages以json传回来并且显示出来
		<programlisting>
		<![CDATA[
		<a href="/customer/delete/xxx" class="ajax">delete</a>
		]]>
		</programlisting>	
	</para>
	<para>
		配合ajax,增加一个view的class,并且指定一个replacement的属性,服务器端会返回html代码片段,浏览器端会替换当前页面的元素
		<programlisting>
		<![CDATA[
		<a href="/customer" class="ajax view" replacement="customer_list">reload</a><div id="customer_list"><ul></ul></div>
		]]>
		</programlisting>	
	</para>
	<para>
		异步加载区域
		<programlisting>
			<![CDATA[
				<div class="ajaxpanel" url="/customer/input"></div>
			]]>
		</programlisting>
		延迟异步加载区域
		<programlisting>
			<![CDATA[
				<div class="ajaxpanel" url="/customer/input" timeout="5000"></div>
			]]>
		</programlisting>
		重复异步加载区域
		<programlisting>
			<![CDATA[
				<div class="ajaxpanel" url="/customer/input" interval="5000"></div>
			]]>
		</programlisting>
	</para>
</chapter>


