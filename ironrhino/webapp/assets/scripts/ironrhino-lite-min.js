/*
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
 Copyright (C) 2011 Alex Gorbatchev. All rights reserved.
 license MIT License
*/
(function(a,b,c){b=navigator.userAgent.toLowerCase();c=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];b=c[1]||"";c=c[2]||"0";var e={};b&&(e[b]=!0,e.version=c);e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0);a.browser=e})(jQuery,window);
jQuery.cookie=function(a,b,c){if(1<arguments.length&&(null===b||"object"!==typeof b)){c=jQuery.extend({},c);null===b&&(c.expires=-1);if("number"===typeof c.expires){var e=c.expires,d=c.expires=new Date;d.setDate(d.getDate()+e)}return document.cookie=[encodeURIComponent(a),"=",c.raw?String(b):encodeURIComponent(String(b)),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};d=c.raw?function(a){return a}:
decodeURIComponent;return(e=RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?d(e[1]):null};
(function(a){a.fn.rc4=function(c){var b=a.extend({key:null,method:"encrypt",callback:null},c);null==a.fn.rc4.ctrlrInst&&(a.fn.rc4.ctrlrInst=new a.fn.rc4.ctrlr(b));return this.each(function(){a.fn.rc4.ctrlrInst.settings=b;a.fn.rc4.ctrlrInst.container=this;a.fn.rc4.ctrlrInst.initialise(this)})};a.extend({hexEncode:function(a){for(var b=[],d=0;256>d;d++)b[d]="0123456789abcdef".charAt(d>>4)+"0123456789abcdef".charAt(d&15);for(var f=[],d=0;d<a.length;d++)f[d]=b[a.charCodeAt(d)];return f.join("")},hexDecode:function(a){for(var b=
[],d=0;256>d;d++)b["0123456789abcdef".charAt(d>>4)+"0123456789abcdef".charAt(d&15)]=String.fromCharCode(d);if(!a.match(/^[a-f0-9]*$/i))return!1;a.length%2&&(a="0"+a);for(var f=[],g=0,d=0;d<a.length;d+=2)f[g++]=b[a.substr(d,2)];return f.join("")},rc4Encrypt:function(a,b){s=[];for(var d=0;256>d;d++)s[d]=d;for(var f=0,g,d=0;256>d;d++)f=(f+s[d]+a.charCodeAt(d%a.length))%256,g=s[d],s[d]=s[f],s[f]=g;for(var f=d=0,k="",l=0;l<b.length;l++)d=(d+1)%256,f=(f+s[d])%256,g=s[d],s[d]=s[f],s[f]=g,k+=String.fromCharCode(b.charCodeAt(l)^
s[(s[d]+s[f])%256]);return k},rc4Decrypt:function(c,b){return a.rc4Encrypt(c,b)},rc4EncryptStr:function(c,b){return a.hexEncode(a.rc4Encrypt(b,unescape(encodeURIComponent(c))))},rc4DecryptStr:function(c,b){return decodeURIComponent(escape(a.rc4Decrypt(b,a.hexDecode(c))))}});a.rc4={};a.fn.rc4.ctrlrInst=null;a.fn.rc4.ctrlr=function(a){this.settings=a};var b=a.fn.rc4.ctrlr;b.prototype.initialise=function(){this.settings.key&&this.settings.method&&("ENCRYPT"==a.trim(this.settings.method.toUpperCase())&&
this.setObjectValue(a.hexEncode(a.rc4Encrypt(this.settings.key,this.getObjectValue()))),"DECRYPT"==a.trim(this.settings.method.toUpperCase())&&this.setObjectValue(a.rc4Decrypt(this.settings.key,a.hexDecode(this.getObjectValue()))))};b.prototype.getObjectValue=function(){if(a.fn.rc4.ctrlrInst.container.innerHTML)return a.fn.rc4.ctrlrInst.container.innerHTML;if(a.fn.rc4.ctrlrInst.container.value)return a.fn.rc4.ctrlrInst.container.value};b.prototype.setObjectValue=function(c){a.fn.rc4.ctrlrInst.container.innerHTML&&
(a.fn.rc4.ctrlrInst.container.innerHTML=c);a.fn.rc4.ctrlrInst.container.value&&(a.fn.rc4.ctrlrInst.container.value=c)}})(jQuery);
(function(a){function b(){if(a.fn.ajaxSubmit.debug){var c="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(c):window.opera&&window.opera.postError&&window.opera.postError(c)}}a.fn.ajaxSubmit=function(c){function e(d){for(var b=new FormData,f=0;f<d.length;f++)"file"!=d[f].type&&b.append(d[f].name,d[f].value);k.find("input:file:enabled").each(function(){var c=a(this).attr("name"),d=this.files;if(c)for(var f=0;f<d.length;f++)b.append(c,d[f])});
if(c.extraData)for(var g in c.extraData)b.append(g,c.extraData[g]);c.data=null;d=a.extend(!0,{},a.ajaxSettings,c,{contentType:!1,processData:!1,cache:!1,type:"POST"});d.data=null;var e=d.beforeSend;d.beforeSend=function(a,d){d.data=b;a.upload&&(a.upload.onprogress=function(a){d.progress(a.position,a.total)});e&&e.call(d,a,c)};a.ajax(d)}function d(d){function g(){function d(){try{var a=(t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document).readyState;b("state = "+
a);"uninitialized"==a.toLowerCase()&&setTimeout(d,50)}catch(c){b("Server abort: ",c," (",c.name,")"),e(B),y&&clearTimeout(y),y=void 0}}var c=k.attr("target"),h=k.attr("action");l.setAttribute("target",q);f||l.setAttribute("method","POST");h!=n.url&&l.setAttribute("action",n.url);n.skipEncodingOverride||f&&!/post/i.test(f)||k.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});n.timeout&&(y=setTimeout(function(){C=!0;e(D)},n.timeout));var m=[];try{if(n.extraData)for(var x in n.extraData)m.push(a('<input type="hidden" name="'+
x+'">').attr("value",n.extraData[x]).appendTo(l)[0]);n.iframeTarget||(w.appendTo("body"),t.attachEvent?t.attachEvent("onload",e):t.addEventListener("load",e,!1));setTimeout(d,15);l.submit()}finally{l.setAttribute("action",h),c?l.setAttribute("target",c):k.removeAttr("target"),a(m).remove()}}function e(d){if(!p.aborted&&!E){try{u=t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document}catch(c){b("cannot access response document: ",c),d=B}if(d===D&&p)p.abort("timeout");
else if(d==B&&p)p.abort("server abort");else if(u&&u.location.href!=n.iframeSrc||C){t.detachEvent?t.detachEvent("onload",e):t.removeEventListener("load",e,!1);d="success";var f;try{if(C)throw"timeout";var k="xml"==n.dataType||u.XMLDocument||a.isXMLDoc(u);b("isXml="+k);if(!k&&window.opera&&(null==u.body||""==u.body.innerHTML)&&--I){b("requeing onLoad callback, DOM not available");setTimeout(e,250);return}var g=u.body?u.body:u.documentElement;p.responseText=g?g.innerHTML:null;p.responseXML=u.XMLDocument?
u.XMLDocument:u;k&&(n.dataType="xml");p.getResponseHeader=function(a){return{"content-type":n.dataType}[a]};g&&(p.status=Number(g.getAttribute("status"))||p.status,p.statusText=g.getAttribute("statusText")||p.statusText);var l=(n.dataType||"").toLowerCase(),h=/(json|script|text)/.test(l);if(h||n.textarea){var m=u.getElementsByTagName("textarea")[0];if(m)p.responseText=m.value,p.status=Number(m.getAttribute("status"))||p.status,p.statusText=m.getAttribute("statusText")||p.statusText;else if(h){var x=
u.getElementsByTagName("pre")[0],A=u.getElementsByTagName("body")[0];x?p.responseText=x.textContent?x.textContent:x.innerText:A&&(p.responseText=A.textContent?A.textContent:A.innerText)}}else"xml"!=l||p.responseXML||null==p.responseText||(p.responseXML=J(p.responseText));try{F=K(p,l,n)}catch(H){d="parsererror",p.error=f=H||d}}catch(q){b("error caught: ",q),d="error",p.error=f=q||d}p.aborted&&(b("upload aborted"),d=null);p.status&&(d=200<=p.status&&300>p.status||304===p.status?"success":"error");"success"===
d?(n.success&&n.success.call(n.context,F,"success",p),r&&a.event.trigger("ajaxSuccess",[p,n])):d&&(void 0==f&&(f=p.statusText),n.error&&n.error.call(n.context,p,d,f),r&&a.event.trigger("ajaxError",[p,n,f]));r&&a.event.trigger("ajaxComplete",[p,n]);r&&!--a.active&&a.event.trigger("ajaxStop");n.complete&&n.complete.call(n.context,p,d);E=!0;n.timeout&&clearTimeout(y);setTimeout(function(){n.iframeTarget||w.remove();p.responseXML=null},100)}}}var l=k[0],h,m,n,r,q,w,t,p,C,y;h=!!a.fn.prop;if(d)if(h)for(m=
0;m<d.length;m++)h=a(l[d[m].name]),h.prop("disabled",!1);else for(m=0;m<d.length;m++)h=a(l[d[m].name]),h.removeAttr("disabled");if(a(":input[name=submit],:input[id=submit]",l).length)alert('Error: Form elements must not have name or id of "submit".');else if(n=a.extend(!0,{},a.ajaxSettings,c),n.context=n.context||n,q="jqFormIO"+(new Date).getTime(),n.iframeTarget?(w=a(n.iframeTarget),h=w.attr("name"),null==h?w.attr("name",q):q=h):(w=a('<iframe name="'+q+'" src="'+n.iframeSrc+'" />'),w.css({position:"absolute",
top:"-1000px",left:"-1000px"})),t=w[0],p={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(d){var c="timeout"===d?"timeout":"aborted";b("aborting upload... "+c);this.aborted=1;w.attr("src",n.iframeSrc);p.error=c;n.error&&n.error.call(n.context,p,c,d);r&&a.event.trigger("ajaxError",[p,n,c]);n.complete&&n.complete.call(n.context,p,c)}},(r=n.global)&&!a.active++&&a.event.trigger("ajaxStart"),
r&&a.event.trigger("ajaxSend",[p,n]),n.beforeSend&&!1===n.beforeSend.call(n.context,p,n))n.global&&a.active--;else if(!p.aborted){(d=l.clk)&&(h=d.name)&&!d.disabled&&(n.extraData=n.extraData||{},n.extraData[h]=d.value,"image"==d.type&&(n.extraData[h+".x"]=l.clk_x,n.extraData[h+".y"]=l.clk_y));var D=1,B=2;d=a("meta[name=csrf-token]").attr("content");(h=a("meta[name=csrf-param]").attr("content"))&&d&&(n.extraData=n.extraData||{},n.extraData[h]=d);n.forceSync?g():setTimeout(g,10);var F,u,I=50,E,J=a.parseXML||
function(a,d){window.ActiveXObject?(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a)):d=(new DOMParser).parseFromString(a,"text/xml");return d&&d.documentElement&&"parsererror"!=d.documentElement.nodeName?d:null},L=a.parseJSON||function(a){return window.eval("("+a+")")},K=function(d,c,b){var f=d.getResponseHeader("content-type")||"",k="xml"===c||!c&&0<=f.indexOf("xml");d=k?d.responseXML:d.responseText;k&&"parsererror"===d.documentElement.nodeName&&a.error&&a.error("parsererror");
b&&b.dataFilter&&(d=b.dataFilter(d,c));"string"===typeof d&&("json"===c||!c&&0<=f.indexOf("json")?d=L(d):("script"===c||!c&&0<=f.indexOf("javascript"))&&a.globalEval(d));return d}}}if(!this.length)return b("ajaxSubmit: skipping submit process - no element selected"),this;var f,g,k=this;"function"==typeof c&&(c={success:c});f=this.attr("method");g=this.attr("action");(g=(g="string"===typeof g?a.trim(g):"")||window.location.href||"")&&(g=(g.match(/^([^#]+)/)||[])[1]);c=a.extend(!0,{url:g,success:a.ajaxSettings.success,
type:f||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);g={};this.trigger("form-pre-serialize",[this,c,g]);if(g.veto)return b("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(c.beforeSerialize&&!1===c.beforeSerialize(this,c))return b("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var l=c.traditional;void 0===l&&(l=a.ajaxSettings.traditional);var m,h=this.formToArray(c.semantic);c.data&&(c.extraData=c.data,m=a.param(c.data,
l));if(c.beforeSubmit&&!1===c.beforeSubmit(h,this,c))return b("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[h,this,c,g]);if(g.veto)return b("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;g=a.param(h,l);m&&(g=g?g+"&"+m:m);"GET"==c.type.toUpperCase()?(c.url+=(0<=c.url.indexOf("?")?"&":"?")+g,c.data=null):c.data=g;var r=[];c.resetForm&&r.push(function(){k.resetForm()});c.clearForm&&r.push(function(){k.clearForm(c.includeHidden)});
if(!c.dataType&&c.target){var q=c.success||function(){};r.push(function(d){var b=c.replaceTarget?"replaceWith":"html";a(c.target)[b](d).each(q,arguments)})}else c.success&&r.push(c.success);c.success=function(a,d,b){for(var f=c.context||c,g=0,e=r.length;g<e;g++)r[g].apply(f,[a,d,b||k,k])};l=a("input:file:enabled[value]",this);m=0<l.length;g="multipart/form-data"==k.attr("enctype")||"multipart/form-data"==k.attr("encoding");l=!!(m&&l.get(0).files&&window.FormData);b("fileAPI :"+l);!1!==c.iframe&&(c.iframe||
(m||g)&&!l)?c.closeKeepAlive?a.get(c.closeKeepAlive,function(){d(h)}):d(h):(m||g)&&l?(c.progress=c.progress||a.noop,e(h)):a.ajax(c);this.trigger("form-submit-notify",[this,c]);return this};a.fn.ajaxForm=function(c){if(0===this.length){var e=this.selector,d=this.context;if(!a.isReady&&e)return b("DOM not ready, queuing ajaxForm"),a(function(){a(e,d).ajaxForm(c)}),this;b("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",
function(d){d.isDefaultPrevented()||(d.preventDefault(),a(this).ajaxSubmit(c))}).bind("click.form-plugin",function(d){var c=d.target,b=a(c);if(!b.is(":submit,input:image")){c=b.closest(":submit");if(0==c.length)return;c=c[0]}var e=this;e.clk=c;"image"==c.type&&(void 0!=d.offsetX?(e.clk_x=d.offsetX,e.clk_y=d.offsetY):"function"==typeof a.fn.offset?(b=b.offset(),e.clk_x=d.pageX-b.left,e.clk_y=d.pageY-b.top):(e.clk_x=d.pageX-c.offsetLeft,e.clk_y=d.pageY-c.offsetTop));setTimeout(function(){e.clk=e.clk_x=
e.clk_y=null},100)})};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(c){var b=[];if(0===this.length)return b;var d=this[0],f=c?d.getElementsByTagName("*"):d.elements;if(!f)return b;var g,k,l,m,h,r;g=0;for(h=f.length;g<h;g++)if(k=f[g],l=k.name)if(c&&d.clk&&"image"==k.type)k.disabled||d.clk!=k||(b.push({name:l,value:a(k).val(),type:k.type}),b.push({name:l+".x",value:d.clk_x},{name:l+".y",value:d.clk_y}));else if((m=a.fieldValue(k,
!0))&&m.constructor==Array)for(k=0,r=m.length;k<r;k++)b.push({name:l,value:m[k]});else null!==m&&"undefined"!=typeof m&&b.push({name:l,value:m,type:k.type});!c&&d.clk&&(c=a(d.clk),f=c[0],(l=f.name)&&!f.disabled&&"image"==f.type&&(b.push({name:l,value:c.val()}),b.push({name:l+".x",value:d.clk_x},{name:l+".y",value:d.clk_y})));return b};a.fn.formSerialize=function(c){return a.param(this.formToArray(c))};a.fn.fieldSerialize=function(c){var b=[];this.each(function(){var d=this.name;if(d){var f=a.fieldValue(this,
c);if(f&&f.constructor==Array)for(var g=0,k=f.length;g<k;g++)b.push({name:d,value:f[g]});else null!==f&&"undefined"!=typeof f&&b.push({name:this.name,value:f})}});return a.param(b)};a.fn.fieldValue=function(c){for(var b=[],d=0,f=this.length;d<f;d++){var g=a.fieldValue(this[d],c);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(b,g):b.push(g))}return b};a.fieldValue=function(c,b){var d=c.name,f=c.type,g=c.tagName.toLowerCase();void 0===b&&(b=!0);if(b&&
(!d||c.disabled||"reset"==f||"button"==f||("checkbox"==f||"radio"==f)&&!c.checked||("submit"==f||"image"==f)&&c.form&&c.form.clk!=c||"select"==g&&-1==c.selectedIndex))return null;if("select"==g){var k=c.selectedIndex;if(0>k)return null;for(var d=[],g=c.options,l=(f="select-one"==f)?k+1:g.length,k=f?k:0;k<l;k++){var m=g[k];if(m.selected){var h=m.value;h||(h=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value);if(f)return h;d.push(h)}}return d}return a(c).val()};a.fn.clearForm=
function(c){return this.each(function(){a("input,select,textarea",this).clearFields(c)})};a.fn.clearFields=a.fn.clearInputs=function(a){var b=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,f=this.tagName.toLowerCase();b.test(d)||"textarea"==f||a&&/hidden/.test(d)?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==f&&(this.selectedIndex=-1)})};a.fn.resetForm=function(){return this.each(function(){("function"==
typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};a.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};a.fn.selected=function(c){void 0===c&&(c=!0);return this.each(function(){var b=this.type;"checkbox"==b||"radio"==b?this.checked=c:"option"==this.tagName.toLowerCase()&&(b=a(this).parent("select"),c&&b[0]&&"select-one"==b[0].type&&b.find("option").selected(!1),this.selected=c)})};a.fn.ajaxSubmit.debug=!1})(jQuery);
(function(a){function b(d){function b(d){var c=RegExp(a.map(d,encodeURIComponent).join("|"),"ig");return function(a){return a.replace(c,decodeURIComponent)}}d=a.extend({unescape:!1},d||{});c.encoder=function(a){return!0===a?function(a){return a}:"string"==typeof a&&(a=b(a.split("")))||"function"==typeof a?function(d){return a(encodeURIComponent(d))}:encodeURIComponent}(d.unescape)}var c={put:function(a,d){(d||window).location.hash=this.encoder(a)},get:function(d){d=(d||window).location.hash.replace(/^#/,
"");try{return a.browser.mozilla?d:decodeURIComponent(d)}catch(c){return d}},encoder:encodeURIComponent},e={id:"__jQuery_history",init:function(){var d='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';a("body").prepend(d);return this},_document:function(){return a("#"+this.id)[0].contentWindow.document},put:function(a){var d=this._document();d.open();d.close();c.put(a,d)},get:function(){return c.get(this._document())}},d={base:{callback:void 0,type:void 0,check:function(){},
load:function(a){},init:function(a,d){b(d);f.callback=a;f._options=d;f._init()},_init:function(){},_options:{}},timer:{_appState:void 0,_init:function(){var a=c.get();f._appState=a;f.callback(a);setInterval(f.check,100)},check:function(){var a=c.get();a!=f._appState&&(f._appState=a,f.callback(a))},load:function(a){a!=f._appState&&(c.put(a),f._appState=a,f.callback(a))}},iframeTimer:{_appState:void 0,_init:function(){var a=c.get();f._appState=a;e.init().put(a);f.callback(a);setInterval(f.check,100)},
check:function(){var a=e.get(),d=c.get();d!=a&&(d==f._appState?(f._appState=a,c.put(a),f.callback(a)):(f._appState=d,e.put(d),f.callback(d)))},load:function(a){a!=f._appState&&(c.put(a),e.put(a),f._appState=a,f.callback(a))}},hashchangeEvent:{_init:function(){f.callback(c.get());a(window).bind("hashchange",f.check)},check:function(){f.callback(c.get())},load:function(a){c.put(a)}}},f=a.extend({},d.base);f.type=a.browser.msie&&(8>a.browser.version||8>document.documentMode)?"iframeTimer":"onhashchange"in
window?"hashchangeEvent":"timer";a.extend(f,d[f.type]);a.history=f})(jQuery);
(function(a){a.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:0.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(b,c,e){null==c&&(c="Alert");a.alerts._show(c,b,null,"alert",function(a){e&&e(a)})},confirm:function(b,c,e){null==c&&(c="Confirm");a.alerts._show(c,b,null,"confirm",function(a){e&&e(a)})},prompt:function(b,c,e,d){null==e&&(e="Prompt");a.alerts._show(e,b,c,"prompt",function(a){d&&
d(a)})},_show:function(b,c,e,d,f){a.alerts._hide();a.alerts._overlay("show");a("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_icon"></div><div id="popup_message"></div></div></div>');a.alerts.dialogClass&&a("#popup_container").addClass(a.alerts.dialogClass);var g=a.browser.msie&&6>=parseInt(a.browser.version)?"absolute":"fixed";a("#popup_container").css({position:g,zIndex:99999,padding:0,margin:0});a("#popup_title").text(b);a("#popup_content").addClass(d);
a("#popup_message").text(c);a("#popup_message").html(a("#popup_message").text().replace(/\n/g,"<br />"));a("#popup_container").css({minWidth:a("#popup_container").outerWidth(),maxWidth:a("#popup_container").outerWidth()});a.alerts._reposition();a.alerts._maintainPosition(!0);switch(d){case "alert":a("#popup_message").after('<div id="popup_panel"><button id="popup_ok" class="btn">'+a.alerts.okButton+"</button></div>");a("#popup_ok").click(function(){a.alerts._hide();f(!0)});a("#popup_ok").focus().keypress(function(d){13!=
d.keyCode&&27!=d.keyCode||a("#popup_ok").trigger("click")});break;case "confirm":a("#popup_message").after('<div id="popup_panel"><button id="popup_ok" class="btn btn-primary">'+a.alerts.okButton+'</button> <button id="popup_cancel" class="btn">'+a.alerts.cancelButton+"</button></div>");a("#popup_ok").click(function(){a.alerts._hide();f&&f(!0)});a("#popup_cancel").click(function(){a.alerts._hide();f&&f(!1)});a("#popup_ok").focus();a("#popup_ok, #popup_cancel").keypress(function(d){13==d.keyCode&&
a("#popup_ok").trigger("click");27==d.keyCode&&a("#popup_cancel").trigger("click")});break;case "prompt":a("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><button id="popup_ok" class="btn">'+a.alerts.okButton+'</button> <button id="popup_cancel" class="btn">'+a.alerts.cancelButton+"</button></div>"),a("#popup_prompt").width(a("#popup_message").width()),a("#popup_ok").click(function(){var d=a("#popup_prompt").val();a.alerts._hide();f&&
f(d)}),a("#popup_cancel").click(function(){a.alerts._hide();f&&f(null)}),a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(d){13==d.keyCode&&a("#popup_ok").trigger("click");27==d.keyCode&&a("#popup_cancel").trigger("click")}),e&&a("#popup_prompt").val(e),a("#popup_prompt").focus().select()}if(a.alerts.draggable)try{a("#popup_container").draggable({handle:a("#popup_title")}),a("#popup_title").css({cursor:"move"})}catch(k){}},_hide:function(){a("#popup_container").remove();a.alerts._overlay("hide");
a.alerts._maintainPosition(!1)},_overlay:function(b){switch(b){case "show":a.alerts._overlay("hide");a("BODY").append('<div id="popup_overlay"></div>');a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:a.alerts.overlayColor,opacity:a.alerts.overlayOpacity});break;case "hide":a("#popup_overlay").remove()}},_reposition:function(){var b=a(window).height()/2-a("#popup_container").outerHeight()/2+a.alerts.verticalOffset,c=
a(window).width()/2-a("#popup_container").outerWidth()/2+a.alerts.horizontalOffset;0>b&&(b=0);0>c&&(c=0);a.browser.msie&&6>=parseInt(a.browser.version)&&(b+=a(window).scrollTop());a("#popup_container").css({top:b+"px",left:c+"px"});a("#popup_overlay").height(a(document).height())},_maintainPosition:function(b){if(a.alerts.repositionOnResize)switch(b){case !0:a(window).bind("resize",a.alerts._reposition);break;case !1:a(window).unbind("resize",a.alerts._reposition)}}};jAlert=function(b,c,e){a.alerts.alert(b,
c,e)};jConfirm=function(b,c,e){a.alerts.confirm(b,c,e)};jPrompt=function(b,c,e,d){a.alerts.prompt(b,c,e,d)}})(jQuery);
(function(a,b){function c(){}function e(){}function d(){}function f(a,d){"string"===typeof d&&(d=d.split("."));var c=d.join(".").replace(/\.(\w)/g,function(a,d){return d.toUpperCase()}),b=d.shift(),k;typeof(k=a[c])==r&&typeof(k=a[b])!=r&&0<d.length&&(k=f(k,d));return k}function g(){function a(d,f){b.bind(d,function(){return f.apply(c,arguments)})}var d=m.apply(arguments),c=this,b=1===d.length?c:d.shift(),f,d=d[0]||{};for(f in d)a(f,d[f])}function k(a,d){return{input:a,form:d}}var l=(JSON||{}).stringify,
m=Array.prototype.slice,h,r="undefined",q={itemManager:e,plugins:[],ext:{},html:{wrap:'<div class="text-core"><div class="text-wrap"/></div>',hidden:'<input type="hidden" />'},keys:{8:"backspace",9:"tab",13:"enter!",27:"escape!",37:"left",38:"up!",39:"right",40:"down!",46:"delete",108:"numpadEnter"}};if(!l)throw Error("JSON.stringify() not found");h=e.prototype;h.init=function(a){};h.filter=function(a,d){var c=[],b,f;for(b=0;b<a.length;b++)f=a[b],this.itemContains(f,d)&&c.push(f);return c};h.itemContains=
function(a,d){return 0==this.itemToString(a).toLowerCase().indexOf(d.toLowerCase())};h.stringToItem=function(a){return a};h.itemToString=function(a){return a};h.compareItems=function(a,d){return a==d};h=c.prototype;h.init=function(d,c){var b=this,f,k,e;b._defaults=a.extend({},q);b._opts=c||{};b._plugins={};b._itemManager=k=new (b.opts("item.manager"));d=a(d);e=a(b.opts("html.wrap"));f=a(b.opts("html.hidden"));d.wrap(e).keydown(function(a){return b.onKeyDown(a)}).keyup(function(a){return b.onKeyUp(a)}).data("textext",
b);a(b).data({hiddenInput:f,wrapElement:d.parents(".text-wrap").first(),input:d});f.attr("name",d.attr("name"));d.attr("name",null);f.insertAfter(d);a.extend(!0,k,b.opts("ext.item.manager"));a.extend(!0,b,b.opts("ext.*"),b.opts("ext.core"));b.originalWidth=d.outerWidth();b.invalidateBounds();k.init(b);b.initPatches();b.initPlugins(b.opts("plugins"),a.fn.textext.plugins);b.on({setFormData:b.onSetFormData,getFormData:b.onGetFormData,setInputData:b.onSetInputData,anyKeyUp:b.onAnyKeyUp});b.trigger("postInit");
b.trigger("ready");b.getFormData(0)};h.initPatches=function(){var d=[],b=a.fn.textext.patches,c;for(c in b)d.push(c);this.initPlugins(d,b)};h.initPlugins=function(d,b){var c,f,k=[],e;"string"==typeof d&&(d=d.split(/\s*,\s*|\s+/g));for(e=0;e<d.length;e++)if(c=d[e],f=b[c])this._plugins[c]=f=new f,this[c]=function(a){return function(){return a}}(f),k.push(f),a.extend(!0,f,this.opts("ext.*"),this.opts("ext."+c));k.sort(function(a,d){a=a.initPriority();d=d.initPriority();return a===d?0:a<d?1:-1});for(e=
0;e<k.length;e++)k[e].init(this)};h.hasPlugin=function(a){return!!this._plugins[a]};h.on=g;h.bind=function(a,d){this.input().bind(a,d)};h.trigger=function(){var a=arguments;this.input().trigger(a[0],m.call(a,1))};h.itemManager=function(){return this._itemManager};h.input=function(){return a(this).data("input")};h.opts=function(a){var d=f(this._opts,a);return"undefined"==typeof d?f(this._defaults,a):d};h.wrapElement=function(){return a(this).data("wrapElement")};h.invalidateBounds=function(){var a=
this.input(),d=this.wrapElement(),b=d.parent(),c=this.originalWidth,f;this.trigger("preInvalidate");f=a.outerHeight();a.outerWidth(c);d.width(c).height(f);b.height(f);this.trigger("postInvalidate")};h.focusInput=function(){this.input()[0].focus()};h.serializeData=l;h.hiddenInput=function(d){return a(this).data("hiddenInput")};h.getWeightedEventResponse=function(a,d){var b={},c=0;this.trigger(a,b,d);for(var f in b)c=Math.max(c,f);return b[c]};h.getFormData=function(a){a=this.getWeightedEventResponse("getFormData",
a||0);this.trigger("setFormData",a.form);this.trigger("setInputData",a.input)};h.onAnyKeyUp=function(a,d){this.getFormData(d)};h.onSetInputData=function(a,d){this.input().val(d)};h.onSetFormData=function(a,d){this.hiddenInput().val(this.serializeData(d))};h.onGetFormData=function(a,d){var b=this.input().val();d[0]=k(b,b)};a(["Down","Up"]).each(function(){var a=this.toString();h["onKey"+a]=function(d){var b=this.opts("keys")[d.keyCode],c=!0;b&&(c="!"!=b.substr(-1),b=b.replace("!",""),this.trigger(b+
"Key"+a),"Up"==a&&this._lastKeyDown==d.keyCode&&(this._lastKeyDown=null,this.trigger(b+"KeyPress")),"Down"==a&&(this._lastKeyDown=d.keyCode));this.trigger("anyKey"+a,d.keyCode);return c}});h=d.prototype;h.on=g;h.formDataObject=k;h.init=function(a){throw Error("Not implemented");};h.baseInit=function(d,b){d._defaults=a.extend(!0,d._defaults,b);this._core=d;this._timers={}};h.startTimer=function(a,d,b){var c=this;c.stopTimer(a);c._timers[a]=setTimeout(function(){delete c._timers[a];b.apply(c)},1E3*
d)};h.stopTimer=function(a){clearTimeout(this._timers[a])};h.core=function(){return this._core};h.opts=function(a){return this.core().opts(a)};h.itemManager=function(){return this.core().itemManager()};h.input=function(){return this.core().input()};h.val=function(a){var d=this.input();if(typeof a===r)return d.val();d.val(a)};h.trigger=function(){var a=this.core();a.trigger.apply(a,arguments)};h.bind=function(a,d){this.core().bind(a,d)};h.initPriority=function(){return 0};var z=!1,v=a.fn.textext=function(d){var b;
z||null==(b=a.fn.textext.css)||(a("head").append("<style>"+b+"</style>"),z=!0);return this.map(function(){var b=a(this);if(null==d)return b.data("textext");var f=new c;f.init(b,d);b.data("textext",f);return f.input()[0]})};v.addPlugin=function(a,d){v.plugins[a]=d;d.prototype=new v.TextExtPlugin};v.addPatch=function(a,d){v.patches[a]=d;d.prototype=new v.TextExtPlugin};v.TextExt=c;v.TextExtPlugin=d;v.ItemManager=e;v.plugins={};v.patches={}})(jQuery);
(function(a){function b(){}a.fn.textext.TextExtIE9Patches=b;a.fn.textext.addPatch("ie9",b);a=b.prototype;a.init=function(a){if(-1!=navigator.userAgent.indexOf("MSIE 9"))a.on({postInvalidate:this.onPostInvalidate})};a.onPostInvalidate=function(){var a=this.input(),b=a.val();a.val(Math.random());a.val(b)}})(jQuery);
(function(a){function b(){}a.fn.textext.TextExtAjax=b;a.fn.textext.addPlugin("ajax",b);var c=b.prototype,e={ajax:{typeDelay:0.5,loadingMessage:"Loading...",loadingDelay:0.5,cacheResults:!1,dataCallback:null}};c.init=function(a){this.baseInit(a,e);this.on({getSuggestions:this.onGetSuggestions});this._suggestions=null};c.load=function(d){var b=this,c=b.opts("ajax.data.callback")||function(a){return{q:a}},c=a.extend(!0,{data:c(d),success:function(a){b.onComplete(a,d)},error:function(a,b){console.error(b,
d)}},b.opts("ajax"));a.ajax(c)};c.onComplete=function(a,b){var c=a;this.dontShowLoading();!0==this.opts("ajax.cache.results")&&(this._suggestions=a,c=this.itemManager().filter(a,b));this.trigger("setSuggestions",{result:c})};c.dontShowLoading=function(){this.stopTimer("loading")};c.showLoading=function(){var a=this;a.dontShowLoading();a.startTimer("loading",a.opts("ajax.loading.delay"),function(){a.trigger("showDropdown",function(b){b.clearItems();b.addDropdownItem(a.opts("ajax.loading.message")).addClass("text-loading")})})};
c.onGetSuggestions=function(a,b){var c=this,k=c._suggestions,e=(b||{}).query||"";if(k&&!0===c.opts("ajax.cache.results"))return c.onComplete(k,e);c.startTimer("ajax",c.opts("ajax.type.delay"),function(){c.showLoading();c.load(e)})}})(jQuery);
(function(a){function b(){}a.fn.textext.TextExtArrow=b;a.fn.textext.addPlugin("arrow",b);var c=b.prototype,e={html:{arrow:'<div class="text-arrow"/>'}};c.init=function(d){var b=this;b.baseInit(d,e);b._arrow=d=a(b.opts("html.arrow"));b.core().wrapElement().append(d);d.bind("click",function(a){b.onArrowClick(a)})};c.onArrowClick=function(a){this.trigger("toggleDropdown");this.core().focusInput()}})(jQuery);
(function(a){function b(){}a.fn.textext.TextExtAutocomplete=b;a.fn.textext.addPlugin("autocomplete",b);var c=b.prototype,e={autocomplete:{enabled:!0,dropdown:{position:"below",maxHeight:"100px"}},html:{dropdown:'<div class="text-dropdown"><div class="text-list"/></div>',suggestion:'<div class="text-suggestion"><span class="text-label"/></div>'}};c.init=function(d){var b=this;b.baseInit(d,e);d=b.input();var c;!0===b.opts("autocomplete.enabled")&&(b.on({blur:b.onBlur,anyKeyUp:b.onAnyKeyUp,deleteKeyUp:b.onAnyKeyUp,
backspaceKeyPress:b.onBackspaceKeyPress,enterKeyPress:b.onEnterKeyPress,escapeKeyPress:b.onEscapeKeyPress,setSuggestions:b.onSetSuggestions,showDropdown:b.onShowDropdown,hideDropdown:b.onHideDropdown,toggleDropdown:b.onToggleDropdown,postInvalidate:b.positionDropdown,getFormData:b.onGetFormData,downKeyDown:b.onDownKeyDown,upKeyDown:b.onUpKeyDown}),c=a(b.opts("html.dropdown")),c.insertAfter(d),b.on(c,{mouseover:b.onMouseOver,mousedown:b.onMouseDown,click:b.onClick}),c.css("maxHeight",b.opts("autocomplete.dropdown.maxHeight")).addClass("text-position-"+
b.opts("autocomplete.dropdown.position")),a(b).data("container",c),a(document.body).click(function(a){b.isDropdownVisible()&&!b.withinWrapElement(a.target)&&b.trigger("hideDropdown")}),b.positionDropdown())};c.containerElement=function(){return a(this).data("container")};c.onMouseOver=function(d){d=a(d.target).closest(".text-suggestion");d.is(".text-suggestion")&&(this.clearSelected(),d.addClass("text-selected"))};c.onMouseDown=function(a){this.containerElement().data("mousedownOnAutocomplete",!0)};
c.onClick=function(d){d=a(d.target).closest(".text-label");(d.is(".text-suggestion")||d.is(".text-label"))&&this.trigger("enterKeyPress");this.core().hasPlugin("tags")&&this.val("")};c.onBlur=function(a){a=this.containerElement();var b=!0===a.data("mousedownOnAutocomplete");this.isDropdownVisible()&&(b?this.core().focusInput():this.trigger("hideDropdown"));a.removeData("mousedownOnAutocomplete")};c.onBackspaceKeyPress=function(a){(0<this.val().length||this.isDropdownVisible())&&this.getSuggestions()};
c.onAnyKeyUp=function(a,b){var c=null!=this.opts("keys."+b);0<this.val().length&&!c&&this.getSuggestions()};c.onDownKeyDown=function(a){this.isDropdownVisible()?this.toggleNextSuggestion():this.getSuggestions()};c.onUpKeyDown=function(a){this.togglePreviousSuggestion()};c.onEnterKeyPress=function(a){this.isDropdownVisible()&&this.selectFromDropdown()};c.onEscapeKeyPress=function(a){this.isDropdownVisible()&&this.trigger("hideDropdown")};c.positionDropdown=function(){var a=this.containerElement(),
b=this.opts("autocomplete.dropdown.position"),c=this.core().wrapElement().outerHeight(),k={};k["above"===b?"bottom":"top"]=c+"px";a.css(k)};c.suggestionElements=function(){return this.containerElement().find(".text-suggestion")};c.setSelectedSuggestion=function(d){if(d){var b=this.suggestionElements(),c=b.first(),k,e;this.clearSelected();for(e=0;e<b.length;e++)if(k=a(b[e]),this.itemManager().compareItems(k.data("text-suggestion"),d)){c=k.addClass("text-selected");break}c.addClass("text-selected");
this.scrollSuggestionIntoView(c)}};c.selectedSuggestionElement=function(){return this.suggestionElements().filter(".text-selected").first()};c.isDropdownVisible=function(){return!0===this.containerElement().is(":visible")};c.onGetFormData=function(a,b,c){a=this.val();b[100]=this.formDataObject(a,a)};c.initPriority=function(){return 200};c.onHideDropdown=function(a){this.hideDropdown()};c.onToggleDropdown=function(a){this.trigger(this.containerElement().is(":visible")?"hideDropdown":"showDropdown")};
c.onShowDropdown=function(d,b){var c=this.selectedSuggestionElement().data("text-suggestion");if(!this._suggestions)return this.trigger("getSuggestions");a.isFunction(b)?b(this):(this.renderSuggestions(this._suggestions),this.toggleNextSuggestion());this.showDropdown(this.containerElement());this.setSelectedSuggestion(c)};c.onSetSuggestions=function(a,b){var c=this._suggestions=b.result;!1!==b.showHideDropdown&&this.trigger(null===c||0===c.length?"hideDropdown":"showDropdown")};c.getSuggestions=function(){var a=
this.val();this._previousInputValue!=a&&(""==a&&(current=null),this._previousInputValue=a,this.trigger("getSuggestions",{query:a}))};c.clearItems=function(){this.containerElement().find(".text-list").children().remove()};c.renderSuggestions=function(d){var b=this;b.clearItems();a.each(d||[],function(a,d){b.addSuggestion(d)})};c.showDropdown=function(){this.containerElement().show()};c.hideDropdown=function(){var a=this.containerElement();this._previousInputValue=null;a.hide()};c.addSuggestion=function(a){var b=
this.opts("autocomplete.render");this.addDropdownItem(b?b.call(this,a):this.itemManager().itemToString(a)).data("text-suggestion",a)};c.addDropdownItem=function(b){var c=this.containerElement().find(".text-list"),e=a(this.opts("html.suggestion"));e.find(".text-label").html(b);c.append(e);return e};c.clearSelected=function(){this.suggestionElements().removeClass("text-selected")};c.toggleNextSuggestion=function(){var a=this.selectedSuggestionElement(),b;0<a.length?(b=a.next(),0<b.length&&a.removeClass("text-selected")):
b=this.suggestionElements().first();b.addClass("text-selected");this.scrollSuggestionIntoView(b)};c.togglePreviousSuggestion=function(){var a=this.selectedSuggestionElement().prev();0!=a.length&&(this.clearSelected(),a.addClass("text-selected"),this.scrollSuggestionIntoView(a))};c.scrollSuggestionIntoView=function(a){var b=a.outerHeight(),c=this.containerElement(),e=c.innerHeight(),l=c.scrollTop();a=(a.position()||{}).top;var m=null,h=parseInt(c.css("paddingTop"));null!=a&&(a+b>e&&(m=a+l+b-e+h),0>
a&&(m=a+l-h),null!=m&&c.scrollTop(m))};c.selectFromDropdown=function(){var a=this.selectedSuggestionElement().data("text-suggestion");a&&(this.val(this.itemManager().itemToString(a)),this.core().getFormData());this.trigger("hideDropdown")};c.withinWrapElement=function(a){return 0<this.core().wrapElement().find(a).size()}})(jQuery);
(function(a){function b(){}a.fn.textext.TextExtFilter=b;a.fn.textext.addPlugin("filter",b);a=b.prototype;var c={filter:{enabled:!0,items:null}};a.init=function(a){this.baseInit(a,c);this.on({getFormData:this.onGetFormData,isTagAllowed:this.onIsTagAllowed,setSuggestions:this.onSetSuggestions});this._suggestions=null};a.onGetFormData=function(a,b,c){a=this.val();c="";this.core().hasPlugin("tags")||(this.isValueAllowed(a)&&(c=a),b[300]=this.formDataObject(a,c))};a.isValueAllowed=function(a){var b=this.opts("filterItems")||
this._suggestions||[],c=this.itemManager(),g=!this.opts("filter.enabled"),k;for(k=0;k<b.length&&!g;k++)c.compareItems(a,b[k])&&(g=!0);return g};a.onIsTagAllowed=function(a,b){b.result=this.isValueAllowed(b.tag)};a.onSetSuggestions=function(a,b){this._suggestions=b.result}})(jQuery);
(function(a){function b(){}a.fn.textext.TextExtFocus=b;a.fn.textext.addPlugin("focus",b);a=b.prototype;var c={html:{focus:'<div class="text-focus"/>'}};a.init=function(a){this.baseInit(a,c);this.core().wrapElement().append(this.opts("html.focus"));this.on({blur:this.onBlur,focus:this.onFocus});this._timeoutId=0};a.onBlur=function(a){var b=this;clearTimeout(b._timeoutId);b._timeoutId=setTimeout(function(){b.getFocus().hide()},100)};a.onFocus=function(a){clearTimeout(this._timeoutId);this.getFocus().show()};
a.getFocus=function(){return this.core().wrapElement().find(".text-focus")}})(jQuery);
(function(a){function b(){}a.fn.textext.TextExtPrompt=b;a.fn.textext.addPlugin("prompt",b);var c=b.prototype,e={prompt:"Awaiting input...",html:{prompt:'<div class="text-prompt"/>'}};c.init=function(b){var c;this.baseInit(b,e);c=a(this.opts("html.prompt"));a(this).data("container",c);this.core().wrapElement().append(c);this.setPrompt(this.opts("prompt"));(c=b.input().attr("placeholder"))||(c=this.opts("prompt"));b.input().attr("placeholder","");c&&this.setPrompt(c);0<a.trim(this.val()).length&&this.hidePrompt();
this.on({blur:this.onBlur,focus:this.onFocus,postInvalidate:this.onPostInvalidate,postInit:this.onPostInit})};c.onPostInit=function(a){this.invalidateBounds()};c.onPostInvalidate=function(a){this.invalidateBounds()};c.invalidateBounds=function(){var a=this.input();this.containerElement().css({paddingLeft:a.css("paddingLeft"),paddingTop:a.css("paddingTop")})};c.onBlur=function(a){var b=this;b.startTimer("prompt",0.1,function(){b.showPrompt()})};c.showPrompt=function(){var b=this.input();0!==a.trim(this.val()).length||
b.is(":focus")||this.containerElement().removeClass("text-hide-prompt")};c.hidePrompt=function(){this.stopTimer("prompt");this.containerElement().addClass("text-hide-prompt")};c.onFocus=function(a){this.hidePrompt()};c.setPrompt=function(a){this.containerElement().text(a)};c.containerElement=function(){return a(this).data("container")}})(jQuery);
(function(a){function b(){}a.fn.textext.TextExtSuggestions=b;a.fn.textext.addPlugin("suggestions",b);a=b.prototype;var c={suggestions:null};a.init=function(a){this.baseInit(a,c);this.on({getSuggestions:this.onGetSuggestions,postInit:this.onPostInit})};a.setSuggestions=function(a,b){this.trigger("setSuggestions",{result:a,showHideDropdown:!1!=b})};a.onPostInit=function(a){this.setSuggestions(this.opts("suggestions"),!1)};a.onGetSuggestions=function(a,b){var c=this.opts("suggestions");c.sort();this.setSuggestions(this.itemManager().filter(c,
b.query))}})(jQuery);
(function(a){function b(){}a.fn.textext.TextExtTags=b;a.fn.textext.addPlugin("tags",b);var c=b.prototype,e="text-tag",d="."+e,f=".text-label",g={tags:{enabled:!0,items:null},html:{tags:'<div class="text-tags"/>',tag:'<div class="text-tag"><div class="text-button"><span class="text-label"/><a class="text-remove"/></div></div>'}};c.init=function(b){this.baseInit(b,g);b=this.input();var c;this.opts("tags.enabled")&&(c=a(this.opts("html.tags")),b.after(c),a(this).data("container",c),this.on({enterKeyPress:this.onEnterKeyPress,
backspaceKeyDown:this.onBackspaceKeyDown,preInvalidate:this.onPreInvalidate,postInit:this.onPostInit,getFormData:this.onGetFormData}),this.on(c,{click:this.onClick,mousemove:this.onContainerMouseMove}),this.on(b,{mousemove:this.onInputMouseMove}));this._originalPadding={left:parseInt(b.css("paddingLeft")||0),top:parseInt(b.css("paddingTop")||0)};this._paddingBox={left:0,top:0};this.updateFormCache()};c.containerElement=function(){return a(this).data("container")};c.onPostInit=function(a){this.addTags(this.opts("tags.items"))};
c.onGetFormData=function(a,b,c){a=13===c?"":this.val();b[200]=this.formDataObject(a,this._formData)};c.initPriority=function(){return 100};c.onInputMouseMove=function(a){this.toggleZIndex(a)};c.onContainerMouseMove=function(a){this.toggleZIndex(a)};c.onBackspaceKeyDown=function(a){a=this.tagElements().last();0==this.val().length&&this.removeTag(a)};c.onPreInvalidate=function(a){a=this.tagElements().last();var b=a.position();0<a.length?b.left+=a.innerWidth():b=this._originalPadding;this._paddingBox=
b;this.input().css({paddingLeft:b.left,paddingTop:b.top})};c.onClick=function(b){function c(a,b){q.data(e,a);q.find(f).text(g.itemManager().itemToString(a));g.updateFormCache();h.getFormData();h.invalidateBounds();b&&h.focusInput()}var g=this,h=g.core();b=a(b.target);var r=0,q;b.is(".text-tags")?r=1:b.is(".text-remove")?(g.removeTag(b.parents(d+":first")),r=1):b.is(f)&&(q=b.parents(d+":first"),g.trigger("tagClick",q,q.data(e),c));r&&h.focusInput()};c.onEnterKeyPress=function(a){a=this.val();a=this.itemManager().stringToItem(a);
this.isTagAllowed(a)&&(this.addTags([a]),this.core().focusInput())};c.updateFormCache=function(){var b=[];this.tagElements().each(function(){b.push(a(this).data(e))});this._formData=b};c.toggleZIndex=function(a){var b=this.input().offset(),c=a.clientX-b.left,d=a.clientY-b.top,f=this._paddingBox;a=this.containerElement();b=a.is(".text-tags-on-top");c=c>f.left&&d>f.top;if(!b&&!c||b&&c)a[(b?"remove":"add")+"Class"]("text-tags-on-top")};c.tagElements=function(){return this.containerElement().find(d)};
c.isTagAllowed=function(a){a={tag:a,result:!0};this.trigger("isTagAllowed",a);return!0===a.result};c.addTags=function(a){if(a&&0!=a.length){var b=this.core(),c=this.containerElement(),d,f;for(d=0;d<a.length;d++)(f=a[d])&&this.isTagAllowed(f)&&c.append(this.renderTag(f));this.updateFormCache();b.getFormData();b.invalidateBounds()}};c.getTagElement=function(b){var c=this.tagElements(),d,f;for(d=0;d<c.length,f=a(c[d]);d++)if(this.itemManager().compareItems(f.data(e),b))return f};c.removeTag=function(b){var c=
this.core(),d;b instanceof a?(d=b,b.data(e)):d=this.getTagElement(b);d.remove();this.updateFormCache();c.getFormData();c.invalidateBounds()};c.renderTag=function(b){var c=a(this.opts("html.tag"));c.find(".text-label").text(this.itemManager().itemToString(b));c.data(e,b);return c}})(jQuery);
(function(a,b){"$:nomunge";var c=a.jQuery||a.Cowboy||(a.Cowboy={}),e;c.throttle=e=function(a,f,e,k){function l(){function c(){h=+new Date;e.apply(z,G)}function l(){m=b}var z=this,v=+new Date-h,G=arguments;k&&!m&&c();m&&clearTimeout(m);k===b&&v>a?c():!0!==f&&(m=setTimeout(k?l:c,k===b?a-v:a))}var m,h=0;"boolean"!==typeof f&&(k=e,e=f,f=b);c.guid&&(l.guid=e.guid=e.guid||c.guid++);return l};c.debounce=function(a,c,g){return g===b?e(a,c,!1):e(a,g,!1!==c)}})(this);
MessageBundle={en:{"ajax.loading":"loading...","ajax.error":"network error,please try later",required:"please input value","selection.required":"please select",phone:"please input valid phone number",email:"please input valid email",regex:"please input valid value",integer:"must be a integer","integer.positive":"must be a positive integer","double":"must be a decimal","double.positive":"must be a positive decimal","save.and.create":"save and add","no.selection":"no selection","no.modification":"no modification",
select:"please select","confirm.delete":"are you sure to delete?","confirm.save":"are you sure to save?","confirm.exit":"you have unsaved modification,are you sure to exit?","confirm.action":"please confirm this action?","unsupported.browser":"unsupported browser","action.denied":"requested action denied","maximum.exceeded":"{0} , exceed maximum {1}","pattern.coords.invalid":"coords should be between {0} and {1}","data.invalid":"data invalid,please check it."},zh_CN:{"ajax.loading":"\u6b63\u5728\u52a0\u8f7d...",
"ajax.error":"\u9519\u8bef,\u8bf7\u7a0d\u540e\u518d\u8bd5",required:"\u8bf7\u586b\u5199","selection.required":"\u8bf7\u9009\u62e9",email:"email\u4e0d\u5408\u6cd5",regex:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u683c\u5f0f",phone:"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u53f7\u7801",integer:"\u8bf7\u586b\u5199\u6574\u6570","integer.positive":"\u8bf7\u586b\u5199\u6b63\u6574\u6570","double":"\u8bf7\u586b\u5199\u6570\u5b57","double.positive":"\u8bf7\u586b\u5199\u5927\u4e8e\u96f6\u7684\u6570\u503c","save.and.create":"\u4fdd\u5b58\u5e76\u65b0\u5efa",
"no.selection":"\u6ca1\u6709\u9009\u4e2d","no.modification":"\u6ca1\u6709\u66f4\u6539",add:"\u6dfb\u52a0",remove:"\u5220\u9664",browse:"\u6d4f\u89c8\u6587\u4ef6",select:"\u8bf7\u9009\u62e9",pick:"\u8bf7\u6311\u9009",save:"\u4fdd\u5b58",restore:"\u8fd8\u539f","import":"\u5bfc\u5165",cancel:"\u53d6\u6d88",error:"\u9519\u8bef",success:"\u64cd\u4f5c\u6210\u529f",confirm:"\u786e\u5b9a","confirm.delete":"\u786e\u5b9a\u8981\u5220\u9664?","confirm.save":"\u786e\u5b9a\u8981\u4fdd\u5b58?","confirm.exit":"\u6709\u6539\u52a8\u672a\u4fdd\u5b58,\u786e\u5b9a\u8981\u79bb\u5f00?",
"confirm.action":"\u8bf7\u786e\u8ba4\u6b64\u64cd\u4f5c","true":"\u662f","false":"\u5426","unsupported.browser":"\u4f60\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u8be5\u529f\u80fd","action.denied":"\u4f60\u62d2\u7edd\u4e86\u8bf7\u6c42","maximum.exceeded":"{0} ,\u8d85\u8fc7\u6700\u5927\u9650\u5236\u6570{1}","pattern.coords.invalid":"\u5750\u6807\u6570\u5fc5\u987b\u5728{0}\u548c{1}\u4e4b\u95f4","data.invalid":"\u6570\u636e\u9519\u8bef,\u8bf7\u68c0\u67e5"},get:function(){var a=arguments[0],
b=MessageBundle.lang(),b=MessageBundle[b][a];"undefined"==typeof b&&(b=a);for(a=1;a<arguments.length;a++)b=b.replace("{"+(a-1)+"}",arguments[a]);return b},lang:function(){var a=$.cookie("locale")||navigator.language||navigator.browserLanguage||"",b=a.indexOf("-");0<b&&(a=a.substring(0,b)+"_"+a.substring(b+1).toUpperCase());MessageBundle[a]||(b=a.indexOf("_"),0<b&&(a=a.substring(0,b)),MessageBundle[a]||(a="en"));return a},shortLang:function(){var a=MessageBundle.lang(),b=a.indexOf("_");0<b&&(a=a.substring(0,
b));return a}};var MODERN_BROWSER=!$.browser.msie||8<$.browser.version;
(function(){var a=document.domain;if(!a.match(/^(\d+\.){3}\d+$/)){a=a.split(".");try{2<a.length&&(document.domain=a[a.length-2]+"."+a[a.length-1])}catch(b){3<a.length&&(document.domain=a[a.length-3]+"."+a[a.length-2]+"."+a[a.length-1])}}$.ajaxSettings.traditional=!0;var c=$.ajax;MODERN_BROWSER&&($.ajax=function(a){a.url=UrlUtils.makeSameOrigin(a.url);a.xhrFields={withCredentials:!0};return c(a)});if("undefined"!=typeof $.rc4EncryptStr&&"false"!=$('meta[name="pe"]').attr("content")){var e=$.param;
$.param=function(a,b){(jQuery.isArray(a)||a.jquery)&&jQuery.each(a,function(){if(/password$/.test(this.name.toLowerCase()))try{var a=$.cookie("T"),a=a.substring(15,25);this.value=$.rc4EncryptStr(encodeURIComponent(this.value+a),a)}catch(b){}});return e(a,b)}}})();
Indicator={text:"",show:function(a){$("#indicator").length||$('<div id="indicator"></div>').appendTo(document.body);var b=$("#indicator");a&&b.hasClass("loading")&&b.removeClass("loading");a||b.hasClass("loading")||b.addClass("loading");b.html(Indicator.text||MessageBundle.get("ajax.loading"));b.show();Indicator.text=""},showError:function(){Indicator.text=MessageBundle.get("ajax.error");Indicator.show(!0)},hide:function(){Indicator.text="";$("#indicator")&&$("#indicator").hide()}};
UrlUtils={extractDomain:function(a){if(UrlUtils.isAbsolute(a)){a=a.replace(/:\d+/,"");a=a.substring(a.indexOf("://")+3);var b=a.indexOf("/");0<b&&(a=a.substring(0,b));return a}return document.location.hostname},isSameDomain:function(a,b){b=b||document.location.href;var c=UrlUtils.extractDomain(a),e=UrlUtils.extractDomain(b);return c==e},isSameOrigin:function(a,b){b=b||document.location.href;var c=UrlUtils.extractDomain(a),e=UrlUtils.extractDomain(b);if($.browser.msie&&c!=e)return!1;c=c.split(".");
e=e.split(".");return c[c.length-1]==e[e.length-1]&&c[c.length-2]==e[e.length-2]},makeSameOrigin:function(a,b){b=b||document.location.href;return UrlUtils.isSameOrigin(a,b)?a:b.substring(0,b.indexOf("/",b.indexOf("://")+3))+CONTEXT_PATH+"/webproxy/"+a},isAbsolute:function(a){if(!a)return!1;a=a.indexOf("://");return 4==a||5==a},absolutize:function(a){if(UrlUtils.isAbsolute(a))return a;var b=document.location.href,c=b.indexOf("://");return 0==a.length||0==a.indexOf("/")?b.substring(0,b.indexOf("/",
c+3))+CONTEXT_PATH+a:b.substring(0,b.lastIndexOf("/")+1)+a}};
Message={compose:function(a,b){return'<div class="'+b+'"><a class="close" data-dismiss="alert">&times;</a>'+a+"</div>"},showMessage:function(){Message.showActionMessage(MessageBundle.get.apply(this,arguments))},showError:function(){Message.showActionError(MessageBundle.get.apply(this,arguments))},showActionError:function(a,b){Message.showActionMessage(a,b,!0)},showActionMessage:function(a,b,c){if(a){if("string"==typeof a){var e=[];e.push(a);a=e}for(var e="",d=0;d<a.length;d++)e+=Message.compose(a[d],
c?"action-error alert alert-error":"action-message alert alert-info");e&&(a=$("#content"),$(".ui-dialog:visible").length&&(a=$(".ui-dialog:visible .ui-dialog-content")),$(".modal:visible").length&&(a=$(".modal:visible .modal-body")),$("#message",a).length||$('<div id="message"></div>').prependTo(a),a=$("#message",a),c&&b&&"FORM"==$(b).prop("tagName")&&($(b).attr("id")||$(b).attr("id","form"+(new Date).getTime()),c=$(b).attr("id"),0==$("#"+c+"_message").length&&$('<div id="'+c+'_message" class="message-container"></div>').insertBefore(b),
a=$("#"+c+"_message")),a.html(e),_observe(a),$("html,body").animate({scrollTop:a.offset().top-50},100))}},showFieldError:function(a,b,c){b=b||MessageBundle.get(c);if(a&&$(a).length)if(a=$(a),c=a.closest(".control-group"),c.addClass("error"),$(".field-error",a.parent()).remove(),a.hasClass("sqleditor")?a=a.next(".preview"):a.hasClass("chzn-done")&&(a=a.next(".chzn-container")),a.is(":visible")){b=$('<div class="field-error removeonclick"><div class="field-error-content">'+b+"</div><div>").insertAfter(a);
$('<div class="field-error-arrow"/>').html('<div class="line10">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line1">\x3c!-- --\x3e</div>').appendTo(b);var e=a.width(),d=b.height();c=a.position().top;a=a.position().left+
e-30;b.css({top:c+"px",left:a+"px",marginTop:-d+"px",opacity:0});b.animate({opacity:0.8})}else a.is('[type="hidden"]')?c.length?$('<span class="field-error">'+b+"</span>").appendTo($(".controls",c)):a.next(".listpick,.treeselect").length?$('<span class="field-error">'+b+"</span>").insertAfter(a.next()):Message.showActionError(b):Message.showActionError(b);else Message.showActionError(b)}};
Form={focus:function(a){for(var b=$(":input:visible",a).get(),c=0;c<b.length;c++)if($(".field-error",$(b[c]).parent()).length){setTimeout(function(){$(b[c]).focus()},50);break}},validate:function(a){if("FORM"!=$(a).prop("tagName")){$(a).closest(".control-group").removeClass("error");$(".field-error",$(a).parent()).fadeIn().remove();if($(a).is(':visible,[type="hidden"],.sqleditor,.chzn-done')&&!$(a).prop("disabled")){var b=$(a).val();if($(a).hasClass("required")&&!b)return"SELECT"==$(a).prop("tagName")||
$(a).is('[type="hidden"]')?Message.showFieldError(a,null,"selection.required"):Message.showFieldError(a,null,"required"),!1;if($(a).hasClass("email")&&b&&!b.match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/))return Message.showFieldError(a,null,"email"),!1;if($(a).hasClass("regex")&&b&&!b.match(RegExp($(a).data("regex"))))return Message.showFieldError(a,null,"regex"),!1;if($(a).hasClass("phone")&&b&&!b.match(/^[\d-]+$/))return Message.showFieldError(a,null,"phone"),!1;if(($(a).hasClass("integer")||
$(a).hasClass("long"))&&b){if($(a).hasClass("positive")&&(!b.match(/^[+]?\d*$/)||!$(a).hasClass("zero")&&0==parseInt(b)))return Message.showFieldError(a,null,"integer.positive"),!1;if(!$(a).hasClass("positive")&&!b.match(/^[-+]?\d*$/))return Message.showFieldError(a,null,"integer"),!1}else if($(a).hasClass("double")&&b){if($(a).hasClass("positive")&&(!b.match(/^[+]?\d+\.?(\d+)?$/)||!$(a).hasClass("zero")&&0==parseFloat(b)))return Message.showFieldError(a,null,"double.positive"),!1;if(!$(a).hasClass("positive")&&
!b.match(/^[-+]?\d+\.?(\d+)?$/))return Message.showFieldError(a,null,"double"),!1;var c=b.indexOf(".");if(-1<c){var e=b.substring(c+1),d=parseInt($(a).data("scale")||"2");e.length>d&&(b=b.substring(0,c+1)+e.substring(0,d),$(a).val(b))}}}return!0}var f=!0;$(":input",a).each(function(){Form.validate(this)||(f=!1)});f||Form.focus(a);return f}};
Ajax={defaultRepacement:"content",fire:function(a,b){if(!a)return!0;var c=a[b];"undefined"==typeof c&&(c=$(a).attr(b));if("undefined"==typeof c||!c)return!0;var e=[];if(2<arguments.length)for(var d=2;d<arguments.length;d++)e[d-2]=arguments[d];var f;if("function"==typeof c)f=c.apply(a,e);else{-1<c.indexOf("return")&&(c=c.replace("return",""));a._temp=function(){return eval(c)};try{f=a._temp()}catch(g){alert(g)}}return!1==f?!1:!0},handleResponse:function(a,b){if(a){var c=!1,e=b.target;e&&$(e).parents("div.ui-dialog").length&&
(b.quiet=!0);"string"!=typeof a||0!=a.indexOf("{")&&0!=a.indexOf("[")||(a=$.parseJSON(a));if("string"==typeof a){0<=a.indexOf("<title>")&&0<a.indexOf("</title>")&&(Ajax.title=a.substring(a.indexOf("<title>")+7,a.indexOf("</title>")),b.replaceTitle&&(document.title=Ajax.title),a=a.substring(a.indexOf("</title>")+8));var d=a.replace(/<script(.|\s)*?\/script>/g,""),f=$("<div/>").html(d),g=b.replacement,k;for(k in g){var l=$("#"+k);k!=Ajax.defaultRepacement||l.length||(l=$("body"));if(!b.quiet&&l.length){var m=
$(".pin",l),m=m.length?m.offset().top:l.offset().top;$("html,body").animate({scrollTop:m-50},100)}m=f.find("#"+g[k]);m.length?0==m.children().length?l.replaceWith(m):l.html(m.html()):f.find("#content").length?l.html(f.find("#content").html()):f.find("body").length?l.html(f.find("body").html()):l.html(d);b.quiet||"undefined"==typeof $.effects||l.effect("highlight");_observe(l)}f.remove();b.onsuccess&&b.onsuccess.apply(window);Ajax.fire(e,"onsuccess",a)}else if(Ajax.jsonResult=a,a.fieldErrors||a.actionErrors?
(c=!0,b.onerror&&b.onerror.apply(window),Ajax.fire(e,"onerror",a)):(b.onsuccess&&b.onsuccess.apply(window),Ajax.fire(e,"onsuccess",a)),setTimeout(function(){Message.showActionError(a.actionErrors,e);Message.showActionMessage(a.actionMessages,e)},500),a.fieldErrors)if(e){for(k in a.fieldErrors)Message.showFieldError(e[k],a.fieldErrors[k]);Form.focus(e)}else for(k in a.fieldErrors)Message.showActionError(a.fieldErrors[k]);e&&"FORM"==e.tagName&&(!c&&$(e).hasClass("disposable")?setTimeout(function(){$(":input",
e).prop("disabled",!0)},100):setTimeout(function(){$('button[type="submit"]',e).prop("disabled",!1);Captcha.refresh()},100),!c&&$(e).hasClass("reset")&&e.reset&&e.reset());Indicator.text="";Ajax.fire(e,"oncomplete",a)}},jsonResult:null,title:""};
function ajaxOptions(a){a=a||{};a.dataType||(a.dataType="text");a.headers||(a.headers={});$.extend(a.headers,{"X-Data-Type":a.dataType});for(var b=$(a.target),c={},b=(a.replacement||$(a.target).data("replacement")||("FORM"==$(a.target).prop("tagName")?$(b).attr("id"):null)||Ajax.defaultRepacement).split(","),e=[],d=0;d<b.length;d++){var f=b[d].split(":",2),g=2==f.length?f[1]:f[0];c[f[0]]=g;e.push(g!=Ajax.defaultRepacement?g:"_")}a.replacement=c;$.extend(a.headers,{"X-Fragment":e.join(",")});var k=
a.beforeSend;a.beforeSend=function(b){k&&k(b);Indicator.text=a.indicator;Ajax.fire(null,a.onloading)};var l=a.success;a.success=function(b,c,d){Ajax.handleResponse(b,a);!l||b.fieldErrors||b.actionErrors||l(b,c,d)};return a}function ajax(a){return $.ajax(ajaxOptions(a))}var CONTEXT_PATH=$('meta[name="context_path"]').attr("content")||"";"undefined"==typeof Initialization&&(Initialization={});"undefined"==typeof Observation&&(Observation={});
function _init(){var a=[],b;for(b in Initialization)"function"==typeof Initialization[b]&&a.push(b);a.sort();for(b=0;b<a.length;b++)Initialization[a[b]].call(this);_observe()}function _observe(a){a||(a=document);$(".chart,form.ajax,.ajaxpanel",a).each(function(a){$(this).attr("id")||$(this).attr("id",("a"+(a+Math.random())).replace(".","").substring(0,5))});var b=[],c;for(c in Observation)"function"==typeof Observation[c]&&b.push(c);b.sort();for(c=0;c<b.length;c++)Observation[b[c]].call(this,a)}$(_init);
Initialization.common=function(){$(document).ajaxStart(function(){Indicator.show()}).ajaxError(function(){Indicator.showError()}).ajaxSuccess(function(a,c){Indicator.hide();var e=c.getResponseHeader("X-Redirect-To");if(e){$("body").html('<div class="modal"><div class="modal-body"><div class="progress progress-striped active"><div class="bar" style="width: 50%;"></div></div></div></div>');e=UrlUtils.absolutize(e);try{var d=top.location.href;d&&UrlUtils.isSameDomain(d,e)?top.location.href=e:document.location.href=
e}catch(f){document.location.href=e}}}).keyup(function(a){27==a.keyCode&&($(".modal:visible").length?$(".modal:visible").last().find(".close").click():$(".ui-dialog:visible").length&&$(".ui-dialog:visible").last().find(".ui-dialog-titlebar-close").click())}).on("click","#message .close,.message-container .close",function(){$("#message,.message-container").each(function(a,c){$.trim($(c).text())||$(c).remove()})}).on("click",".removeonclick",function(){$(this).remove()}).on("keyup","input,textarea",
$.debounce(200,function(a){$(this).hasClass("email")||$(this).hasClass("regex")||13==a.keyCode||$(this).val()&&Form.validate(this);return!0})).on("focusout","input,textarea",function(a){($(this).hasClass("email")||$(this).hasClass("regex")||!$(this).hasClass("required"))&&Form.validate(this);return!0}).on("change","select",function(){Form.validate(this);return!0}).on("dblclick",".ui-dialog-titlebar",function(){Dialog.toggleMaximization($(".ui-dialog-content",$(this).closest(".ui-dialog")))}).on("mouseenter",
".popover,.tooltip",function(){$(this).remove()}).on("click",":submit",function(a){$(this).addClass("clicked")}).on("click",".action-error strong.force-override",function(a){a=$(a.target).closest(".message-container");if(a.length){var c=a.next("form");$('input[type="hidden"].version',c).remove();a.fadeOut().remove();c.submit()}else a=$('button[data-action="save"]:visible'),$("tr",a.closest("form")).removeData("version").removeAttr("data-version"),a.click()});$.alerts.okButton=MessageBundle.get("confirm");
$.alerts.cancelButton=MessageBundle.get("cancel");Nav.init();Nav.activate(document.location.pathname);var a=document.location.hash;a&&$(".nav-tabs").each(function(){var b=!1;$('a[data-toggle="tab"]',this).each(function(){var c=$(this);if(!b){var e=c.attr("data-target");e||(e=(e=c.attr("href"))&&e.replace(/.*(?=#[^\s]*$)/,""));e==a&&(b=!0,c.tab("show"),$target=$(e),$target.hasClass("ajaxpanel")&&$target.removeClass("manual"))}})});$(document.body).hasClass("render-location-qrcode")&&($('<div id="render-location-qrcode" style="width:15px;position:fixed;bottom:0;right:0;cursor:pointer;"><i class="glyphicon glyphicon-qrcode"></i></div>').appendTo(document.body),
$("#render-location-qrcode").click(function(){var a=$(this);a.hide();var c=$('<div class="modal" style="z-index:10000;"><div class="modal-close"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">\u00d7</button></div><div class="modal-body" style="max-height:600px;"><div class="location-qrcode">'+document.location.href+"</div></div></div>").appendTo(document.body);$(".location-qrcode",c).encodeqrcode();$("button.close",c).click(function(){c.remove();a.show()})}));-1!=document.location.search.indexOf("printpage=true")&&
(window.print(),setTimeout(function(){window.close()},1E3))};var HISTORY_ENABLED=MODERN_BROWSER&&("undefined"!=typeof history.pushState||"undefined"!=typeof $.history)&&"false"!=$('meta[name="history_enabled"]').attr("content");
if(HISTORY_ENABLED){var SESSION_HISTORY_SUPPORT="undefined"!=typeof history.pushState&&0!=document.location.hash.indexOf("#!/"),_historied_=!1;Initialization.history=function(){SESSION_HISTORY_SUPPORT?window.onpopstate=function(a){var b=document.location.href;Nav.activate(b);a.state&&ajax({url:b,replaceTitle:!0,replacement:a.state.replacement,cache:!1})}:$.history.init(function(a){if(!(!a&&!_historied_||a&&0>a.indexOf("!"))){var b=document.location.href;0<b.indexOf("#")&&(b=b.substring(0,b.indexOf("#")));
a.length&&(a=a.substring(1),UrlUtils.isSameDomain(a)&&CONTEXT_PATH&&(a=CONTEXT_PATH+a),b=a);_historied_=!0;ajax({url:b,cache:!0,replaceTitle:!0,success:function(){Nav.activate(b)}})}},{unescape:!0})}}
Observation.common=function(a){$(".controls .field-error",a).each(function(){var a=$(this).text(),b=$(":input",$(this).parent());$(this).remove();Message.showFieldError(b,a)});var b="FORM"==$(a).prop("tagName")&&$(a).hasClass("focus")?a:$(".focus:eq(0)",a);if("FORM"!=b.prop("tagName")&&b.attr("name"))b.focus();else for(var b=$(":input:visible",b).toArray(),c=0;c<b.length;c++){var e=$(b[c]);if(e.attr("name")&&!e.val()){e.focus();break}}$("form",a).each(function(){$(this).hasClass("ajax")||$(this).submit(function(){$(".action-error").remove();
return Form.validate(this)})});$('input[type="text"]',a).on("paste",function(){var a=$(this);setTimeout(function(){a.val($.trim(a.val()))},50)}).each(function(){$(this).attr("autocomplete")||$(this).attr("autocomplete","off");var a=$(this).attr("maxlength");if(!a||3E3<a)$(this).hasClass("date")?$(this).attr("maxlength","10"):$(this).hasClass("datetime")?$(this).attr("maxlength","19"):$(this).hasClass("time")?$(this).attr("maxlength","8"):$(this).hasClass("integer")?$(this).attr("maxlength","11"):
$(this).hasClass("long")?$(this).attr("maxlength","20"):$(this).hasClass("double")?$(this).attr("maxlength","22"):$(this).attr("maxlength","255")});MODERN_BROWSER&&$('input[type="checkbox"].custom,input[type="radio"].custom',a).each(function(a){$(this).hide();this.id||(this.id=("a"+(a+Math.random())).replace(".","").substring(0,9));$(this).next("lable.custom").length||$(this).after($('<label class="custom" for="'+this.id+'"></label>'))});$(".linkage",a).each(function(){var a=$(this);a.data("originalclass",
a.attr("class"));var b=$(".linkage_switch",a);$(".linkage_component",a).show();$(".linkage_component",a).not("."+b.val()).hide().filter(":input").val("");a.attr("class",a.data("originalclass")+" "+b.val());b.change(function(){var a=$(this).closest(".linkage"),b=$(this);$(".linkage_component",a).show();$(".linkage_component",a).not("."+b.val()).hide().filter(":input").val("");a.attr("class",a.data("originalclass")+" "+b.val())})});$(":input.conjunct",a).change(function(){var a=$(this),b=$(this).closest("form"),
c={},e=b.attr("action");-1<e.indexOf("/")?"save"==e.substring(e.lastIndexOf("/")+1)&&(e=e.substring(0,e.lastIndexOf("/"))+"/input"):"save"==e&&(e="input");var l=$('input[type=hidden][name$=".id"]',b);l.val()&&(c.id=l.val());c[a.attr("name")]=a.val();$("input[type=hidden]:not(.nocheck)",b).each(function(){c[$(this).attr("name")]=$(this).val()});ajax({global:!1,quiet:!0,type:b.attr("method"),url:e,data:c,target:b[0],replacement:a.data("replacement")})});"undefined"!=typeof $.fn.datetimepicker&&$("input.date,input.datetime,input.time",
a).not("[readonly]").not("[disabled]").each(function(){var a=$(this),b={language:MessageBundle.lang().replace("_","-")};a.hasClass("datetime")?b.format=a.data("format")||"yyyy-MM-dd HH:mm:ss":a.hasClass("time")?(b.format=a.data("format")||"HH:mm:ss",b.pickDate=!1):(b.format=a.data("format")||"yyyy-MM-dd",b.pickTime=!1);a.datetimepicker(b)});$("input.captcha",a).focus(function(){$(this).data("_captcha_")||($(this).after('<img class="captcha" src="'+this.id+'"/>'),$("img.captcha",a).click(Captcha.refresh),
$(this).data("_captcha_",!0))});"undefined"!=typeof $.fn.treeTable&&$(".treeTable",a).each(function(){$(this).treeTable({initialState:$(this).hasClass("expanded")?"expanded":"collapsed"})});"undefined"!=typeof $.fn.chosen&&$(".chosen",a).chosen({placeholder_text:MessageBundle.get("select"),no_results_text:" "});"undefined"!=typeof $.fn.htmlarea&&$("textarea.htmlarea",a).htmlarea({css:CONTEXT_PATH+"/assets/styles/ironrhino-min.css"});$('a[data-toggle="tab"]',a).on("shown",function(a){$this=$(a.target);
a=$this.attr("data-target");a||(a=(a=$this.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,""));$target=$(a);$target.hasClass("ajaxpanel")&&$target.trigger("load")});$(".carousel",a).each(function(){var a=$(this);a.carousel((new Function("return "+(a.data("options")||"{}")))())});$(":input[data-helpurl]",a).each(function(){var a=$(this),b='<a href="'+a.data("helpurl")+'" style="padding-left: 5px;" target="_blank"><span class="glyphicon glyphicon-question-sign"></span></a>',b=$(b).insertAfter(a);a.is("textarea")&&
b.find("span").css("vertical-align","top")});$(".tiped",a).each(function(){var a=$(this),b={html:!0,trigger:a.data("trigger")||"hover",placement:a.data("placement")||"top"};!a.attr("title")&&a.data("tipurl")&&a.attr("title",MessageBundle.get("ajax.loading"));a.bind("hover"==b.trigger?"mouseenter":b.trigger,function(){a.hasClass("_tiped")||(a.addClass("_tiped"),$.ajax({url:a.data("tipurl"),global:!1,dataType:"html",success:function(c){a.attr("data-original-title",c);a.tooltip(b).tooltip("show")}}))});
a.is(":input")&&(b.trigger="focus",b.placement="right");a.tooltip(b)});$(".poped",a).each(function(){var a=$(this),b={html:!0,trigger:a.data("trigger")||"hover",placement:a.data("placement")||"right"};a.data("popurl")&&(!b.content&&a.data("popurl")&&(b.title=MessageBundle.get("ajax.loading")),a.bind("hover"==b.trigger?"mouseenter":b.trigger,function(){a.hasClass("_poped")||(a.addClass("_poped"),$.ajax({url:a.data("popurl"),global:!1,dataType:"html",success:function(c){$("div.popover").remove();0<=
c.indexOf("<title>")&&0<c.indexOf("</title>")&&a.attr("data-original-title",c.substring(c.indexOf("<title>")+7,c.indexOf("</title>")));0<=c.indexOf("<body")&&0<c.indexOf("</body>")&&a.attr("data-content",c.substring(c.indexOf(">",c.indexOf("<body")+5)+1,c.indexOf("</body>")));a.popover(b).popover("show")}}))}));a.popover(b)});$(".btn-switch",a).each(function(){var a=$(this);a.children().css("cursor","pointer").click(function(){a.children().removeClass("active").css({"font-weight":"normal"});$(this).addClass("active").css({"font-weight":"bold"})})});
$("a.popmodal",a).each(function(){var a=$(this),b=a.attr("href");-1<b.indexOf("/")&&(b=b.substring(b.lastIndexOf("/")+1));for(b+="_modal";$("#"+b).length;)b+="_";a.click(function(c){$("#"+b).length?$("#"+b).modal("show"):$.get(a.attr("href"),function(c){c=c.replace(/<script(.|\s)*?\/script>/g,"");var e=$("<div/>").html(c);c=$("title",e).html();var e=$("#content",e).html(),g=a.data("modalwidth");$('<div id="'+b+'" class="modal hide fade in"'+(g?' style="width:'+g+';"':"")+'><div class="modal-header"><a class="close" data-dismiss="modal">&times;</a><h3 style="text-align:center;">'+
c+'</h3></div><div class="modal-body" style="padding-top:40px;">'+e+"</div></div>").appendTo(document.body);_observe($("#"+b));$("form",$("#"+b)).each(function(){this.onsuccess=function(){$("#"+b).modal("hide")}});a.attr("href","#"+b).attr("data-toggle","modal");$("#"+b).modal("show")});return!1})});"undefined"!=typeof swfobject&&($(".chart",a).each(function(){var a=$(this),b=a.attr("id"),c=a.width(),e=a.height(),l=a.data("url");0==l.indexOf("/")&&(l=document.location.protocol+"//"+document.location.host+
l);b&&c&&e&&l||alert("id,width,height,data all required");swfobject.embedSWF(CONTEXT_PATH+"/assets/images/open-flash-chart.swf",b,c,e,"9.0.0",CONTEXT_PATH+"/assets/images/expressInstall.swf",{"data-file":encodeURIComponent(l),loading:MessageBundle.get("ajax.loading")},{wmode:"transparent"});a.data("_interval")&&clearInterval(parseInt(a.data("_interval")));a.data("interval")&&(c=setInterval(function(){a.data("quiet")?$.ajax({global:!1,url:l,dataType:"text",success:function(a){document.getElementById(b).load(a)}}):
document.getElementById(b).reload(l)},parseInt(a.data("interval"))),a.data("_interval",c))}),window.save_image=function(){var a=[];a.push("<html><head><title>Charts: Export as Image</title></head><body>");$("object[data]").each(function(){a.push('<img src="data:image/png;base64,'+this.get_img_binary()+'"/>')});a.push("</body></html>");var b=window.open("","_blank");b.document.write(a.join(""));b.document.close()});$("a.ajax,form.ajax",a).each(function(){var a=this,b=ajaxOptions({target:a,onsuccess:function(b){b=
$('input[type="hidden"].version',a);b.val(parseInt(b.val()||"0")+1)}});if("FORM"==this.tagName){var c={beforeSubmit:function(){if(!Ajax.fire(a,"onprepare"))return!1;$(".action-error").remove();if(!Form.validate(a))return!1;Indicator.text=$(a).data("indicator");$('button[type="submit"]',a).prop("disabled",!0);Ajax.fire(a,"onloading");var b=$(a),e=!1;b.hasClass("history")&&(e=!0);if(!1===c.pushState||b.parents(".ui-dialog,.tab-content").length)e=!1;if(e&&HISTORY_ENABLED){var e=b.attr("action"),f=e.indexOf("://");
-1<f&&(e=e.substring(f+3),e=e.substring(e.indexOf("/")));var b=b.serializeArray(),h=[];b&&($.map(b,function(a,b){"resultPage.pageNo"==a.name?a.name="pn":"resultPage.pageSize"==a.name&&(a.name="ps");"check"==a.name||"keyword"==a.name&&!a.value||"pn"==a.name&&"1"==a.value||"ps"==a.name&&"10"==a.value||h.push({name:a.name,value:a.value})}),(b=$.param(h))&&(e+=(0<e.indexOf("?")?"&":"?")+b));b=document.location.href;SESSION_HISTORY_SUPPORT?(history.replaceState({url:b},"",b),history.pushState(e,"",e)):
(CONTEXT_PATH&&(e=e.substring(CONTEXT_PATH.length)),$.history.load("!"+e))}},error:function(){Form.focus(a);a&&"FORM"==a.tagName&&setTimeout(function(){$('button[type="submit"]',a).prop("disabled",!1)},100);Ajax.fire(a,"onerror")},success:function(a){Ajax.handleResponse(a,b)},headers:b.headers};$(this).hasClass("view")||$.extend(c.headers,{"X-Data-Type":"json"});$(this).bind("submit",function(a){a=$(this);a=$(".clicked",a).removeClass("clicked");if(a.hasClass("noajax"))return!0;if(a.hasClass("reload")||
a.data("action"))c.pushState=!1;$(this).ajaxSubmit(c);return!1})}else $(this).click(function(){if(!Ajax.fire(a,"onprepare"))return!1;if(HISTORY_ENABLED&&$(this).hasClass("view")&&!$(this).hasClass("nohistory")&&($(this).hasClass("history")||!$(this).data("replacement"))){$(".ui-dialog:visible").children().remove();var b=this.href;if(UrlUtils.isSameDomain(b))if(b=b.substring(b.indexOf("://")+3),b=b.substring(b.indexOf("/")),SESSION_HISTORY_SUPPORT){var c=document.location.href;history.replaceState({url:c},
"",c);history.pushState({replacement:$(this).data("replacement"),url:b},"",b)}else return CONTEXT_PATH&&(b=b.substring(CONTEXT_PATH.length)),b=b.replace(/^.*#/,""),$.history.load("!"+b),!1}var e={target:this,url:this.href,type:$(this).data("method")||"GET",cache:$(this).hasClass("cache"),beforeSend:function(){$(".action-error").remove();Indicator.text=$(a).data("indicator");Ajax.fire(a,"onloading")},error:function(){Ajax.fire(a,"onerror")}};$(this).hasClass("view")?$(this).data("replacement")||(e.replaceTitle=
!0):$.extend(e.headers,{"X-Data-Type":"json"});e.onsuccess=function(){Nav.activate(e.url)};ajax(e);return!1})})};
var Nav={init:function(){$(document).on("click",".nav:not(.nav-tabs) li a",function(){$("li",$(this).closest(".nav")).removeClass("active");Nav.indicate($(this))})},activate:function(a){a=UrlUtils.absolutize(a);$(".nav:not(.nav-tabs) li").removeClass("active open");$(".nav:not(.nav-tabs) li a").each(function(){this.href!=a&&0!=a.indexOf(this.href+"?")||Nav.indicate($(this))})},indicate:function(a){var b=a.closest("li.dropdown");if(!b.length)$(a).closest("li").addClass("active"),$("#nav-breadcrumb").remove();
else if(!a.hasClass("dropdown-toggle")){b.addClass("active");var c=$("#nav-breadcrumb");c.length?c.html(""):c=$('<ul id="nav-breadcrumb" class="breadcrumb"/>').prependTo($("#content"));c.append("<li>"+b.children("a").text()+' <span class="divider">/</span></li>').append('<li class="active">'+a.text()+"</li>")}}},Dialog={adapt:function(a,b){if(b){var c=b.document;b.contentDocument?c=b.contentDocument:b.contentWindow&&(c=b.contentWindow.document);$(a).dialog("option","title",c.title);$(a).dialog("option",
"minHeight",e);var e=$(c).height()+20;$(b).height(e)}else $(a).dialog("option","title",Ajax.title);a.dialog("option","position","center");a.dialog("moveToTop")},toggleMaximization:function(a){var b=$(a).closest(".ui-dialog"),c=b.data("orginal-width");if(c)b.width(c),b.height(b.data("orginal-height")),b.removeData("orginal-width").removeData("orginal-height"),Dialog.adapt($(a));else{b.data("orginal-width",b.width()+0.2).data("orginal-height",b.height()+0.2);var c=$(window).width()-10,e=$(window).height()-
10;b.outerWidth(c);b.outerHeight()<e&&b.outerHeight(e);a.dialog("option","position","top")}}};Captcha={refresh:function(){$("img.captcha").each(function(){var a=this.src,b=a.lastIndexOf("&");0<b&&(a=a.substring(0,b));this.src=a+"&"+Math.random()});$("input.captcha").val("").focus()}};ArrayUtils={unique:function(a){if(a){for(var b=[],c={},e=0,d;null!=(d=a[e]);e++)c[d]||(b.push(d),c[d]=!0);return b}}};
Date.prototype.format=function(a,b,c){if("function"==typeof this.strftime)return this.strftime(a);var e=function(a,b){a=""+a;return 1==a.length?""+(null==b?"0":b)+a:a},d=[],f=!1,g=this.getHours(),k=12>g;null==b&&(b="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));null==c&&(c="Sun Mon Tue Wed Thu Fri Sat".split(" "));var l;l=12<g?g-12:0==g?12:g;for(var m=0;m<a.length;++m){var h=a.charAt(m);if(f){switch(h){case "a":h=""+c[this.getDay()];break;case "b":h=""+b[this.getMonth()];break;case "d":h=
e(this.getDate());break;case "e":h=e(this.getDate()," ");break;case "H":h=e(g);break;case "I":h=e(l);break;case "l":h=e(l," ");break;case "m":h=e(this.getMonth()+1);break;case "M":h=e(this.getMinutes());break;case "S":h=e(this.getSeconds());break;case "y":h=e(this.getFullYear()%100);break;case "Y":h=""+this.getFullYear();break;case "p":h=k?"am":"pm";break;case "P":h=k?"AM":"PM";break;case "w":h=""+this.getDay()}d.push(h);f=!1}else"%"==h?f=!0:d.push(h)}return d.join("")};
(function(a){a.fn.checkavailable=function(){this.each(function(){var b=a(this);b.bind("checkavailable",function(){if(b.val()){var c=a("input[type=hidden]",b.closest("form")).not('[name^="__"]').not(".nocheck").add(b),e=b.data("checkurl");e||(e=b.closest("form").prop("action"),e=e.substring(0,e.lastIndexOf("/"))+"/checkavailable");ajax({global:!1,target:b.closest("form")[0],url:e,data:c.serialize()})}}).change(function(){b.addClass("dirty")}).blur(function(){b.hasClass("dirty")&&!b.next(".field-error").length&&
b.trigger("checkavailable")})});return this}})(jQuery);Observation.checkavailable=function(a){$(":input.checkavailable",a).checkavailable()};
Observation.tags=function(a){"undefined"!=typeof $.fn.textext&&(!$.browser.msie||"8"<$.browser.version)&&$("input.tags",a).each(function(){var a=$(this),c={prompt:"...",autocomplete:{dropdownMaxHeight:"200px",render:function(a){return"string"==typeof a?a:a.label?'<div value="'+a.value+'">'+a.label+"</div>":a.value}},ext:{core:{serializeData:function(a){return a.join(",")}},itemManager:{itemToString:function(a){return"string"==typeof a?a:a.value}},autocomplete:{showDropdown:function(){$(".text-suggestion",
this.containerElement()).length&&this.containerElement().show()},renderSuggestions:function(a){var b=this;b.clearItems();var c=[];$(".text-tags .text-label",b.container).each(function(){c.push($(this).text())});$.each(a||[],function(a,d){for(var e=b.itemManager().itemToString(d),f=!1,q=0;q<c.length;q++)if(c[q]==e){f=!0;break}f||b.addSuggestion(d)})}}}},e=a.val();e&&(0==e.indexOf('["')?c.tagsItems=$.parseJSON(e):c.tagsItems=e.split(","));if(a.data("source"))if(0!=a.data("source").indexOf("["))c.plugins=
"tags prompt focus autocomplete ajax arrow",c.ajax={global:!1,url:a.data("source"),cacheResults:!1,dataCallback:function(a){return{keyword:a}}};else{c.plugins="tags prompt focus autocomplete arrow";var d=(new Function("return "+a.data("source")))();a.bind("getSuggestions",function(a,b){var c=$(a.target).textext()[0],e=(b?b.query:"")||"";$(this).trigger("setSuggestions",{result:c.itemManager().filter(d,e)})})}else a.attr("list")&&$("#"+a.attr("list")).length?(c.plugins="tags prompt focus autocomplete arrow",
d=[],$("option",$("#"+a.attr("list"))).each(function(){d.push(this.value)}),a.bind("getSuggestions",function(a,b){var c=$(a.target).textext()[0],e=(b?b.query:"")||"";$(this).trigger("setSuggestions",{result:c.itemManager().filter(d,e)})})):c.plugins="tags prompt focus";a.val("").textext(c).bind("isTagAllowed",function(a,b){var c=[];$(".text-tags .text-label",this.container).each(function(){c.push($(this).text())});for(var d=0;d<c.length;d++)if(c[d]==b.tag){b.result=!1;break}});a.blur(function(){(a.hasClass("required")||
a.val())&&$(this).trigger("enterKeyPress").val("")})})};
(function(a){function b(a,b,d){b=b.name;if("undefined"!=typeof FileReaderSync){var f=new BlobBuilder,g=new FileReaderSync;a=event.data;for(var k=0;k<a.length;k++)f.append("--"),f.append(d),f.append("\r\n"),f.append("Content-Disposition: form-data; name="),f.append(b),f.append("; filename="),f.append(a[k].name),f.append("\r\n"),f.append("Content-Type: "),f.append(a[k].type),f.append("\r\n\r\n"),f.append(g.readAsArrayBuffer(a[k])),f.append("\r\n");f.append("--");f.append(d);f.append("--");return f.getBlob()}if(a[0].getAsBinary){f=
"";for(k=0;k<a.length;k++)f+="--"+d+"\r\n",f+="Content-Disposition: form-data; name="+b+"; filename="+a[k].name+"\r\n",f+="Content-Type: "+a[k].type+"\r\n\r\n",f+=a[k].getAsBinary()+"\r\n";return f+("--"+d+"--")}return null}a.ajaxupload=function(c,e){if(!c)return!1;var d={url:document.location.href,name:"file"};e=e||{};a.extend(d,e);e=d;var f;e.progress?f=a(e.progress):(f=a("#_uploadprogress"),f.length||(f=a('<progress id="_uploadprogress" style="position: fixed;z-index: 10001;left: 45%;top: 0px;width: 100px;" min="0" max="100" value="0">0</progress>').appendTo(document.body)));
var g=new XMLHttpRequest;g.open("POST",e.url);g.onreadystatechange=function(){4==g.readyState&&(200<=g.status&&200>=g.status||304==g.status)&&""!=g.responseText&&"undefined"!=typeof e.success&&e.success(g)};f&&f.length&&(g.onload=function(){f.val(100).html(100).remove()},"upload"in g&&(g.upload.onprogress=function(a){a.lengthComputable&&(a=a.loaded/a.total*100|0,f.val(a).html(a).show())}));if("string"==typeof e.data){var k=e.data.split("&");e.data={};for(d=0;d<k.length;d++){var l=k[d].split("=",2);
e.data[l[0]]=2==l.length?l[1]:""}}if(window.FormData){for(var m=new FormData,d=0;d<c.length;d++)m.append(e.name,c[d]);e.data&&a.each(e.data,function(a,b){m.append(a,b)});g.send(m)}else{var h="xxxxxxxxx";g.setRequestHeader("Content-Type","multipart/form-data, boundary="+h);!window.BlobBuilder&&window.WebKitBlobBuilder&&(window.BlobBuilder=window.WebKitBlobBuilder);if("undefined"!=typeof FileReader&&"undefined"!=typeof BlobBuilder){for(d=0;d<c.length;d++){k=c[d];l=new FileReader;l.sourceFile=k;var r=
0,h="xxxxxxxxx",q=new BlobBuilder;e.data&&a.each(e.data,function(a,b){var c=new BlobBuilder;c.append("--");c.append(h);c.append("\r\n");c.append('Content-Disposition: form-data; name="');c.append(a);c.append('" ');c.append(b);c.append("\r\n");q.append(c.getBlob())});l.onload=function(a){var b=a.target.sourceFile,d=new BlobBuilder;d.append("--");d.append(h);d.append("\r\n");d.append("Content-Disposition: form-data; name=");d.append(e.name);d.append("; filename=");d.append(b.name);d.append("\r\n");
d.append("Content-Type: ");d.append(b.type);d.append("\r\n\r\n");d.append(a.target.result);d.append("\r\n");q.append(d.getBlob());r++;r==c.length&&(q.append("--"),q.append(h),q.append("--"),"undefined"!=typeof e.beforeSend&&e.beforeSend(),g.send(q.getBlob()))};l.readAsArrayBuffer(k)}return!0}(q=b(c,e,h))?("undefined"!=typeof e.beforeSend&&e.beforeSend(),g.sendAsBinary?g.sendAsBinary(q):g.send(q)):g.abort()}return!0}})(jQuery);
(function(a){function b(b){b.css("min-height","100px");if(!(b.hasClass("tab-pane")&&b.hasClass("cache")&&b.hasClass("loaded"))){var e=b.data("url"),d={target:b[0],url:e||document.location.href,global:!1,quiet:!0,beforeSend:function(){b.data("quiet")||("undefined"!=typeof a.fn.mask?b.mask(MessageBundle.get("ajax.loading")):b.html('<div style="text-align:center;">'+MessageBundle.get("ajax.loading")+"</div>"))},complete:function(){b.data("quiet")||"undefined"==typeof a.fn.unmask||b.unmask()},success:function(a){b.addClass("loaded");
b.css("min-height","")}};d.replacement=e?b.attr("id")+":"+(b.data("replacement")||"content"):b.attr("id");ajax(d)}}a.fn.ajaxpanel=function(){a(this).each(function(){var c=a(this);c.bind("load",function(){b(c)});c.data("timeout")?setTimeout(function(){b(c)},parseInt(c.data("timeout"))):c.data("interval")?(b(c),setInterval(function(){b(c)},parseInt(c.data("interval")))):c.hasClass("manual")||b(c)});return this}})(jQuery);
Observation.ajaxpanel=function(a){$(".ajaxpanel",a).ajaxpanel();$(".ajaxpanel .load",a).click(function(){$(this).closest(".ajaxpanel").trigger("load")})};
(function(a){a(function(){a(document).on("click",".toolbar .pagination .firstPage:not(.disabled) a",function(b){b=a(this).closest("form");a(".inputPage",b).val(1);b.submit();return!1}).on("click",".toolbar .pagination .prevPage:not(.disabled) a",function(b){b=a(this).closest("form");a(".inputPage",b).val(function(a,b){return parseInt(b)-1});b.submit();return!1}).on("click",".toolbar .pagination .nextPage:not(.disabled) a",function(b){b=a(this).closest("form");a(".inputPage",b).val(function(a,b){return parseInt(b)+
1});b.submit();return!1}).on("click",".toolbar .pagination .lastPage:not(.disabled) a",function(b){b=a(this).closest("form");a(".inputPage",b).val(a(".totalPage strong",b).text());b.submit();return!1}).on("change",".toolbar .pagination .inputPage",function(b){a(b.target).closest("form").submit();b.preventDefault()}).on("change",".toolbar .pagination select.pageSize",function(b){b=a(b.target).closest("form");a(".inputPage",b).val(1);b.submit()}).on("keydown",'.toolbar input[name="keyword"]',function(b){var c=
a(b.target).closest("form");if(13==b.keyCode)return a(".inputPage",c).val(1),c.submit(),!1}).on("click",".toolbar .glyphicon-search",function(b){b=a(b.target).closest("form");a(".inputPage",b).val(1);b.submit();return!1})})})(jQuery);
