jQuery.cookie=function(a,e,b){if(arguments.length>1&&(e===null||typeof e!=="object")){b=jQuery.extend({},b);if(e===null)b.expires=-1;if(typeof b.expires==="number"){var d=b.expires,c=b.expires=new Date;c.setDate(c.getDate()+d)}return document.cookie=[encodeURIComponent(a),"=",b.raw?String(e):encodeURIComponent(String(e)),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join("")}b=e||{};c=b.raw?function(g){return g}:
decodeURIComponent;return(d=RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?c(d[1]):null};
(function(a){a.fn.rc4=function(b){var d=a.extend({key:null,method:"encrypt",callback:null},b);if(a.fn.rc4.ctrlrInst==null)a.fn.rc4.ctrlrInst=new a.fn.rc4.ctrlr(d);return this.each(function(){a.fn.rc4.ctrlrInst.settings=d;a.fn.rc4.ctrlrInst.container=this;a.fn.rc4.ctrlrInst.initialise(this)})};a.extend({hexEncode:function(b){for(var d=[],c=0;c<256;c++)d[c]="0123456789abcdef".charAt(c>>4)+"0123456789abcdef".charAt(c&15);var g=[];for(c=0;c<b.length;c++)g[c]=d[b.charCodeAt(c)];return g.join("")},hexDecode:function(b){for(var d=
[],c=0;c<256;c++)d["0123456789abcdef".charAt(c>>4)+"0123456789abcdef".charAt(c&15)]=String.fromCharCode(c);if(!b.match(/^[a-f0-9]*$/i))return false;if(b.length%2)b="0"+b;var g=[],h=0;for(c=0;c<b.length;c+=2)g[h++]=d[b.substr(c,2)];return g.join("")},rc4Encrypt:function(b,d){s=[];for(var c=0;c<256;c++)s[c]=c;var g=0,h;for(c=0;c<256;c++){g=(g+s[c]+b.charCodeAt(c%b.length))%256;h=s[c];s[c]=s[g];s[g]=h}g=c=0;for(var f="",j=0;j<d.length;j++){c=(c+1)%256;g=(g+s[c])%256;h=s[c];s[c]=s[g];s[g]=h;f+=String.fromCharCode(d.charCodeAt(j)^
s[(s[c]+s[g])%256])}return f},rc4Decrypt:function(b,d){return a.rc4Encrypt(b,d)},rc4EncryptStr:function(b,d){return a.hexEncode(a.rc4Encrypt(d,unescape(encodeURIComponent(b))))},rc4DecryptStr:function(b,d){return decodeURIComponent(escape(a.rc4Decrypt(d,a.hexDecode(b))))}});a.rc4={};a.fn.rc4.ctrlrInst=null;a.fn.rc4.ctrlr=function(b){this.settings=b};var e=a.fn.rc4.ctrlr;e.prototype.initialise=function(){if(this.settings.key)if(this.settings.method){a.trim(this.settings.method.toUpperCase())=="ENCRYPT"&&
this.setObjectValue(a.hexEncode(a.rc4Encrypt(this.settings.key,this.getObjectValue())));a.trim(this.settings.method.toUpperCase())=="DECRYPT"&&this.setObjectValue(a.rc4Decrypt(this.settings.key,a.hexDecode(this.getObjectValue())))}};e.prototype.getObjectValue=function(){if(a.fn.rc4.ctrlrInst.container.innerHTML)return a.fn.rc4.ctrlrInst.container.innerHTML;if(a.fn.rc4.ctrlrInst.container.value)return a.fn.rc4.ctrlrInst.container.value};e.prototype.setObjectValue=function(b){if(a.fn.rc4.ctrlrInst.container.innerHTML)a.fn.rc4.ctrlrInst.container.innerHTML=
b;if(a.fn.rc4.ctrlrInst.container.value)a.fn.rc4.ctrlrInst.container.value=b}})(jQuery);
(function(a){function e(){a.fn.ajaxSubmit.debug&&window.console&&window.console.log&&window.console.log("[jquery.form] "+Array.prototype.join.call(arguments,""))}a.fn.ajaxSubmit=function(b){function d(){function n(){if(!B++){t.detachEvent?t.detachEvent("onload",n):t.removeEventListener("load",n,false);var v=true;try{if(C)throw"timeout";var r,q;q=t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document;var x=o.dataType=="xml"||q.XMLDocument||a.isXMLDoc(q);e("isXml="+
x);if(!x&&(q.body==null||q.body.innerHTML=="")){if(--G){B=0;setTimeout(n,100);return}e("Could not access iframe DOM after 50 tries.");return}p.responseText=q.body?q.body.innerHTML:null;p.responseXML=q.XMLDocument?q.XMLDocument:q;p.getResponseHeader=function(H){return{"content-type":o.dataType}[H]};if(o.dataType=="json"||o.dataType=="script"){var D=q.getElementsByTagName("textarea")[0];if(D)p.responseText=D.value;else{var E=q.getElementsByTagName("pre")[0];if(E)p.responseText=E.innerHTML}}else if(o.dataType==
"xml"&&!p.responseXML&&p.responseText!=null)p.responseXML=w(p.responseText);r=a.httpData(p,o.dataType)}catch(I){v=false;a.handleError(o,p,"error",I)}if(v){o.success(r,"success");y&&a.event.trigger("ajaxSuccess",[p,o])}y&&a.event.trigger("ajaxComplete",[p,o]);y&&!--a.active&&a.event.trigger("ajaxStop");if(o.complete)o.complete(p,v?"success":"error");setTimeout(function(){z.remove();p.responseXML=null},100)}}function w(v,r){if(window.ActiveXObject){r=new ActiveXObject("Microsoft.XMLDOM");r.async="false";
r.loadXML(v)}else r=(new DOMParser).parseFromString(v,"text/xml");return r&&r.documentElement&&r.documentElement.tagName!="parsererror"?r:null}var l=j[0];if(a(":input[name=submit]",l).length)alert('Error: Form elements must not be named "submit".');else{var o=a.extend({},a.ajaxSettings,b),u=a.extend(true,{},a.extend(true,{},a.ajaxSettings),o),A="jqFormIO"+(new Date).getTime(),z=a('<iframe id="'+A+'" name="'+A+'" src="'+o.iframeSrc+'" />'),t=z[0];z.css({position:"absolute",top:"-1000px",left:"-1000px"});
var p={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;z.attr("src",o.iframeSrc)}},y=o.global;y&&!a.active++&&a.event.trigger("ajaxStart");y&&a.event.trigger("ajaxSend",[p,o]);if(u.beforeSend&&u.beforeSend(p,u)===false)u.global&&a.active--;else if(!p.aborted){var B=0,C=0;if(u=l.clk){var F=u.name;if(F&&!u.disabled){b.extraData=b.extraData||{};b.extraData[F]=
u.value;if(u.type=="image"){b.extraData[name+".x"]=l.clk_x;b.extraData[name+".y"]=l.clk_y}}}setTimeout(function(){var v=j.attr("target"),r=j.attr("action");l.setAttribute("target",A);l.getAttribute("method")!="POST"&&l.setAttribute("method","POST");l.getAttribute("action")!=o.url&&l.setAttribute("action",o.url);b.skipEncodingOverride||j.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});o.timeout&&setTimeout(function(){C=true;n()},o.timeout);var q=[];try{if(b.extraData)for(var x in b.extraData)q.push(a('<input type="hidden" name="'+
x+'" value="'+b.extraData[x]+'" />').appendTo(l)[0]);z.appendTo("body");t.attachEvent?t.attachEvent("onload",n):t.addEventListener("load",n,false);l.submit()}finally{l.setAttribute("action",r);v?l.setAttribute("target",v):j.removeAttr("target");a(q).remove()}},10);var G=50}}}if(!this.length){e("ajaxSubmit: skipping submit process - no element selected");return this}if(typeof b=="function")b={success:b};var c=a.trim(this.attr("action"));if(c)c=(c.match(/^([^#]+)/)||[])[1];c=c||window.location.href||
"";b=a.extend({url:c,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b||{});c={};this.trigger("form-pre-serialize",[this,b,c]);if(c.veto){e("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(b.beforeSerialize&&b.beforeSerialize(this,b)===false){e("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var g=this.formToArray(b.semantic);if(b.data){b.extraData=b.data;for(var h in b.data)if(b.data[h]instanceof
Array)for(var f in b.data[h])g.push({name:h,value:b.data[h][f]});else g.push({name:h,value:b.data[h]})}if(b.beforeSubmit&&b.beforeSubmit(g,this,b)===false){e("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[g,this,b,c]);if(c.veto){e("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}h=a.param(g);if(b.type.toUpperCase()=="GET"){b.url+=(b.url.indexOf("?")>=0?"&":"?")+h;b.data=null}else b.data=h;var j=this,k=[];b.resetForm&&
k.push(function(){j.resetForm()});b.clearForm&&k.push(function(){j.clearForm()});if(!b.dataType&&b.target){var m=b.success||function(){};k.push(function(n){a(b.target).html(n).each(m,arguments)})}else b.success&&k.push(b.success);b.success=function(n,w){for(var l=0,o=k.length;l<o;l++)k[l].apply(b,[n,w,j])};h=a("input:file",this).fieldValue();f=false;for(c=0;c<h.length;c++)if(h[c])f=true;if(h.length&&b.iframe!==false||b.iframe||f)b.closeKeepAlive?a.get(b.closeKeepAlive,d):d();else a.ajax(b);this.trigger("form-submit-notify",
[this,b]);return this};a.fn.ajaxForm=function(b){return this.ajaxFormUnbind().bind("submit.form-plugin",function(){a(this).ajaxSubmit(b);return false}).bind("click.form-plugin",function(d){var c=d.target,g=a(c);if(!g.is(":submit,input:image")){c=g.closest(":submit");if(c.length==0)return;c=c[0]}var h=this;h.clk=c;if(c.type=="image")if(d.offsetX!=undefined){h.clk_x=d.offsetX;h.clk_y=d.offsetY}else if(typeof a.fn.offset=="function"){g=g.offset();h.clk_x=d.pageX-g.left;h.clk_y=d.pageY-g.top}else{h.clk_x=
d.pageX-c.offsetLeft;h.clk_y=d.pageY-c.offsetTop}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)})};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(b){var d=[];if(this.length==0)return d;var c=this[0],g=b?c.getElementsByTagName("*"):c.elements;if(!g)return d;for(var h=0,f=g.length;h<f;h++){var j=g[h],k=j.name;if(k)if(b&&c.clk&&j.type=="image"){if(!j.disabled&&c.clk==j){d.push({name:k,value:a(j).val()});d.push({name:k+".x",
value:c.clk_x},{name:k+".y",value:c.clk_y})}}else if((j=a.fieldValue(j,true))&&j.constructor==Array)for(var m=0,n=j.length;m<n;m++)d.push({name:k,value:j[m]});else j!==null&&typeof j!="undefined"&&d.push({name:k,value:j})}if(!b&&c.clk){b=a(c.clk);g=b[0];if((k=g.name)&&!g.disabled&&g.type=="image"){d.push({name:k,value:b.val()});d.push({name:k+".x",value:c.clk_x},{name:k+".y",value:c.clk_y})}}return d};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(b){var d=
[];this.each(function(){var c=this.name;if(c){var g=a.fieldValue(this,b);if(g&&g.constructor==Array)for(var h=0,f=g.length;h<f;h++)d.push({name:c,value:g[h]});else g!==null&&typeof g!="undefined"&&d.push({name:this.name,value:g})}});return a.param(d)};a.fn.fieldValue=function(b){for(var d=[],c=0,g=this.length;c<g;c++){var h=a.fieldValue(this[c],b);h===null||typeof h=="undefined"||h.constructor==Array&&!h.length||(h.constructor==Array?a.merge(d,h):d.push(h))}return d};a.fieldValue=function(b,d){var c=
b.name,g=b.type,h=b.tagName.toLowerCase();if(typeof d=="undefined")d=true;if(d&&(!c||b.disabled||g=="reset"||g=="button"||(g=="checkbox"||g=="radio")&&!b.checked||(g=="submit"||g=="image")&&b.form&&b.form.clk!=b||h=="select"&&b.selectedIndex==-1))return null;if(h=="select"){var f=b.selectedIndex;if(f<0)return null;c=[];h=b.options;var j=(g=g=="select-one")?f+1:h.length;for(f=g?f:0;f<j;f++){var k=h[f];if(k.selected){var m=k.value;m||(m=k.attributes&&k.attributes.value&&!k.attributes.value.specified?
k.text:k.value);if(g)return m;c.push(m)}}return c}return b.value};a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})};a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var b=this.type,d=this.tagName.toLowerCase();if(b=="text"||b=="password"||d=="textarea")this.value="";else if(b=="checkbox"||b=="radio")this.checked=false;else if(d=="select")this.selectedIndex=-1})};a.fn.resetForm=function(){return this.each(function(){if(typeof this.reset==
"function"||typeof this.reset=="object"&&!this.reset.nodeType)this.reset()})};a.fn.enable=function(b){if(b==undefined)b=true;return this.each(function(){this.disabled=!b})};a.fn.selected=function(b){if(b==undefined)b=true;return this.each(function(){var d=this.type;if(d=="checkbox"||d=="radio")this.checked=b;else if(this.tagName.toLowerCase()=="option"){d=a(this).parent("select");b&&d[0]&&d[0].type=="select-one"&&d.find("option").selected(false);this.selected=b}})}})(jQuery);
(function(a){function e(f){function j(k){var m=RegExp(a.map(k,encodeURIComponent).join("|"),"ig");return function(n){return n.replace(m,decodeURIComponent)}}f=a.extend({unescape:false},f||{});b.encoder=function(k){if(k===true)return function(m){return m};if(typeof k=="string"&&(k=j(k.split("")))||typeof k=="function")return function(m){return k(encodeURIComponent(m))};return encodeURIComponent}(f.unescape)}var b={put:function(f,j){(j||window).location.hash=this.encoder(f)},get:function(f){f=(f||window).location.hash.replace(/^#/,
"");return a.browser.mozilla?f:decodeURIComponent(f)},encoder:encodeURIComponent},d={id:"__jQuery_history",init:function(){var f='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';a("body").prepend(f);return this},_document:function(){return a("#"+this.id)[0].contentWindow.document},put:function(f){try{var j=this._document();j.open();j.close();b.put(f,j)}catch(k){}},get:function(){try{return b.get(this._document())}catch(f){}}},c={appState:undefined,callback:undefined,init:function(){},
check:function(){},load:function(){}};a.history=c;var g={init:function(f,j){e(j);c.callback=f;var k=b.get();c.appState=k;c.callback(k);setInterval(c.check,300)},check:function(){var f=b.get();if(f!=c.appState){c.appState=f;c.callback(f)}},load:function(f){if(f!=c.appState){b.put(f);c.appState=f;c.callback(f)}}},h={init:function(f,j){e(j);c.callback=f;var k=b.get();c.appState=k;d.init().put(k);c.callback(k);setInterval(c.check,100)},check:function(){var f=d.get(),j=b.get();if(j!=f)if(j==c.appState){c.appState=
f;b.put(f);c.callback(f)}else{c.appState=j;d.put(j);c.callback(j)}},load:function(f){if(f!=c.appState){b.put(f);d.put(f);c.appState=f;c.callback(f)}}};a.browser.msie&&(a.browser.version<8||document.documentMode<8)?a.extend(c,h):a.extend(c,g)})(jQuery);
(function(a){a.fn.jnotifyInizialize=function(e){e=a.extend({},{oneAtTime:false,appendType:"append"},e);this.addClass("notify-wrapper");e.oneAtTime&&this.addClass("notify-wrapper-oneattime");e.appendType=="prepend"&&e.oneAtTime==false&&this.addClass("notify-wrapper-prepend");return this};a.fn.jnotifyAddMessage=function(e){function b(f){f.animate({opacity:"0"},600,function(){f.parent().animate({height:"0px"},300,function(){var j=f.closest(".notify-wrapper");f.parent().remove();navigator.userAgent.match(/MSIE (\d+\.\d+);/)&&
f.parent().parent().removeClass("IEsucks");$(".jnotify-item-wrapper",j).length||j.remove()})})}if(this.hasClass("notify-wrapper")){e=a.extend({},{text:"",type:"message",showIcon:true,permanent:false,disappearTime:3E3},e);var d,c;switch(e.type){case "message":d="ui-state-highlight";c="ui-icon-info";break;case "error":d="ui-state-error";c="ui-icon-alert";break;default:d="ui-state-highlight";c="ui-icon-info"}this.hasClass("notify-wrapper-oneattime")&&this.children().remove();var g=a('<div class="jnotify-item-wrapper"></div>'),
h=a('<div class="ui-corner-all jnotify-item"></div>').addClass(d);this.hasClass("notify-wrapper-prepend")?h.prependTo(this):h.appendTo(this);h.wrap(g);e.showIcon&&a('<span class="ui-icon" style="float:left; margin-right: .3em;" />').addClass(c).appendTo(h);a("<span></span>").html(e.text).appendTo(h);a('<div class="jnotify-item-close"><span class="ui-icon ui-icon-circle-close"/></div>').prependTo(h).click(function(){b(h)});if(navigator.userAgent.match(/MSIE (\d+\.\d+);/)){this.css({top:document.documentElement.scrollTop});
this.removeClass("IEsucks")}e.permanent||setTimeout(function(){b(h)},e.disappearTime)}}})(jQuery);
(function(a){a.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:true,overlayOpacity:0.01,overlayColor:"#FFF",draggable:true,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(e,b,d){if(b==null)b="Alert";a.alerts._show(b,e,null,"alert",function(c){d&&d(c)})},confirm:function(e,b,d){if(b==null)b="Confirm";a.alerts._show(b,e,null,"confirm",function(c){d&&d(c)})},prompt:function(e,b,d,c){if(d==null)d="Prompt";a.alerts._show(d,e,b,"prompt",function(g){c&&
c(g)})},_show:function(e,b,d,c,g){a.alerts._hide();a.alerts._overlay("show");a("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_icon"></div><div id="popup_message"></div></div></div>');a.alerts.dialogClass&&a("#popup_container").addClass(a.alerts.dialogClass);var h=a.browser.msie&&parseInt(a.browser.version)<=6?"absolute":"fixed";a("#popup_container").css({position:h,zIndex:99999,padding:0,margin:0});a("#popup_title").text(e);a("#popup_content").addClass(c);
a("#popup_message").text(b);a("#popup_message").html(a("#popup_message").text().replace(/\n/g,"<br />"));a("#popup_container").css({minWidth:a("#popup_container").outerWidth(),maxWidth:a("#popup_container").outerWidth()});a.alerts._reposition();a.alerts._maintainPosition(true);switch(c){case "alert":a("#popup_message").after('<div id="popup_panel"><button id="popup_ok" class="btn"><span><span>'+a.alerts.okButton+"</span></span></button></div>");a("#popup_ok").click(function(){a.alerts._hide();g(true)});
a("#popup_ok").focus().keypress(function(j){if(j.keyCode==13||j.keyCode==27)a("#popup_ok").trigger("click")});break;case "confirm":a("#popup_message").after('<div id="popup_panel"><button id="popup_ok" class="btn"><span><span>'+a.alerts.okButton+'</span></span></button><button id="popup_cancel" class="btn"><span><span>'+a.alerts.cancelButton+"</span></span></button></div>");a("#popup_ok").click(function(){a.alerts._hide();g&&g(true)});a("#popup_cancel").click(function(){a.alerts._hide();g&&g(false)});
a("#popup_ok").focus();a("#popup_ok, #popup_cancel").keypress(function(j){j.keyCode==13&&a("#popup_ok").trigger("click");j.keyCode==27&&a("#popup_cancel").trigger("click")});break;case "prompt":a("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><button id="popup_ok" class="btn"><span><span>'+a.alerts.okButton+'</span></span></button><button id="popup_cancel" class="btn"><span><span>'+a.alerts.cancelButton+"</span></span></button></div>");
a("#popup_prompt").width(a("#popup_message").width());a("#popup_ok").click(function(){var j=a("#popup_prompt").val();a.alerts._hide();g&&g(j)});a("#popup_cancel").click(function(){a.alerts._hide();g&&g(null)});a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(j){j.keyCode==13&&a("#popup_ok").trigger("click");j.keyCode==27&&a("#popup_cancel").trigger("click")});d&&a("#popup_prompt").val(d);a("#popup_prompt").focus().select()}if(a.alerts.draggable)try{a("#popup_container").draggable({handle:a("#popup_title")});
a("#popup_title").css({cursor:"move"})}catch(f){}},_hide:function(){a("#popup_container").remove();a.alerts._overlay("hide");a.alerts._maintainPosition(false)},_overlay:function(e){switch(e){case "show":a.alerts._overlay("hide");a("BODY").append('<div id="popup_overlay"></div>');a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:a.alerts.overlayColor,opacity:a.alerts.overlayOpacity});break;case "hide":a("#popup_overlay").remove()}},
_reposition:function(){var e=a(window).height()/2-a("#popup_container").outerHeight()/2+a.alerts.verticalOffset,b=a(window).width()/2-a("#popup_container").outerWidth()/2+a.alerts.horizontalOffset;if(e<0)e=0;if(b<0)b=0;if(a.browser.msie&&parseInt(a.browser.version)<=6)e+=a(window).scrollTop();a("#popup_container").css({top:e+"px",left:b+"px"});a("#popup_overlay").height(a(document).height())},_maintainPosition:function(e){if(a.alerts.repositionOnResize)switch(e){case true:a(window).bind("resize",
a.alerts._reposition);break;case false:a(window).unbind("resize",a.alerts._reposition)}}};jAlert=function(e,b,d){a.alerts.alert(e,b,d)};jConfirm=function(e,b,d){a.alerts.confirm(e,b,d)};jPrompt=function(e,b,d,c){a.alerts.prompt(e,b,d,c)}})(jQuery);
(function(a){function e(d,c,g,h){if(!c.busy){var f=d[0].parentNode,j=d[c.currSlide],k=d[c.nextSlide];if(!(f.cycleTimeout===0&&!g)){if(g||!f.cyclePause){c.before.length&&a.each(c.before,function(m,n){n.apply(k,[j,k,c,h])});g=function(){a.browser.msie&&this.style.removeAttribute("filter");a.each(c.after,function(m,n){n.apply(k,[j,k,c,h])})};if(c.nextSlide!=c.currSlide){c.busy=1;a.fn.cycle.custom(j,k,c,g)}g=c.nextSlide+1==d.length;c.nextSlide=g?0:c.nextSlide+1;c.currSlide=g?d.length-1:c.nextSlide-1}if(c.timeout)f.cycleTimeout=
setTimeout(function(){e(d,c,0,!c.rev)},c.timeout)}}}function b(d,c,g){var h=d[0].parentNode,f=h.cycleTimeout;if(f){clearTimeout(f);h.cycleTimeout=0}c.nextSlide=c.currSlide+g;if(c.nextSlide<0)c.nextSlide=d.length-1;else if(c.nextSlide>=d.length)c.nextSlide=0;e(d,c,1,g>=0);return false}a.fn.cycle=function(d){return this.each(function(){d=d||{};this.cycleTimeout&&clearTimeout(this.cycleTimeout);this.cyclePause=this.cycleTimeout=0;var c=a(this),g=d.slideExpr?a(d.slideExpr,this):c.children(),h=g.get();
if(h.length<2)window.console&&window.console.log&&window.console.log("terminating; too few slides: "+h.length);else{var f=a.extend({},a.fn.cycle.defaults,d||{},a.metadata?c.metadata():a.meta?c.data():{});f.before=f.before?[f.before]:[];f.after=f.after?[f.after]:[];f.after.unshift(function(){f.busy=0});var j=this.className;f.width=parseInt((j.match(/w:(\d+)/)||[])[1])||f.width;f.height=parseInt((j.match(/h:(\d+)/)||[])[1])||f.height;f.timeout=parseInt((j.match(/t:(\d+)/)||[])[1])||f.timeout;c.css("position")==
"static"&&c.css("position","relative");f.width&&c.width(f.width);f.height&&f.height!="auto"&&c.height(f.height);g.css({position:"absolute",top:0,left:0}).hide().each(function(k){a(this).css("z-index",h.length-k)});a(h[0]).css("opacity",1).show();a.browser.msie&&h[0].style.removeAttribute("filter");f.fit&&f.width&&g.width(f.width);f.fit&&f.height&&f.height!="auto"&&g.height(f.height);f.pause&&c.hover(function(){this.cyclePause=1},function(){this.cyclePause=0});a.fn.cycle.transitions.fade(c,g,f);g.each(function(){var k=
a(this);this.cycleH=f.fit&&f.height?f.height:k.height();this.cycleW=f.fit&&f.width?f.width:k.width()});g.not(":eq(0)").css({opacity:0});f.cssFirst&&a(g[0]).css(f.cssFirst);if(f.timeout){if(f.speed.constructor==String)f.speed={slow:600,fast:200}[f.speed]||400;for(f.sync||(f.speed/=2);f.timeout-f.speed<250;)f.timeout+=f.speed}f.speedIn=f.speed;f.speedOut=f.speed;f.slideCount=h.length;f.currSlide=0;f.nextSlide=1;c=g[0];f.before.length&&f.before[0].apply(c,[c,c,f,true]);f.after.length>1&&f.after[1].apply(c,
[c,c,f,true]);if(f.click&&!f.next)f.next=f.click;f.next&&a(f.next).bind("click",function(){return b(h,f,f.rev?-1:1)});f.prev&&a(f.prev).bind("click",function(){return b(h,f,f.rev?1:-1)});if(f.timeout)this.cycleTimeout=setTimeout(function(){e(h,f,0,!f.rev)},f.timeout+(f.delay||0))}})};a.fn.cycle.custom=function(d,c,g,h){var f=a(d),j=a(c);j.css({opacity:0});var k=function(){j.animate({opacity:1},g.speedIn,g.easeIn,h)};f.animate({opacity:0},g.speedOut,g.easeOut,function(){f.css({display:"none"});g.sync||
k()});g.sync&&k()};a.fn.cycle.transitions={fade:function(d,c,g){c.not(":eq(0)").css("opacity",0);g.before.push(function(){a(this).show()})}};a.fn.cycle.ver=function(){return"Lite-1.0"};a.fn.cycle.defaults={timeout:4E3,speed:1E3,next:null,prev:null,before:null,after:null,height:"auto",sync:1,fit:0,pause:0,delay:0,slideExpr:null}})(jQuery);
(function(a,e){var b=a.jQuery||a.Cowboy||(a.Cowboy={}),d;b.throttle=d=function(c,g,h,f){function j(){function n(){m=+new Date;h.apply(l,u)}function w(){k=e}var l=this,o=+new Date-m,u=arguments;f&&!k&&n();k&&clearTimeout(k);if(f===e&&o>c)n();else if(g!==true)k=setTimeout(f?w:n,f===e?c-o:c)}var k,m=0;if(typeof g!=="boolean"){f=h;h=g;g=e}if(b.guid)j.guid=h.guid=h.guid||b.guid++;return j};b.debounce=function(c,g,h){return h===e?d(c,g,false):d(c,h,g!==false)}})(this);
MessageBundle={en:{"ajax.loading":"loading...","ajax.error":"network error,please try later",required:"please input value","selection.required":"please select",email:"must be a valid email",integer:"must be a integer","integer.positive":"must be a positive integer","double":"must be a decimal","double.positive":"must be a positive decimal","save.and.create":"save and add","no.selection":"no selection","no.modification":"no modification",select:"please select","confirm.delete":"are sure to delete?",
"confirm.save":"are sure to save?","confirm.exit":"you have unsaved modification,are sure to exit?"},"zh-cn":{"ajax.loading":"\u6b63\u5728\u52a0\u8f7d...","ajax.error":"\u9519\u8bef,\u8bf7\u7a0d\u540e\u518d\u8bd5",required:"\u8bf7\u586b\u5199","selection.required":"\u8bf7\u9009\u62e9",email:"email\u4e0d\u5408\u6cd5",integer:"\u8bf7\u586b\u5199\u6574\u6570","integer.positive":"\u8bf7\u586b\u5199\u6b63\u6574\u6570","double":"\u8bf7\u586b\u5199\u6570\u5b57","double.positive":"\u8bf7\u586b\u5199\u5927\u4e8e\u96f6\u7684\u6570\u5b57",
"save.and.create":"\u4fdd\u5b58\u5e76\u65b0\u5efa","no.selection":"\u6ca1\u6709\u9009\u4e2d","no.modification":"\u6ca1\u6709\u66f4\u6539",add:"\u6dfb\u52a0",remove:"\u5220\u9664",browse:"\u6d4f\u89c8\u6587\u4ef6",select:"\u8bf7\u9009\u62e9",save:"\u4fdd\u5b58",restore:"\u8fd8\u539f",cancel:"\u53d6\u6d88",error:"\u9519\u8bef",success:"\u64cd\u4f5c\u6210\u529f",confirm:"\u786e\u5b9a","confirm.delete":"\u786e\u5b9a\u8981\u5220\u9664?","confirm.save":"\u786e\u5b9a\u8981\u4fdd\u5b58?","confirm.exit":"\u6709\u6539\u52a8\u672a\u4fdd\u5b58,\u786e\u5b9a\u8981\u79bb\u5f00?",
"true":"\u662f","false":"\u5426"},get:function(){var a=arguments[0],e=MessageBundle.lang();e=MessageBundle[e][a];if(typeof e=="undefined")e=a;for(a=1;a<arguments.length;a++)e=e.replace("{"+a+"}",arguments[a]);return e},lang:function(){var a=(navigator.language||navigator.browserLanguage||"").toLowerCase();MessageBundle[a]||(a="en");return a},shortLang:function(){var a=MessageBundle.lang(),e=a.indexOf("-");if(e>0)a=a.substring(0,e);return a}};
(function(){var a=document.domain;if(!a.match(/^(\d+\.){3}\d+$/)){a=a.split(".");try{if(a.length>2)document.domain=a[a.length-2]+"."+a[a.length-1]}catch(e){if(a.length>3)document.domain=a[a.length-3]+"."+a[a.length-2]+"."+a[a.length-1]}}$.ajaxSettings.traditional=true;var b=$.ajax;$.ajax=function(c){c.url=UrlUtils.makeSameOrigin(c.url);c.xhrFields={withCredentials:true};var g=c.beforeSend;c.beforeSend=function(h){if(c.header)for(var f in c.header)h.setRequestHeader(f,c.header[f]);g&&g(h)};return b(c)};
if(typeof $.rc4EncryptStr!="undefined"&&$('meta[name="pe"]').attr("content")!="false"){var d=$.param;$.param=function(c,g){if(jQuery.isArray(c)||c.jquery)jQuery.each(c,function(){if(/password$/.test(this.name.toLowerCase()))try{var h=$.cookie("T");h=h.substring(15,25);this.value=$.rc4EncryptStr(encodeURIComponent(this.value+h),h)}catch(f){}});return d(c,g)}}})();
Indicator={text:"",show:function(a){$("#indicator").length||$('<div id="indicator"></div>').appendTo(document.body);var e=$("#indicator");a&&e.hasClass("loading")&&e.removeClass("loading");!a&&!e.hasClass("loading")&&e.addClass("loading");e.html(Indicator.text||MessageBundle.get("ajax.loading"));e.show()},showError:function(){Indicator.text=MessageBundle.get("ajax.error");Indicator.show(true)},hide:function(){Indicator.text="";$("#indicator")&&$("#indicator").hide()}};
UrlUtils={extractDomain:function(a){if(UrlUtils.isAbsolute(a)){a=a.replace(/:\d+/,"");a=a.substring(a.indexOf("://")+3);var e=a.indexOf("/");if(e>0)a=a.substring(0,e);return a}else return document.location.hostname},isSameDomain:function(a,e){e=e||document.location.href;var b=UrlUtils.extractDomain(a),d=UrlUtils.extractDomain(e);return b==d},isSameOrigin:function(a,e){e=e||document.location.href;var b=UrlUtils.extractDomain(a),d=UrlUtils.extractDomain(e);if($.browser.msie&&b!=d)return false;b=b.split(".");
d=d.split(".");return b[b.length-1]==d[d.length-1]&&b[b.length-2]==d[d.length-2]},makeSameOrigin:function(a,e){e=e||document.location.href;return UrlUtils.isSameOrigin(a,e)?a:e.substring(0,e.indexOf("/",e.indexOf("://")+3))+CONTEXT_PATH+"/webproxy/"+a},isAbsolute:function(a){if(!a)return false;a=a.indexOf("://");return a==4||a==5},absolutize:function(a){if(UrlUtils.isAbsolute(a))return a;var e=document.location.href,b=e.indexOf("://");return a.length==0||a.indexOf("/")==0?e.substring(0,e.indexOf("/",
b+3))+CONTEXT_PATH+a:e.substring(0,e.lastIndexOf("/")+1)+a}};
Message={compose:function(a,e){return'<div class="'+e+'"><span class="close" onclick="$(this.parentNode).remove()"></span>'+a+"</div>"},showMessage:function(){Message.showActionMessage(MessageBundle.get.apply(this,arguments))},showActionMessage:function(a,e){if(a){if(typeof a=="string"){var b=[];b.push(a);a=b}$("#message").length||$('<div id="message></div>"').prependTo($("#content"));if(typeof $.fn.jnotifyInizialize!="undefined"){$("#notification").length||$('<div id="notification"><div>').prependTo(document.body).jnotifyInizialize({oneAtTime:false,
appendType:"append"}).css({position:"fixed",top:"40px",right:"40px",width:"250px","min-height":"50px","z-index":"9999"});for(b=0;b<a.length;b++)$("#notification").jnotifyAddMessage({text:a[b],permanent:false})}else{var d="";for(b=0;b<a.length;b++)d+=Message.compose(a[b],"action_message");if(e&&e.tagName=="FORM"){$("#"+e.id+"_message").length==0&&$(e).before('<div id="'+e.id+'_message"></div>');$("#"+e.id+"_message").html(d)}else{$("#message").length||$('<div id="message"></div>').prependTo($("#content"));
$("#message").html(d)}}}},showError:function(){Message.showActionError(MessageBundle.get.apply(this,arguments))},showActionError:function(a,e){if(a){if(typeof a=="string"){var b=[];b.push(a);a=b}$("#message").length||$('<div id="message></div>"').prependTo($("#content"));if(typeof $.fn.jnotifyInizialize!="undefined"){$("#message").jnotifyInizialize({oneAtTime:false});for(b=0;b<a.length;b++)$("#message").jnotifyAddMessage({text:a[b],permanent:true,type:"error"})}else if($.alerts)$.alerts.alert(a.join("\n"),
MessageBundle.get("error"));else{var d="";for(b=0;b<a.length;b++)d+=Message.compose(a[b],"action_error");if(d)if(e&&e.tagName=="FORM"){$("#"+e.id+"_message").length==0&&$(e).before('<div id="'+e.id+'_message"></div>');$("#"+e.id+"_message").html(d)}else{$("#message").length||$('<div id="message"></div>').prependTo($("#content"));$("#message").html(d)}}}},showFieldError:function(a,e,b){e=e||MessageBundle.get(b);a&&$(a).length?$(a).parent().append(Message.compose(e,"field_error")):Message.showActionError(e)}};
Form={focus:function(a){for(var e=$(":input:visible",a).get(),b=0;b<e.length;b++)if($(".field_error",$(e[b]).parent()).length){setTimeout(function(){$(e[b]).focus()},50);break}},validate:function(a){if($(a).attr("tagName")!="FORM"){$(".field_error",$(a).parent()).remove();if($(a).hasClass("required")&&!$(a).val()){$(a).attr("tagName")=="SELECT"?Message.showFieldError(a,null,"selection.required"):Message.showFieldError(a,null,"required");return false}else if($(a).hasClass("email")&&$(a).val()&&!$(a).val().match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/)){Message.showFieldError(a,
null,"email");return false}else{if($(a).hasClass("integer")&&$(a).val()){if($(a).hasClass("positive")&&!$(a).val().match(/^[+]?\d*$/)){Message.showFieldError(a,null,"integer.positive");return false}if(!$(a).hasClass("positive")&&!$(a).val().match(/^[-+]?\d*$/)){Message.showFieldError(a,null,"integer");return false}}else if($(a).hasClass("double")&&$(a).val()){if($(a).hasClass("positive")&&!$(a).val().match(/^[+]?\d+(\.\d+)?$/)){Message.showFieldError(a,null,"double.positive");return false}if(!$(a).hasClass("positive")&&
!$(a).val().match(/^[-+]?\d+(\.\d+)?$/)){Message.showFieldError(a,null,"double");return false}}return true}}else{var e=true;$(":input",a).each(function(){Form.validate(this)||(e=false)});e||Form.focus(a);return e}}};
Ajax={defaultRepacement:"content",fire:function(a,e){if(!a)return true;var b=a[e];if(typeof b=="undefined")b=$(a).attr(e);if(typeof b=="undefined"||!b)return true;var d=[];if(arguments.length>2)for(var c=2;c<arguments.length;c++)d[c-2]=arguments[c];var g;if(typeof b=="function")g=b.apply(a,d);else{if(b.indexOf("return")>-1)b=b.replace("return","");a._temp=function(){return eval(b)};try{g=a._temp()}catch(h){alert(h)}}if(false==g)return false;return true},handleResponse:function(a,e){var b=false,d=
e.target;if(typeof a=="string"&&(a.indexOf("{")==0||a.indexOf("[")==0))a=$.parseJSON(a);if(typeof a=="string"){if(a.indexOf("<title>")>=0&&a.indexOf("</title>")>0){Ajax.title=a.substring(a.indexOf("<title>")+7,a.indexOf("</title>"));if(e.replaceTitle)document.title=Ajax.title}for(var c={},g=(e.replacement||$(d).attr("replacement")||($(d).attr("tagName")=="FORM"?$(d).attr("id"):null)||Ajax.defaultRepacement).split(","),h=0;h<g.length;h++){var f=g[h].split(":",2);c[f[0]]=f.length==2?f[1]:f[0]}g=a.replace(/<script(.|\s)*?\/script>/g,
"");h=$("<div/>").html(g);for(var j in c){e.quiet||$("html,body").animate({scrollTop:$("#"+j).offset().top-50},100);if(h.find("#"+c[j]).length)$("#"+j).html(h.find("#"+c[j]).html());else{g.indexOf(">",g.indexOf("<body"));g.indexOf("</body>");if(h.find("#content").length)$("#"+j).html(h.find("#content").html());else h.find("body").length?$("#"+j).html(h.find("body").html()):$("#"+j).html(g)}!e.quiet&&typeof $.effects!="undefined"&&$("#"+j).effect("highlight");_observe($("#"+j))}h.remove();Ajax.fire(d,
"onsuccess",a)}else{Ajax.jsonResult=a;if(a.fieldErrors||a.actionErrors){b=true;e.onerror&&e.onerror.apply(window);Ajax.fire(d,"onerror",a)}else{e.onsuccess&&e.onsuccess.apply(window);Ajax.fire(d,"onsuccess",a)}if(a.fieldErrors)if(d){for(j in a.fieldErrors)Message.showFieldError(d[j],a.fieldErrors[j]);Form.focus(d)}else for(j in a.fieldErrors)Message.showActionError(a.fieldErrors[j]);Message.showActionError(a.actionErrors,d);Message.showActionMessage(a.actionMessages,d)}if(d&&d.tagName=="FORM"){setTimeout(function(){$('button[type="submit"]',
d).removeAttr("disabled");Captcha.refresh()},100);if(!b&&$(d).hasClass("reset"))if(typeof d.reset=="function"||typeof d.reset=="object"&&!d.reset.nodeType)d.reset()}Indicator.text="";Ajax.fire(d,"oncomplete",a)},jsonResult:null,title:""};
function ajaxOptions(a){a=a||{};if(!a.dataType)a.dataType="text";if(!a.header)a.header={};$.extend(a.header,{"X-Data-Type":a.dataType});var e=a.beforeSend;a.beforeSend=function(d){e&&e(d);Indicator.text=a.indicator;Ajax.fire(null,a.onloading)};var b=a.success;a.success=function(d,c,g){Ajax.handleResponse(d,a);if(b&&!(d.fieldErrors||d.actionErrors))b(d,c,g)};return a}function ajax(a){$.ajax(ajaxOptions(a))}var CONTEXT_PATH=$('meta[name="context_path"]').attr("content")||"";
if(typeof Initialization=="undefined")Initialization={};if(typeof Observation=="undefined")Observation={};function _init(){var a=[],e;for(e in Initialization)typeof Initialization[e]=="function"&&a.push(e);a.sort();for(e=0;e<a.length;e++)Initialization[a[e]].call(this);_observe()}
function _observe(a){a||(a=document);$(".chart,form.ajax,.ajaxpanel",a).each(function(d){if(!this.id)this.id=("a"+(d+Math.random())).replace(".","").substring(0,5)});var e=[],b;for(b in Observation)typeof Observation[b]=="function"&&e.push(b);e.sort();for(b=0;b<e.length;b++)Observation[e[b]].call(this,a)}$(_init);
Initialization.common=function(){$(document).ajaxStart(function(){Indicator.show()});$(document).ajaxError(function(){Indicator.showError()});$(document).ajaxSuccess(function(a,e){Indicator.hide();var b=e.getResponseHeader("X-Redirect-To");if(b)top.location.href=UrlUtils.absolutize(b)});$.alerts.okButton=MessageBundle.get("confirm");$.alerts.cancelButton=MessageBundle.get("cancel");$(".menu li a").each(function(){$(this).attr("href")==document.location.pathname&&$(this).addClass("selected")});$(".menu li a").click(function(){$("li a",
$(this).closest(".menu")).removeClass("selected");$(this).addClass("selected")})};var HISTORY_ENABLED=(typeof history.pushState!="undefined"||typeof $.history!="undefined")&&$('meta[name="history_enabled"]').attr("content")!="false",SESSION_HISTORY_SUPPORT=typeof history.pushState!="undefined"&&document.location.hash.indexOf("#!/")!=0,_historied_=false;
Initialization.history=function(){if(HISTORY_ENABLED)if(SESSION_HISTORY_SUPPORT)window.onpopstate=function(a){var e=document.location.href;if(a.state&&_historied_)ajax({url:e,cache:true,replaceTitle:true,success:function(){$(".menu li a").each(function(){if(this.href==e){$("li a",$(this).closest(".menu")).removeClass("selected");$(this).addClass("selected")}})},header:{"X-Fragment":"_"}});else{history.replaceState(e,"",e);_historied_=true}};else $.history.init(function(a){if(!(!a&&!_historied_||a&&
a.indexOf("!")<0)){var e=document.location.href;if(e.indexOf("#")>0)e=e.substring(0,e.indexOf("#"));if(a.length){a=a.substring(1);if(UrlUtils.isSameDomain(a))if(CONTEXT_PATH)a=CONTEXT_PATH+a;e=a}_historied_=true;ajax({url:e,cache:true,replaceTitle:true,success:function(){$(".menu li").each(function(){if($(this).attr("href")==e){$("li a",$(this).closest(".menu")).removeClass("selected");$(this).addClass("selected")}})},header:{"X-Fragment":"_"}})}},{unescape:true})};
Observation.common=function(a){$("div.action_error,div.action_message,div.field_error,ul.action_error li,ul.action_message li").prepend('<div class="close" onclick="$(this.parentNode).remove()"></div>');var e=$(a).attr("tagName")=="FORM"&&$(a).hasClass("focus")?a:$(".focus:eq(0)",a);if(e.attr("tagName")!="FORM")e.focus();else{e=$(":input:visible",e).toArray();for(var b=0;b<e.length;b++)if(!$(e[b]).val()){$(e[b]).focus();break}}$("form",a).each(function(){$(this).hasClass("ajax")||$(this).submit(function(){$(".action_message,.action_error").remove();
return Form.validate(this)})});$('input[type="text"]',a).each(function(){$(this).attr("autocomplete")||$(this).attr("autocomplete","off");var d=$(this).attr("maxlength");if(!d||d>3E3)if($(this).hasClass("date"))$(this).attr("maxlength","10");else if($(this).hasClass("integer"))$(this).attr("maxlength","11");else $(this).hasClass("double")?$(this).attr("maxlength","22"):$(this).attr("maxlength","255")});$(".highlightrow tbody tr").hover(function(){$(this).addClass("highlight")},function(){$(this).removeClass("highlight")});
!$.browser.msie&&typeof $.fn.elastic!="undefined"&&$("textarea").elastic();typeof $.fn.tabs!="undefined"&&$("div.tabs",a).each(function(){$(this).tabs({select:function(d,c){$(c.panel).trigger("load")}}).tabs("select",$(this).attr("tab"))});typeof $.fn.corner!="undefined"&&$.browser.msie&&$.browser.version<=8&&$(".rounded",a).each(function(){$(this).corner($(this).attr("corner"))});typeof $.fn.datepicker!="undefined"&&$("input.date",a).datepicker({dateFormat:"yy-mm-dd",zIndex:2E3});$("input.captcha",
a).focus(function(){if(!$(this).attr("_captcha_")){$(this).after('<img class="captcha" src="'+this.id+'"/>');$("img.captcha",a).click(Captcha.refresh);$(this).attr("_captcha_",true)}});typeof $.fn.treeTable!="undefined"&&$(".treeTable",a).each(function(){$(this).treeTable({initialState:$(this).hasClass("expanded")?"expanded":"collapsed"})});typeof $.fn.truncatable!="undefined"&&$(".truncatable",a).each(function(){$(this).truncatable({limit:$(this).attr("limit")||100})});if(typeof swfobject!="undefined"){$(".chart",
a).each(function(){var d=this.id,c=$(this).width(),g=$(this).height(),h=$(this).attr("data");if(h.indexOf("/")==0)h=document.location.protocol+"//"+document.location.host+h;h=encodeURIComponent(h);if(!d||!c||!g||!h)alert("id,width,height,data all required");swfobject.embedSWF(CONTEXT_PATH+"/assets/images/open-flash-chart.swf",d,c,g,"9.0.0",CONTEXT_PATH+"/assets/images/expressInstall.swf",{"data-file":h},{wmode:"transparent"})});window.save_image=function(){var d=[];d.push("<html><head><title>Charts: Export as Image</title></head><body>");
$("object[data]").each(function(){d.push('<img src="data:image/png;base64,'+this.get_img_binary()+'"/>')});d.push("</body></html>");var c=window.open("","_blank");with(c.document){write(d.join(""));c.document.close()}}}typeof $.fn.cycle!="undefined"&&$(".cycle").each(function(){var d={fx:"fade",pause:1};$.extend(d,(new Function("return "+($(this).attr("options")||"{}")))());$(this).cycle(d)});$("a.ajax,form.ajax",a).each(function(){var d=this,c=[],g=$(d).attr("id");if(typeof g!="string")g="";g=($(d).attr("replacement")||
($(d).attr("tagName")=="FORM"?g:"")).split(",");for(var h=0;h<g.length;h++){var f=g[h].split(":",2);(f=f.length==2?f[1]:f[0])&&c.push(f)}if(this.tagName=="FORM"){var j={beforeSubmit:function(){if(!Ajax.fire(d,"onprepare"))return false;$(".action_message,.action_error").remove();if(!Form.validate(d))return false;Indicator.text=$(d).attr("indicator");$('button[type="submit"]',d).attr("disabled",true);Ajax.fire(d,"onloading")},error:function(){Form.focus(d);d&&d.tagName=="FORM"&&setTimeout(function(){$('button[type="submit"]',
d).removeAttr("disabled")},100);Ajax.fire(d,"onerror")},success:function(k){Ajax.handleResponse(k,{target:d})},header:{}};$(this).hasClass("view")||$.extend(j.header,{"X-Data-Type":"json"});c.length>0&&$.extend(j.header,{"X-Fragment":c.join(",")});$(this).bind("submit",function(){$(this).ajaxSubmit(j);return false});$("input",this).keyup($.debounce(500,function(k){k.keyCode!=13&&Form.validate(this);return true}));$("select",this).change(function(){Form.validate(this);return true})}else $(this).click(function(){if(!Ajax.fire(d,
"onprepare"))return false;if(HISTORY_ENABLED&&$(this).hasClass("view")&&!$(this).attr("replacement")){var k=this.href;if(UrlUtils.isSameDomain(k)){k=k.substring(k.indexOf("//")+2);k=k.substring(k.indexOf("/"));if(SESSION_HISTORY_SUPPORT)history.pushState(k,"",k);else{if(CONTEXT_PATH)k=k.substring(CONTEXT_PATH.length);k=k.replace(/^.*#/,"");$.history.load("!"+k);return false}}}k={url:this.href,type:$(this).attr("method")||"GET",cache:$(this).hasClass("cache"),beforeSend:function(){$(".action_message,.action_error").remove();
Indicator.text=$(d).attr("indicator");Ajax.fire(d,"onloading")},error:function(){Ajax.fire(d,"onerror")},header:{}};var m={target:d};$(this).hasClass("view")||$.extend(k.header,{"X-Data-Type":"json"});if(c.length>0)$.extend(k.header,{"X-Fragment":c.join(",")});else{$.extend(k.header,{"X-Fragment":"_"});m.replaceTitle=true}k.success=function(n){Ajax.handleResponse(n,m)};$.ajax(k);return false})})};
var Dialog={adapt:function(a,e){if(e){var b=e.document;if(e.contentDocument)b=e.contentDocument;else if(e.contentWindow)b=e.contentWindow.document;$(a).dialog("option","title",b.title)}else $(a).dialog("option","title",Ajax.title);a.dialog("option","position","center");a.height()>600&&a.dialog("option","position","top")}};Captcha={refresh:function(){$("img.captcha").each(function(){var a=this.src,e=a.lastIndexOf("&");if(e>0)a=a.substring(0,e);this.src=a+"&"+Math.random()});$("input.captcha").val("")}};
(function(a){function e(b,d,c){if(typeof FileReaderSync!="undefined"){var g=new BlobBuilder,h=new FileReaderSync;b=event.data;for(var f=0;f<b.length;f++){g.append("--");g.append(c);g.append("\r\n");g.append("Content-Disposition: form-data; name=");g.append(d);g.append("; filename=");g.append(b[f].name);g.append("\r\n");g.append("Content-Type: ");g.append(b[f].type);g.append("\r\n\r\n");g.append(h.readAsArrayBuffer(b[f]));g.append("\r\n")}g.append("--");g.append(c);g.append("--");return g.getBlob()}else if(a.browser.mozilla){g=
"";for(f=0;f<b.length;f++){g+="--"+c+"\r\n";g+="Content-Disposition: form-data; name="+d+"; filename="+b[f].name+"\r\n";g+="Content-Type: "+b[f].type+"\r\n\r\n";g+=b[f].getAsBinary()+"\r\n"}g+="--"+c+"--";return g}}a.ajaxupload=function(b,d){if(b){var c={url:document.location.href,name:"file"};d=d||{};a.extend(c,d);d=c;typeof d.beforeSend!="undefined"&&d.beforeSend();var g=new XMLHttpRequest,h="xxxxxxxxx";g.open("POST",d.url,true);g.setRequestHeader("Content-Type","multipart/form-data, boundary="+
h);g.onreadystatechange=function(){if(g.readyState==4)if(g.status>=200&&g.status<=200||g.status==304)g.responseText!=""&&typeof d.success!="undefined"&&d.success(g)};if(typeof FileReader!="undefined"&&typeof BlobBuilder!="undefined")for(c=0;c<b.length;c++){var f=b[c],j=new FileReader;j.sourceFile=f;var k=0;h="xxxxxxxxx";var m=new BlobBuilder;j.onload=function(n){var w=n.target.sourceFile,l=new BlobBuilder;l.append("--");l.append(h);l.append("\r\n");l.append("Content-Disposition: form-data; name=");
l.append(d.name);l.append("; filename=");l.append(w.name);l.append("\r\n");l.append("Content-Type: ");l.append(w.type);l.append("\r\n\r\n");l.append(n.target.result);l.append("\r\n");m.append(l.getBlob());k++;if(k==b.length){m.append("--");m.append(h);m.append("--");g.send(m.getBlob())}};j.readAsArrayBuffer(f)}else if(m=e(b,d.name,h))g.sendAsBinary?g.sendAsBinary(m):g.send(m);else g.abort()}}})(jQuery);
(function(a){function e(b){var d={url:b.attr("url")||document.location.href,global:false,quiet:true,beforeSend:function(){typeof a.fn.mask!="undefined"?b.mask(MessageBundle.get("ajax.loading")):b.html('<div style="text-align:center;">'+MessageBundle.get("ajax.loading")+"</div>")},complete:function(){typeof a.fn.unmask!="undefined"&&b.unmask()},success:function(c){if(typeof c!="string"){b.empty();a.tmpl(a("#"+b.attr("tmpl")),c).appendTo(b);_observe(b)}}};d.replacement=b.attr("url")?b.attr("id")+":"+
(b.attr("replacement")||"content"):b.attr("id");ajax(d)}a.fn.ajaxpanel=function(){a(this).each(function(){var b=a(this);b.bind("load",function(){e(b)});if(b.attr("timeout"))setTimeout(function(){e(b)},parseInt(b.attr("timeout")));else if(b.attr("interval"))setInterval(function(){e(b)},parseInt(b.attr("interval")));else b.hasClass("manual")||e(b)});return this}})(jQuery);Observation.ajaxpanel=function(a){$(".ajaxpanel",a).ajaxpanel();$(".ajaxpanel .load",a).click(function(){$(this).closest(".ajaxpanel").trigger("load")})};
(function(a){a.fn.marquee=function(){this.each(function(){var e=a(this);e.mouseenter(function(){a(this).addClass("stop")}).mouseleave(function(){a(this).removeClass("stop")});setInterval(function(){e.hasClass("stop")||a(a(":first-child",e).attr("tagName")+":eq(0)",e).fadeOut("slow",function(){a(this).appendTo(e).fadeIn("slow")})},e.attr("delay")||3E3)});return this}})(jQuery);Observation.marquee=function(a){$(".marquee",a).marquee()};
(function(a){SearchHighlighter={init:function(){rf=document.referrer;if(window.location.href.indexOf("/search")>0)rf=window.location.href;keywords=null;if(rf&&rf.indexOf("?")>0){name="q";value="";if(rf.indexOf("yahoo.com")>0)name="p";arr=rf.substring(rf.indexOf("?")+1).split("&");for(i=0;i<arr.length;i++){ar=arr[i].split("=");if(ar[0]==name){value=ar[1]||"";break}}if(keywords=decodeURIComponent(value.replace(/\+/g," "))){if(a("q"))a("q").value=keywords;keywords=a.trim(keywords.replace(/<|>|\//g," "));
keywords=keywords.split(/\s+/);for(i=0;i<keywords.length;i++)SearchHighlighter.highlight(document.body,keywords[i])}}},highlight:function(e,b){if(e.hasChildNodes)for(var d=0;d<e.childNodes.length;d++)SearchHighlighter.highlight(e.childNodes[d],b);if(e.nodeType==3){text=e.nodeValue.toLowerCase();b=b.toLowerCase();if(text.indexOf(b)!=-1){pn=e.parentNode;if(pn.className!="bold"){nv=e.nodeValue;ni=text.indexOf(b);before=document.createTextNode(nv.substr(0,ni));docWordVal=nv.substr(ni,b.length);after=
document.createTextNode(nv.substr(ni+b.length));hiwordtext=document.createTextNode(docWordVal);hiword=document.createElement("span");hiword.className="bold";hiword.appendChild(hiwordtext);pn.insertBefore(before,e);pn.insertBefore(hiword,e);pn.insertBefore(after,e);pn.removeChild(e)}}}}};a(function(){SearchHighlighter.init()})})(jQuery);
(function(a){function e(){var b=a(this),d=b.attr("url")||document.location.href,c=b.attr("name")||"content",g={};g[c]=b.html();b.attr("edited")&&a.alerts.confirm(MessageBundle.get("confirm.save"),MessageBundle.get("select"),function(h){h&&ajax({url:d,type:"POST",data:g,global:false,success:function(){b.removeAttr("edited")}})})}a.fn.editme=function(){return a(this).attr("contenteditable","true").keyup(function(){a(this).attr("edited","true")}).blur(e)}})(jQuery);
Observation.editme=function(a){$(".editme",a).editme()};
