/*
 MIT License
 MIT License
 MIT License
 MIT License
 MIT License
 MIT License
 MIT License
 MIT License
 MIT License
*/
jQuery.cookie=function(a,d,b){if(arguments.length>1&&(d===null||typeof d!=="object")){b=jQuery.extend({},b);if(d===null)b.expires=-1;if(typeof b.expires==="number"){var c=b.expires,e=b.expires=new Date;e.setDate(e.getDate()+c)}return document.cookie=[encodeURIComponent(a),"=",b.raw?String(d):encodeURIComponent(String(d)),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join("")}b=d||{};e=b.raw?function(a){return a}:
decodeURIComponent;return(c=RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?e(c[1]):null};
(function(a){a.fn.rc4=function(b){var c=a.extend({key:null,method:"encrypt",callback:null},b);if(a.fn.rc4.ctrlrInst==null)a.fn.rc4.ctrlrInst=new a.fn.rc4.ctrlr(c);return this.each(function(){a.fn.rc4.ctrlrInst.settings=c;a.fn.rc4.ctrlrInst.container=this;a.fn.rc4.ctrlrInst.initialise(this)})};a.extend({hexEncode:function(a){for(var c=[],e=0;e<256;e++)c[e]="0123456789abcdef".charAt(e>>4)+"0123456789abcdef".charAt(e&15);for(var f=[],e=0;e<a.length;e++)f[e]=c[a.charCodeAt(e)];return f.join("")},hexDecode:function(a){for(var c=
[],e=0;e<256;e++)c["0123456789abcdef".charAt(e>>4)+"0123456789abcdef".charAt(e&15)]=String.fromCharCode(e);if(!a.match(/^[a-f0-9]*$/i))return false;a.length%2&&(a="0"+a);for(var f=[],d=0,e=0;e<a.length;e+=2)f[d++]=c[a.substr(e,2)];return f.join("")},rc4Encrypt:function(a,c){s=[];for(var e=0;e<256;e++)s[e]=e;for(var f=0,d,e=0;e<256;e++)f=(f+s[e]+a.charCodeAt(e%a.length))%256,d=s[e],s[e]=s[f],s[f]=d;for(var f=e=0,g="",j=0;j<c.length;j++)e=(e+1)%256,f=(f+s[e])%256,d=s[e],s[e]=s[f],s[f]=d,g+=String.fromCharCode(c.charCodeAt(j)^
s[(s[e]+s[f])%256]);return g},rc4Decrypt:function(b,c){return a.rc4Encrypt(b,c)},rc4EncryptStr:function(b,c){return a.hexEncode(a.rc4Encrypt(c,unescape(encodeURIComponent(b))))},rc4DecryptStr:function(b,c){return decodeURIComponent(escape(a.rc4Decrypt(c,a.hexDecode(b))))}});a.rc4={};a.fn.rc4.ctrlrInst=null;a.fn.rc4.ctrlr=function(a){this.settings=a};var d=a.fn.rc4.ctrlr;d.prototype.initialise=function(){this.settings.key&&this.settings.method&&(a.trim(this.settings.method.toUpperCase())=="ENCRYPT"&&
this.setObjectValue(a.hexEncode(a.rc4Encrypt(this.settings.key,this.getObjectValue()))),a.trim(this.settings.method.toUpperCase())=="DECRYPT"&&this.setObjectValue(a.rc4Decrypt(this.settings.key,a.hexDecode(this.getObjectValue()))))};d.prototype.getObjectValue=function(){if(a.fn.rc4.ctrlrInst.container.innerHTML)return a.fn.rc4.ctrlrInst.container.innerHTML;if(a.fn.rc4.ctrlrInst.container.value)return a.fn.rc4.ctrlrInst.container.value};d.prototype.setObjectValue=function(b){if(a.fn.rc4.ctrlrInst.container.innerHTML)a.fn.rc4.ctrlrInst.container.innerHTML=
b;if(a.fn.rc4.ctrlrInst.container.value)a.fn.rc4.ctrlrInst.container.value=b}})(jQuery);
(function(a){function d(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}a.fn.ajaxSubmit=function(b){function c(e){for(var c=new FormData,f=0;f<e.length;f++)e[f].type!="file"&&c.append(e[f].name,e[f].value);g.find("input:file:enabled").each(function(){var b=a(this).attr("name"),e=this.files;if(b)for(var f=0;f<e.length;f++)c.append(b,e[f])});
if(b.extraData)for(var d in b.extraData)c.append(d,b.extraData[d]);b.data=null;e=a.extend(true,{},a.ajaxSettings,b,{contentType:false,processData:false,cache:false,type:"POST"});e.data=null;var h=e.beforeSend;e.beforeSend=function(a,e){e.data=c;if(a.upload)a.upload.onprogress=function(a){e.progress(a.position,a.total)};h&&h.call(e,a,b)};a.ajax(e)}function e(e){function c(){function b(){try{var a=(r.contentWindow?r.contentWindow.document:r.contentDocument?r.contentDocument:r.document).readyState;d("state = "+
a);a.toLowerCase()=="uninitialized"&&setTimeout(b,50)}catch(e){d("Server abort: ",e," (",e.name,")"),h(y),x&&clearTimeout(x),x=void 0}}var e=g.attr("target"),k=g.attr("action");j.setAttribute("target",q);f||j.setAttribute("method","POST");k!=l.url&&j.setAttribute("action",l.url);!l.skipEncodingOverride&&(!f||/post/i.test(f))&&g.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});l.timeout&&(x=setTimeout(function(){z=true;h(A)},l.timeout));var v=[];try{if(l.extraData)for(var u in l.extraData)v.push(a('<input type="hidden" name="'+
u+'">').attr("value",l.extraData[u]).appendTo(j)[0]);l.iframeTarget||(w.appendTo("body"),r.attachEvent?r.attachEvent("onload",h):r.addEventListener("load",h,false));setTimeout(b,15);j.submit()}finally{j.setAttribute("action",k),e?j.setAttribute("target",e):g.removeAttr("target"),a(v).remove()}}function h(b){if(!n.aborted&&!B){try{t=r.contentWindow?r.contentWindow.document:r.contentDocument?r.contentDocument:r.document}catch(e){d("cannot access response document: ",e),b=y}if(b===A&&n)n.abort("timeout");
else if(b==y&&n)n.abort("server abort");else if(t&&t.location.href!=l.iframeSrc||z){r.detachEvent?r.detachEvent("onload",h):r.removeEventListener("load",h,false);var b="success",c;try{if(z)throw"timeout";var f=l.dataType=="xml"||t.XMLDocument||a.isXMLDoc(t);d("isXml="+f);if(!f&&window.opera&&(t.body==null||t.body.innerHTML=="")&&--F){d("requeing onLoad callback, DOM not available");setTimeout(h,250);return}var g=t.body?t.body:t.documentElement;n.responseText=g?g.innerHTML:null;n.responseXML=t.XMLDocument?
t.XMLDocument:t;if(f)l.dataType="xml";n.getResponseHeader=function(a){return{"content-type":l.dataType}[a]};if(g)n.status=Number(g.getAttribute("status"))||n.status,n.statusText=g.getAttribute("statusText")||n.statusText;var j=(l.dataType||"").toLowerCase(),k=/(json|script|text)/.test(j);if(k||l.textarea){var v=t.getElementsByTagName("textarea")[0];if(v)n.responseText=v.value,n.status=Number(v.getAttribute("status"))||n.status,n.statusText=v.getAttribute("statusText")||n.statusText;else if(k){var u=
t.getElementsByTagName("pre")[0],m=t.getElementsByTagName("body")[0];if(u)n.responseText=u.textContent?u.textContent:u.innerText;else if(m)n.responseText=m.textContent?m.textContent:m.innerText}}else if(j=="xml"&&!n.responseXML&&n.responseText!=null)n.responseXML=G(n.responseText);try{C=H(n,j,l)}catch(E){b="parsererror",n.error=c=E||b}}catch(q){d("error caught: ",q),b="error",n.error=c=q||b}n.aborted&&(d("upload aborted"),b=null);n.status&&(b=n.status>=200&&n.status<300||n.status===304?"success":
"error");if(b==="success")l.success&&l.success.call(l.context,C,"success",n),o&&a.event.trigger("ajaxSuccess",[n,l]);else if(b){if(c==void 0)c=n.statusText;l.error&&l.error.call(l.context,n,b,c);o&&a.event.trigger("ajaxError",[n,l,c])}o&&a.event.trigger("ajaxComplete",[n,l]);o&&!--a.active&&a.event.trigger("ajaxStop");l.complete&&l.complete.call(l.context,n,b);B=true;l.timeout&&clearTimeout(x);setTimeout(function(){l.iframeTarget||w.remove();n.responseXML=null},100)}}}var j=g[0],k,m,l,o,q,w,r,n,z,
x;k=!!a.fn.prop;if(e)if(k)for(m=0;m<e.length;m++)k=a(j[e[m].name]),k.prop("disabled",false);else for(m=0;m<e.length;m++)k=a(j[e[m].name]),k.removeAttr("disabled");if(a(":input[name=submit],:input[id=submit]",j).length)alert('Error: Form elements must not have name or id of "submit".');else if(l=a.extend(true,{},a.ajaxSettings,b),l.context=l.context||l,q="jqFormIO"+(new Date).getTime(),l.iframeTarget?(w=a(l.iframeTarget),k=w.attr("name"),k==null?w.attr("name",q):q=k):(w=a('<iframe name="'+q+'" src="'+
l.iframeSrc+'" />'),w.css({position:"absolute",top:"-1000px",left:"-1000px"})),r=w[0],n={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var e=b==="timeout"?"timeout":"aborted";d("aborting upload... "+e);this.aborted=1;w.attr("src",l.iframeSrc);n.error=e;l.error&&l.error.call(l.context,n,e,b);o&&a.event.trigger("ajaxError",[n,l,e]);l.complete&&l.complete.call(l.context,
n,e)}},(o=l.global)&&!a.active++&&a.event.trigger("ajaxStart"),o&&a.event.trigger("ajaxSend",[n,l]),l.beforeSend&&l.beforeSend.call(l.context,n,l)===false)l.global&&a.active--;else if(!n.aborted){if(e=j.clk)if((k=e.name)&&!e.disabled)if(l.extraData=l.extraData||{},l.extraData[k]=e.value,e.type=="image")l.extraData[k+".x"]=j.clk_x,l.extraData[k+".y"]=j.clk_y;var A=1,y=2,e=a("meta[name=csrf-token]").attr("content");if((k=a("meta[name=csrf-param]").attr("content"))&&e)l.extraData=l.extraData||{},l.extraData[k]=
e;l.forceSync?c():setTimeout(c,10);var C,t,F=50,B,G=a.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&b.documentElement.nodeName!="parsererror"?b:null},I=a.parseJSON||function(a){return window.eval("("+a+")")},H=function(b,e,c){var f=b.getResponseHeader("content-type")||"",d=e==="xml"||!e&&f.indexOf("xml")>=0,b=d?b.responseXML:b.responseText;d&&b.documentElement.nodeName===
"parsererror"&&a.error&&a.error("parsererror");c&&c.dataFilter&&(b=c.dataFilter(b,e));typeof b==="string"&&(e==="json"||!e&&f.indexOf("json")>=0?b=I(b):(e==="script"||!e&&f.indexOf("javascript")>=0)&&a.globalEval(b));return b}}}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;var f,h,g=this;typeof b=="function"&&(b={success:b});f=this.attr("method");h=this.attr("action");(h=(h=typeof h==="string"?a.trim(h):"")||window.location.href||"")&&(h=(h.match(/^([^#]+)/)||
[])[1]);b=a.extend(true,{url:h,success:a.ajaxSettings.success,type:f||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b);h={};this.trigger("form-pre-serialize",[this,b,h]);if(h.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&b.beforeSerialize(this,b)===false)return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var j=b.traditional;if(j===void 0)j=a.ajaxSettings.traditional;var k,m=this.formToArray(b.semantic);
if(b.data)b.extraData=b.data,k=a.param(b.data,j);if(b.beforeSubmit&&b.beforeSubmit(m,this,b)===false)return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[m,this,b,h]);if(h.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;h=a.param(m,j);k&&(h=h?h+"&"+k:k);b.type.toUpperCase()=="GET"?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+h,b.data=null):b.data=h;var o=[];b.resetForm&&o.push(function(){g.resetForm()});b.clearForm&&
o.push(function(){g.clearForm(b.includeHidden)});if(!b.dataType&&b.target){var q=b.success||function(){};o.push(function(e){var c=b.replaceTarget?"replaceWith":"html";a(b.target)[c](e).each(q,arguments)})}else b.success&&o.push(b.success);b.success=function(a,e,c){for(var f=b.context||b,d=0,h=o.length;d<h;d++)o[d].apply(f,[a,e,c||g,g])};j=a("input:file:enabled[value]",this);k=j.length>0;h=g.attr("enctype")=="multipart/form-data"||g.attr("encoding")=="multipart/form-data";j=!(!k||!j.get(0).files||
!window.FormData);d("fileAPI :"+j);b.iframe!==false&&(b.iframe||(k||h)&&!j)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){e(m)}):e(m):(k||h)&&j?(b.progress=b.progress||a.noop,c(m)):a.ajax(b);this.trigger("form-submit-notify",[this,b]);return this};a.fn.ajaxForm=function(b){if(this.length===0){var c=this.selector,e=this.context;if(!a.isReady&&c)return d("DOM not ready, queuing ajaxForm"),a(function(){a(c,e).ajaxForm(b)}),this;d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));
return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(e){e.isDefaultPrevented()||(e.preventDefault(),a(this).ajaxSubmit(b))}).bind("click.form-plugin",function(b){var e=b.target,c=a(e);if(!c.is(":submit,input:image")){e=c.closest(":submit");if(e.length==0)return;e=e[0]}var d=this;d.clk=e;if(e.type=="image")b.offsetX!=void 0?(d.clk_x=b.offsetX,d.clk_y=b.offsetY):typeof a.fn.offset=="function"?(c=c.offset(),d.clk_x=b.pageX-c.left,d.clk_y=b.pageY-c.top):(d.clk_x=b.pageX-e.offsetLeft,
d.clk_y=b.pageY-e.offsetTop);setTimeout(function(){d.clk=d.clk_x=d.clk_y=null},100)})};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(b){var c=[];if(this.length===0)return c;var e=this[0],f=b?e.getElementsByTagName("*"):e.elements;if(!f)return c;var d,g,j,k,m,o;for(d=0,m=f.length;d<m;d++)if(g=f[d],j=g.name)if(b&&e.clk&&g.type=="image")!g.disabled&&e.clk==g&&(c.push({name:j,value:a(g).val(),type:g.type}),c.push({name:j+".x",value:e.clk_x},
{name:j+".y",value:e.clk_y}));else if((k=a.fieldValue(g,true))&&k.constructor==Array)for(g=0,o=k.length;g<o;g++)c.push({name:j,value:k[g]});else k!==null&&typeof k!="undefined"&&c.push({name:j,value:k,type:g.type});if(!b&&e.clk&&(b=a(e.clk),f=b[0],(j=f.name)&&!f.disabled&&f.type=="image"))c.push({name:j,value:b.val()}),c.push({name:j+".x",value:e.clk_x},{name:j+".y",value:e.clk_y});return c};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(b){var c=
[];this.each(function(){var e=this.name;if(e){var f=a.fieldValue(this,b);if(f&&f.constructor==Array)for(var d=0,g=f.length;d<g;d++)c.push({name:e,value:f[d]});else f!==null&&typeof f!="undefined"&&c.push({name:this.name,value:f})}});return a.param(c)};a.fn.fieldValue=function(b){for(var c=[],e=0,f=this.length;e<f;e++){var d=a.fieldValue(this[e],b);d===null||typeof d=="undefined"||d.constructor==Array&&!d.length||(d.constructor==Array?a.merge(c,d):c.push(d))}return c};a.fieldValue=function(b,c){var e=
b.name,f=b.type,d=b.tagName.toLowerCase();c===void 0&&(c=true);if(c&&(!e||b.disabled||f=="reset"||f=="button"||(f=="checkbox"||f=="radio")&&!b.checked||(f=="submit"||f=="image")&&b.form&&b.form.clk!=b||d=="select"&&b.selectedIndex==-1))return null;if(d=="select"){var g=b.selectedIndex;if(g<0)return null;for(var e=[],d=b.options,j=(f=f=="select-one")?g+1:d.length,g=f?g:0;g<j;g++){var k=d[g];if(k.selected){var m=k.value;m||(m=k.attributes&&k.attributes.value&&!k.attributes.value.specified?k.text:k.value);
if(f)return m;e.push(m)}}return e}return a(b).val()};a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})};a.fn.clearFields=a.fn.clearInputs=function(a){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,f=this.tagName.toLowerCase();if(c.test(e)||f=="textarea"||a&&/hidden/.test(e))this.value="";else if(e=="checkbox"||e=="radio")this.checked=false;else if(f==
"select")this.selectedIndex=-1})};a.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})};a.fn.enable=function(a){a===void 0&&(a=true);return this.each(function(){this.disabled=!a})};a.fn.selected=function(b){b===void 0&&(b=true);return this.each(function(){var c=this.type;if(c=="checkbox"||c=="radio")this.checked=b;else if(this.tagName.toLowerCase()=="option")c=a(this).parent("select"),b&&c[0]&&c[0].type==
"select-one"&&c.find("option").selected(false),this.selected=b})};a.fn.ajaxSubmit.debug=false})(jQuery);
(function(a){function d(e){function c(b){var e=RegExp(a.map(b,encodeURIComponent).join("|"),"ig");return function(a){return a.replace(e,decodeURIComponent)}}e=a.extend({unescape:false},e||{});b.encoder=function(a){return a===true?function(a){return a}:typeof a=="string"&&(a=c(a.split("")))||typeof a=="function"?function(b){return a(encodeURIComponent(b))}:encodeURIComponent}(e.unescape)}var b={put:function(a,b){(b||window).location.hash=this.encoder(a)},get:function(b){b=(b||window).location.hash.replace(/^#/,
"");try{return a.browser.mozilla?b:decodeURIComponent(b)}catch(e){return b}},encoder:encodeURIComponent},c={id:"__jQuery_history",init:function(){var b='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';a("body").prepend(b);return this},_document:function(){return a("#"+this.id)[0].contentWindow.document},put:function(a){var e=this._document();e.open();e.close();b.put(a,e)},get:function(){return b.get(this._document())}},e={base:{callback:void 0,type:void 0,check:function(){},
load:function(){},init:function(a,b){d(b);f.callback=a;f._options=b;f._init()},_init:function(){},_options:{}},timer:{_appState:void 0,_init:function(){var a=b.get();f._appState=a;f.callback(a);setInterval(f.check,100)},check:function(){var a=b.get();if(a!=f._appState)f._appState=a,f.callback(a)},load:function(a){if(a!=f._appState)b.put(a),f._appState=a,f.callback(a)}},iframeTimer:{_appState:void 0,_init:function(){var a=b.get();f._appState=a;c.init().put(a);f.callback(a);setInterval(f.check,100)},
check:function(){var a=c.get(),e=b.get();if(e!=a)e==f._appState?(f._appState=a,b.put(a),f.callback(a)):(f._appState=e,c.put(e),f.callback(e))},load:function(a){if(a!=f._appState)b.put(a),c.put(a),f._appState=a,f.callback(a)}},hashchangeEvent:{_init:function(){f.callback(b.get());a(window).bind("hashchange",f.check)},check:function(){f.callback(b.get())},load:function(a){b.put(a)}}},f=a.extend({},e.base);f.type=a.browser.msie&&(a.browser.version<8||document.documentMode<8)?"iframeTimer":"onhashchange"in
window?"hashchangeEvent":"timer";a.extend(f,e[f.type]);a.history=f})(jQuery);
(function(a){a.fn.jnotifyInizialize=function(d){d=a.extend({},{oneAtTime:false,appendType:"append"},d);this.addClass("notify-wrapper");d.oneAtTime&&this.addClass("notify-wrapper-oneattime");d.appendType=="prepend"&&d.oneAtTime==false&&this.addClass("notify-wrapper-prepend");return this};a.fn.jnotifyAddMessage=function(d){function b(a){a.animate({opacity:"0"},600,function(){a.parent().animate({height:"0px"},300,function(){var b=a.closest(".notify-wrapper");a.parent().remove();navigator.userAgent.match(/MSIE (\d+\.\d+);/)&&
a.parent().parent().removeClass("IEsucks");$(".jnotify-item-wrapper",b).length||b.remove()})})}if(this.hasClass("notify-wrapper")){var d=a.extend({},{text:"",type:"message",showIcon:true,permanent:false,disappearTime:3E3},d),c,e;switch(d.type){case "message":c="ui-state-highlight";e="ui-icon-info";break;case "error":c="ui-state-error";e="ui-icon-alert";break;default:c="ui-state-highlight",e="ui-icon-info"}this.hasClass("notify-wrapper-oneattime")&&this.children().remove();var f=a('<div class="jnotify-item-wrapper"></div>'),
h=a('<div class="ui-corner-all jnotify-item"></div>').addClass(c);this.hasClass("notify-wrapper-prepend")?h.prependTo(this):h.appendTo(this);h.wrap(f);d.showIcon&&a('<span class="ui-icon" style="float:left; margin-right: .3em;" />').addClass(e).appendTo(h);a("<span></span>").html(d.text).appendTo(h);a('<div class="jnotify-item-close"><span class="ui-icon ui-icon-circle-close"/></div>').prependTo(h).click(function(){b(h)});navigator.userAgent.match(/MSIE (\d+\.\d+);/)&&(this.css({top:document.documentElement.scrollTop}),
this.removeClass("IEsucks"));d.permanent||setTimeout(function(){b(h)},d.disappearTime)}}})(jQuery);
(function(a){a.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:true,overlayOpacity:0.01,overlayColor:"#FFF",draggable:true,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(d,b,c){b==null&&(b="Alert");a.alerts._show(b,d,null,"alert",function(a){c&&c(a)})},confirm:function(d,b,c){b==null&&(b="Confirm");a.alerts._show(b,d,null,"confirm",function(a){c&&c(a)})},prompt:function(d,b,c,e){c==null&&(c="Prompt");a.alerts._show(c,d,b,"prompt",function(a){e&&
e(a)})},_show:function(d,b,c,e,f){a.alerts._hide();a.alerts._overlay("show");a("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_icon"></div><div id="popup_message"></div></div></div>');a.alerts.dialogClass&&a("#popup_container").addClass(a.alerts.dialogClass);var h=a.browser.msie&&parseInt(a.browser.version)<=6?"absolute":"fixed";a("#popup_container").css({position:h,zIndex:99999,padding:0,margin:0});a("#popup_title").text(d);a("#popup_content").addClass(e);
a("#popup_message").text(b);a("#popup_message").html(a("#popup_message").text().replace(/\n/g,"<br />"));a("#popup_container").css({minWidth:a("#popup_container").outerWidth(),maxWidth:a("#popup_container").outerWidth()});a.alerts._reposition();a.alerts._maintainPosition(true);switch(e){case "alert":a("#popup_message").after('<div id="popup_panel"><button id="popup_ok" class="btn">'+a.alerts.okButton+"</button></div>");a("#popup_ok").click(function(){a.alerts._hide();f(true)});a("#popup_ok").focus().keypress(function(b){(b.keyCode==
13||b.keyCode==27)&&a("#popup_ok").trigger("click")});break;case "confirm":a("#popup_message").after('<div id="popup_panel"><button id="popup_ok" class="btn">'+a.alerts.okButton+'</button><button id="popup_cancel" class="btn">'+a.alerts.cancelButton+"</button></div>");a("#popup_ok").click(function(){a.alerts._hide();f&&f(true)});a("#popup_cancel").click(function(){a.alerts._hide();f&&f(false)});a("#popup_ok").focus();a("#popup_ok, #popup_cancel").keypress(function(b){b.keyCode==13&&a("#popup_ok").trigger("click");
b.keyCode==27&&a("#popup_cancel").trigger("click")});break;case "prompt":a("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><button id="popup_ok" class="btn">'+a.alerts.okButton+'</button><button id="popup_cancel" class="btn">'+a.alerts.cancelButton+"</button></div>"),a("#popup_prompt").width(a("#popup_message").width()),a("#popup_ok").click(function(){var b=a("#popup_prompt").val();a.alerts._hide();f&&f(b)}),a("#popup_cancel").click(function(){a.alerts._hide();
f&&f(null)}),a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(b){b.keyCode==13&&a("#popup_ok").trigger("click");b.keyCode==27&&a("#popup_cancel").trigger("click")}),c&&a("#popup_prompt").val(c),a("#popup_prompt").focus().select()}if(a.alerts.draggable)try{a("#popup_container").draggable({handle:a("#popup_title")}),a("#popup_title").css({cursor:"move"})}catch(g){}},_hide:function(){a("#popup_container").remove();a.alerts._overlay("hide");a.alerts._maintainPosition(false)},_overlay:function(d){switch(d){case "show":a.alerts._overlay("hide");
a("BODY").append('<div id="popup_overlay"></div>');a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:a.alerts.overlayColor,opacity:a.alerts.overlayOpacity});break;case "hide":a("#popup_overlay").remove()}},_reposition:function(){var d=a(window).height()/2-a("#popup_container").outerHeight()/2+a.alerts.verticalOffset,b=a(window).width()/2-a("#popup_container").outerWidth()/2+a.alerts.horizontalOffset;d<0&&(d=0);b<0&&(b=
0);a.browser.msie&&parseInt(a.browser.version)<=6&&(d+=a(window).scrollTop());a("#popup_container").css({top:d+"px",left:b+"px"});a("#popup_overlay").height(a(document).height())},_maintainPosition:function(d){if(a.alerts.repositionOnResize)switch(d){case true:a(window).bind("resize",a.alerts._reposition);break;case false:a(window).unbind("resize",a.alerts._reposition)}}};jAlert=function(d,b,c){a.alerts.alert(d,b,c)};jConfirm=function(d,b,c){a.alerts.confirm(d,b,c)};jPrompt=function(d,b,c,e){a.alerts.prompt(d,
b,c,e)}})(jQuery);
(function(a){function d(b,c){this.$element=a(b);this.options=c;this.enabled=true;this.fixTitle()}d.prototype={show:function(){var b=this.getTitle();if(b&&this.enabled){var c=this.tip();c.find(".tipsy-inner")[this.options.html?"html":"text"](b);c[0].className="tipsy";c.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var b=a.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),e=c[0].offsetWidth,f=c[0].offsetHeight,
d=typeof this.options.gravity=="function"?this.options.gravity.call(this.$element[0]):this.options.gravity,g;switch(d.charAt(0)){case "n":g={top:b.top+b.height+this.options.offset,left:b.left+b.width/2-e/2};break;case "s":g={top:b.top-f-this.options.offset,left:b.left+b.width/2-e/2};break;case "e":g={top:b.top+b.height/2-f/2,left:b.left-e-this.options.offset};break;case "w":g={top:b.top+b.height/2-f/2,left:b.left+b.width+this.options.offset}}if(d.length==2)g.left=d.charAt(1)=="w"?b.left+b.width/2-
15:b.left+b.width/2-e+15;c.css(g).addClass("tipsy-"+d);c.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+d.charAt(0);this.options.className&&c.addClass(typeof this.options.className=="function"?this.options.className.call(this.$element[0]):this.options.className);this.options.fade?c.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):c.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){a(this).remove()}):
this.tip().remove()},fixTitle:function(){var a=this.$element;if(a.attr("title")||typeof a.attr("original-title")!="string")a.attr("original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,c=this.$element,e=this.options;this.fixTitle();e=this.options;typeof e.title=="string"?a=c.attr(e.title=="title"?"original-title":e.title):typeof e.title=="function"&&(a=e.title.call(c[0]));return(a=(""+a).replace(/(^\s*|\s*$)/,""))||e.fallback},tip:function(){if(!this.$tip)this.$tip=a('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>');
return this.$tip},validate:function(){if(!this.$element[0].parentNode)this.hide(),this.options=this.$element=null},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};a.fn.tipsy=function(b){function c(e){var c=a.data(e,"tipsy");c||(c=new d(e,a.fn.tipsy.elementOptions(e,b)),a.data(e,"tipsy",c));return c}function e(){var a=c(this);a.hoverState="in";b.delayIn==0?a.show():(a.fixTitle(),setTimeout(function(){a.hoverState=="in"&&
a.show()},b.delayIn))}function f(){var a=c(this);a.hoverState="out";b.delayOut==0?a.hide():setTimeout(function(){a.hoverState=="out"&&a.hide()},b.delayOut)}if(b===true)return this.data("tipsy");else if(typeof b=="string"){var h=this.data("tipsy");if(h)h[b]();return this}b=a.extend({},a.fn.tipsy.defaults,b);b.live||this.each(function(){c(this)});if(b.trigger!="manual"){var h=b.live?"live":"bind",g=b.trigger=="hover"?"mouseleave":"blur";this[h](b.trigger=="hover"?"mouseenter":"focus",e)[h](g,f)}return this};
a.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:0,opacity:0.8,title:"title",trigger:"hover"};a.fn.tipsy.elementOptions=function(b,c){return a.metadata?a.extend({},c,a(b).metadata()):c};a.fn.tipsy.autoNS=function(){return a(this).offset().top>a(document).scrollTop()+a(window).height()/2?"s":"n"};a.fn.tipsy.autoWE=function(){return a(this).offset().left>a(document).scrollLeft()+a(window).width()/2?"e":"w"};a.fn.tipsy.autoBounds=
function(b,c){return function(){var e=c[0],f=c.length>1?c[1]:false,d=a(document).scrollTop()+b,g=a(document).scrollLeft()+b,j=a(this);j.offset().top<d&&(e="n");j.offset().left<g&&(f="w");a(window).width()+a(document).scrollLeft()-j.offset().left<b&&(f="e");a(window).height()+a(document).scrollTop()-j.offset().top<b&&(e="s");return e+(f?f:"")}}})(jQuery);
(function(a){function d(){}function b(){}function c(){}function e(a,b){typeof b==="string"&&(b=b.split("."));var c=b.join(".").replace(/\.(\w)/g,function(a,b){return b.toUpperCase()}),f=b.shift();if(typeof(c=a[c])==k)if(typeof(c=a[f])!=k&&b.length>0)c=e(c,b);return c}function f(){function a(b,f){c.bind(b,function(){return f.apply(e,arguments)})}var b=j.apply(arguments),e=this,c=b.length===1?e:b.shift(),f,b=b[0]||{};for(f in b)a(f,b[f])}function h(a,b){return{input:a,form:b}}var g=(window.JSON||{}).stringify,
j=Array.prototype.slice,k="undefined",m={itemManager:b,plugins:[],ext:{},html:{wrap:'<div class="text-core"><div class="text-wrap"/></div>',hidden:'<input type="hidden" />'},keys:{8:"backspace",9:"tab",13:"enter!",27:"escape!",37:"left",38:"up!",39:"right",40:"down!",46:"delete",108:"numpadEnter"}};g||(g=function(){alert("JSON.stringify() not found")});p=b.prototype;p.init=function(){};p.filter=function(a,b){var e=[],c,f;for(c=0;c<a.length;c++)f=a[c],this.itemContains(f,b)&&e.push(f);return e};p.itemContains=
function(a,b){return this.itemToString(a).toLowerCase().indexOf(b.toLowerCase())==0};p.stringToItem=function(a){return a};p.itemToString=function(a){return a};p.compareItems=function(a,b){return a==b};p=d.prototype;p.init=function(b,e){var c=this,f,d,g;c._defaults=a.extend({},m);c._opts=e||{};c._plugins={};c._itemManager=d=new (c.opts("item.manager"));b=a(b);g=a(c.opts("html.wrap"));f=a(c.opts("html.hidden"));b.wrap(g).keydown(function(a){return c.onKeyDown(a)}).keyup(function(a){return c.onKeyUp(a)}).data("textext",
c);a(c).data({hiddenInput:f,wrapElement:b.parents(".text-wrap").first(),input:b});f.attr("name",b.attr("name"));b.attr("name",null);f.insertAfter(b);a.extend(true,d,c.opts("ext.item.manager"));a.extend(true,c,c.opts("ext.*"),c.opts("ext.core"));c.originalWidth=b.outerWidth();c.invalidateBounds();d.init(c);c.initPatches();c.initPlugins(c.opts("plugins"),a.fn.textext.plugins);c.on({setFormData:c.onSetFormData,getFormData:c.onGetFormData,setInputData:c.onSetInputData,anyKeyUp:c.onAnyKeyUp});c.trigger("postInit");
c.trigger("ready");c.getFormData(0)};p.initPatches=function(){var b=[],e=a.fn.textext.patches,c;for(c in e)b.push(c);this.initPlugins(b,e)};p.initPlugins=function(b,e){var c,f,d=[],g;typeof b=="string"&&(b=b.split(/\s*,\s*|\s+/g));for(g=0;g<b.length;g++)if(c=b[g],f=e[c])this._plugins[c]=f=new f,this[c]=function(a){return function(){return a}}(f),d.push(f),a.extend(true,f,this.opts("ext.*"),this.opts("ext."+c));d.sort(function(a,b){a=a.initPriority();b=b.initPriority();return a===b?0:a<b?1:-1});for(g=
0;g<d.length;g++)d[g].init(this)};p.hasPlugin=function(a){return!!this._plugins[a]};p.on=f;p.bind=function(a,b){this.input().bind(a,b)};p.trigger=function(){var a=arguments;this.input().trigger(a[0],j.call(a,1))};p.itemManager=function(){return this._itemManager};p.input=function(){return a(this).data("input")};p.opts=function(a){var b=e(this._opts,a);return typeof b=="undefined"?e(this._defaults,a):b};p.wrapElement=function(){return a(this).data("wrapElement")};p.invalidateBounds=function(){var a=
this.input(),b=this.wrapElement(),e=b.parent(),c=this.originalWidth,f;this.trigger("preInvalidate");f=a.outerHeight();a.width(c);b.width(c).height(f);e.height(f);this.trigger("postInvalidate")};p.focusInput=function(){this.input()[0].focus()};p.serializeData=g;p.hiddenInput=function(){return a(this).data("hiddenInput")};p.getWeightedEventResponse=function(a,b){var e={},c=0;this.trigger(a,e,b);for(var f in e)c=Math.max(c,f);return e[c]};p.getFormData=function(a){a=this.getWeightedEventResponse("getFormData",
a||0);this.trigger("setFormData",a.form);this.trigger("setInputData",a.input)};p.onAnyKeyUp=function(a,b){this.getFormData(b)};p.onSetInputData=function(a,b){this.input().val(b)};p.onSetFormData=function(a,b){this.hiddenInput().val(this.serializeData(b))};p.onGetFormData=function(a,b){var e=this.input().val();b[0]=h(e,e)};a(["Down","Up"]).each(function(){var a=this.toString();p["onKey"+a]=function(b){var e=this.opts("keys")[b.keyCode],c=true;if(e){c=e.substr(-1)!="!";e=e.replace("!","");this.trigger(e+
"Key"+a);if(a=="Up"&&this._lastKeyDown==b.keyCode)this._lastKeyDown=null,this.trigger(e+"KeyPress");if(a=="Down")this._lastKeyDown=b.keyCode}this.trigger("anyKey"+a,b.keyCode);return c}});p=c.prototype;p.on=f;p.formDataObject=h;p.init=function(){throw Error("Not implemented");};p.baseInit=function(b,e){b._defaults=a.extend(true,b._defaults,e);this._core=b;this._timers={}};p.startTimer=function(a,b,e){var c=this;c.stopTimer(a);c._timers[a]=setTimeout(function(){delete c._timers[a];e.apply(c)},b*1E3)};
p.stopTimer=function(a){clearTimeout(this._timers[a])};p.core=function(){return this._core};p.opts=function(a){return this.core().opts(a)};p.itemManager=function(){return this.core().itemManager()};p.input=function(){return this.core().input()};p.val=function(a){var b=this.input();if(typeof a===k)return b.val();else b.val(a)};p.trigger=function(){var a=this.core();a.trigger.apply(a,arguments)};p.bind=function(a,b){this.core().bind(a,b)};p.initPriority=function(){return 0};var o=false,q=a.fn.textext=
function(b){var e;if(!o&&(e=a.fn.textext.css)!=null)a("head").append("<style>"+e+"</style>"),o=true;return this.map(function(){var e=a(this);if(b==null)return e.data("textext");var c=new d;c.init(e,b);e.data("textext",c);return c.input()[0]})};q.addPlugin=function(a,b){q.plugins[a]=b;b.prototype=new q.TextExtPlugin};q.addPatch=function(a,b){q.patches[a]=b;b.prototype=new q.TextExtPlugin};q.TextExt=d;q.TextExtPlugin=c;q.ItemManager=b;q.plugins={};q.patches={}})(jQuery);
(function(a){function d(){}a.fn.textext.TextExtIE9Patches=d;a.fn.textext.addPatch("ie9",d);a=d.prototype;a.init=function(a){if(navigator.userAgent.indexOf("MSIE 9")!=-1)a.on({postInvalidate:this.onPostInvalidate})};a.onPostInvalidate=function(){var a=this.input(),c=a.val();a.val(Math.random());a.val(c)}})(jQuery);
(function(a){function d(){}a.fn.textext.TextExtAjax=d;a.fn.textext.addPlugin("ajax",d);var b=d.prototype,c={ajax:{typeDelay:0.5,loadingMessage:"Loading...",loadingDelay:0.5,cacheResults:false,dataCallback:null}};b.init=function(a){this.baseInit(a,c);this.on({getSuggestions:this.onGetSuggestions});this._suggestions=null};b.load=function(b){var c=this,d=c.opts("ajax.data.callback")||function(a){return{q:a}},d=a.extend(true,{data:d(b),success:function(a){c.onComplete(a,b)},error:function(a,c){console.error(c,
b)}},c.opts("ajax"));a.ajax(d)};b.onComplete=function(a,b){var c=a;this.dontShowLoading();if(this.opts("ajax.cache.results")==true)this._suggestions=a,c=this.itemManager().filter(a,b);this.trigger("setSuggestions",{result:c})};b.dontShowLoading=function(){this.stopTimer("loading")};b.showLoading=function(){var a=this;a.dontShowLoading();a.startTimer("loading",a.opts("ajax.loading.delay"),function(){a.trigger("showDropdown",function(b){b.clearItems();b.addDropdownItem(a.opts("ajax.loading.message")).addClass("text-loading")})})};
b.onGetSuggestions=function(a,b){var c=this,d=c._suggestions,j=(b||{}).query||"";if(d&&c.opts("ajax.cache.results")===true)return c.onComplete(d,j);c.startTimer("ajax",c.opts("ajax.type.delay"),function(){c.showLoading();c.load(j)})}})(jQuery);
(function(a){function d(){}a.fn.textext.TextExtArrow=d;a.fn.textext.addPlugin("arrow",d);var b=d.prototype,c={html:{arrow:'<div class="text-arrow"/>'}};b.init=function(b){var f=this;f.baseInit(b,c);f._arrow=b=a(f.opts("html.arrow"));f.core().wrapElement().append(b);b.bind("click",function(a){f.onArrowClick(a)})};b.onArrowClick=function(){this.trigger("toggleDropdown");this.core().focusInput()}})(jQuery);
(function(a){function d(){}a.fn.textext.TextExtAutocomplete=d;a.fn.textext.addPlugin("autocomplete",d);var b=d.prototype,c={autocomplete:{enabled:true,dropdown:{position:"below",maxHeight:"100px"}},html:{dropdown:'<div class="text-dropdown"><div class="text-list"/></div>',suggestion:'<div class="text-suggestion"><span class="text-label"/></div>'}};b.init=function(b){var f=this;f.baseInit(b,c);var b=f.input(),d;f.opts("autocomplete.enabled")===true&&(f.on({blur:f.onBlur,anyKeyUp:f.onAnyKeyUp,deleteKeyUp:f.onAnyKeyUp,
backspaceKeyPress:f.onBackspaceKeyPress,enterKeyPress:f.onEnterKeyPress,escapeKeyPress:f.onEscapeKeyPress,setSuggestions:f.onSetSuggestions,showDropdown:f.onShowDropdown,hideDropdown:f.onHideDropdown,toggleDropdown:f.onToggleDropdown,postInvalidate:f.positionDropdown,getFormData:f.onGetFormData,downKeyDown:f.onDownKeyDown,upKeyDown:f.onUpKeyDown}),d=a(f.opts("html.dropdown")),d.insertAfter(b),f.on(d,{mouseover:f.onMouseOver,mousedown:f.onMouseDown,click:f.onClick}),d.css("maxHeight",f.opts("autocomplete.dropdown.maxHeight")).addClass("text-position-"+
f.opts("autocomplete.dropdown.position")),a(f).data("container",d),a(document.body).click(function(a){f.isDropdownVisible()&&!f.withinWrapElement(a.target)&&f.trigger("hideDropdown")}),f.positionDropdown())};b.containerElement=function(){return a(this).data("container")};b.onMouseOver=function(b){b=a(b.target).closest(".text-suggestion");b.is(".text-suggestion")&&(this.clearSelected(),b.addClass("text-selected"))};b.onMouseDown=function(){this.containerElement().data("mousedownOnAutocomplete",true)};
b.onClick=function(b){b=a(b.target).closest(".text-label");(b.is(".text-suggestion")||b.is(".text-label"))&&this.trigger("enterKeyPress");this.core().hasPlugin("tags")&&this.val("")};b.onBlur=function(){var a=this.containerElement(),b=a.data("mousedownOnAutocomplete")===true;this.isDropdownVisible()&&(b?this.core().focusInput():this.trigger("hideDropdown"));a.removeData("mousedownOnAutocomplete")};b.onBackspaceKeyPress=function(){(this.val().length>0||this.isDropdownVisible())&&this.getSuggestions()};
b.onAnyKeyUp=function(a,b){var c=this.opts("keys."+b)!=null;this.val().length>0&&!c&&this.getSuggestions()};b.onDownKeyDown=function(){this.isDropdownVisible()?this.toggleNextSuggestion():this.getSuggestions()};b.onUpKeyDown=function(){this.togglePreviousSuggestion()};b.onEnterKeyPress=function(){this.isDropdownVisible()&&this.selectFromDropdown()};b.onEscapeKeyPress=function(){this.isDropdownVisible()&&this.trigger("hideDropdown")};b.positionDropdown=function(){var a=this.containerElement(),b=this.opts("autocomplete.dropdown.position"),
c=this.core().wrapElement().outerHeight(),d={};d[b==="above"?"bottom":"top"]=c+"px";a.css(d)};b.suggestionElements=function(){return this.containerElement().find(".text-suggestion")};b.setSelectedSuggestion=function(b){if(b){var c=this.suggestionElements(),d=c.first(),g,j;this.clearSelected();for(j=0;j<c.length;j++)if(g=a(c[j]),this.itemManager().compareItems(g.data("text-suggestion"),b)){d=g.addClass("text-selected");break}d.addClass("text-selected");this.scrollSuggestionIntoView(d)}};b.selectedSuggestionElement=
function(){return this.suggestionElements().filter(".text-selected").first()};b.isDropdownVisible=function(){return this.containerElement().is(":visible")===true};b.onGetFormData=function(a,b){var c=this.val();b[100]=this.formDataObject(c,c)};b.initPriority=function(){return 200};b.onHideDropdown=function(){this.hideDropdown()};b.onToggleDropdown=function(){this.trigger(this.containerElement().is(":visible")?"hideDropdown":"showDropdown")};b.onShowDropdown=function(b,c){var d=this.selectedSuggestionElement().data("text-suggestion");
if(!this._suggestions)return this.trigger("getSuggestions");a.isFunction(c)?c(this):(this.renderSuggestions(this._suggestions),this.toggleNextSuggestion());this.showDropdown(this.containerElement());this.setSelectedSuggestion(d)};b.onSetSuggestions=function(a,b){var c=this._suggestions=b.result;b.showHideDropdown!==false&&this.trigger(c===null||c.length===0?"hideDropdown":"showDropdown")};b.getSuggestions=function(){var a=this.val();if(this._previousInputValue!=a)a==""&&(current=null),this._previousInputValue=
a,this.trigger("getSuggestions",{query:a})};b.clearItems=function(){this.containerElement().find(".text-list").children().remove()};b.renderSuggestions=function(b){var c=this;c.clearItems();a.each(b||[],function(a,b){c.addSuggestion(b)})};b.showDropdown=function(){this.containerElement().show()};b.hideDropdown=function(){var a=this.containerElement();this._previousInputValue=null;a.hide()};b.addSuggestion=function(a){var b=this.opts("autocomplete.render");this.addDropdownItem(b?b.call(this,a):this.itemManager().itemToString(a)).data("text-suggestion",
a)};b.addDropdownItem=function(b){var c=this.containerElement().find(".text-list"),d=a(this.opts("html.suggestion"));d.find(".text-label").html(b);c.append(d);return d};b.clearSelected=function(){this.suggestionElements().removeClass("text-selected")};b.toggleNextSuggestion=function(){var a=this.selectedSuggestionElement(),b;a.length>0?(b=a.next(),b.length>0&&a.removeClass("text-selected")):b=this.suggestionElements().first();b.addClass("text-selected");this.scrollSuggestionIntoView(b)};b.togglePreviousSuggestion=
function(){var a=this.selectedSuggestionElement().prev();a.length!=0&&(this.clearSelected(),a.addClass("text-selected"),this.scrollSuggestionIntoView(a))};b.scrollSuggestionIntoView=function(a){var b=a.outerHeight(),c=this.containerElement(),d=c.innerHeight(),j=c.scrollTop(),a=(a.position()||{}).top,k=null,m=parseInt(c.css("paddingTop"));a!=null&&(a+b>d&&(k=a+j+b-d+m),a<0&&(k=a+j-m),k!=null&&c.scrollTop(k))};b.selectFromDropdown=function(){var a=this.selectedSuggestionElement().data("text-suggestion");
a&&(this.val(this.itemManager().itemToString(a)),this.core().getFormData());this.trigger("hideDropdown")};b.withinWrapElement=function(a){return this.core().wrapElement().find(a).size()>0}})(jQuery);
(function(a){function d(){}a.fn.textext.TextExtFilter=d;a.fn.textext.addPlugin("filter",d);var a=d.prototype,b={filter:{enabled:true,items:null}};a.init=function(a){this.baseInit(a,b);this.on({getFormData:this.onGetFormData,isTagAllowed:this.onIsTagAllowed,setSuggestions:this.onSetSuggestions});this._suggestions=null};a.onGetFormData=function(a,b){var d=this.val(),h="";this.core().hasPlugin("tags")||(this.isValueAllowed(d)&&(h=d),b[300]=this.formDataObject(d,h))};a.isValueAllowed=function(a){var b=
this.opts("filterItems")||this._suggestions||[],d=this.itemManager(),h=!this.opts("filter.enabled"),g;for(g=0;g<b.length&&!h;g++)d.compareItems(a,b[g])&&(h=true);return h};a.onIsTagAllowed=function(a,b){b.result=this.isValueAllowed(b.tag)};a.onSetSuggestions=function(a,b){this._suggestions=b.result}})(jQuery);
(function(a){function d(){}a.fn.textext.TextExtFocus=d;a.fn.textext.addPlugin("focus",d);var a=d.prototype,b={html:{focus:'<div class="text-focus"/>'}};a.init=function(a){this.baseInit(a,b);this.core().wrapElement().append(this.opts("html.focus"));this.on({blur:this.onBlur,focus:this.onFocus});this._timeoutId=0};a.onBlur=function(){var a=this;clearTimeout(a._timeoutId);a._timeoutId=setTimeout(function(){a.getFocus().hide()},100)};a.onFocus=function(){clearTimeout(this._timeoutId);this.getFocus().show()};
a.getFocus=function(){return this.core().wrapElement().find(".text-focus")}})(jQuery);
(function(a){function d(){}a.fn.textext.TextExtPrompt=d;a.fn.textext.addPlugin("prompt",d);var b=d.prototype,c={prompt:"Awaiting input...",html:{prompt:'<div class="text-prompt"/>'}};b.init=function(b){var d;this.baseInit(b,c);d=a(this.opts("html.prompt"));a(this).data("container",d);this.core().wrapElement().append(d);this.setPrompt(this.opts("prompt"));(d=b.input().attr("placeholder"))||(d=this.opts("prompt"));b.input().attr("placeholder","");d&&this.setPrompt(d);a.trim(this.val()).length>0&&this.hidePrompt();
this.on({blur:this.onBlur,focus:this.onFocus,postInvalidate:this.onPostInvalidate,postInit:this.onPostInit})};b.onPostInit=function(){this.invalidateBounds()};b.onPostInvalidate=function(){this.invalidateBounds()};b.invalidateBounds=function(){var a=this.input();this.containerElement().css({paddingLeft:a.css("paddingLeft"),paddingTop:a.css("paddingTop")})};b.onBlur=function(){var a=this;a.startTimer("prompt",0.1,function(){a.showPrompt()})};b.showPrompt=function(){var b=this.input();a.trim(this.val()).length===
0&&!b.is(":focus")&&this.containerElement().removeClass("text-hide-prompt")};b.hidePrompt=function(){this.stopTimer("prompt");this.containerElement().addClass("text-hide-prompt")};b.onFocus=function(){this.hidePrompt()};b.setPrompt=function(a){this.containerElement().text(a)};b.containerElement=function(){return a(this).data("container")}})(jQuery);
(function(a){function d(){}a.fn.textext.TextExtSuggestions=d;a.fn.textext.addPlugin("suggestions",d);var a=d.prototype,b={suggestions:null};a.init=function(a){this.baseInit(a,b);this.on({getSuggestions:this.onGetSuggestions,postInit:this.onPostInit})};a.setSuggestions=function(a,b){this.trigger("setSuggestions",{result:a,showHideDropdown:b!=false})};a.onPostInit=function(){this.setSuggestions(this.opts("suggestions"),false)};a.onGetSuggestions=function(a,b){var d=this.opts("suggestions");d.sort();
this.setSuggestions(this.itemManager().filter(d,b.query))}})(jQuery);
(function(a){function d(){}a.fn.textext.TextExtTags=d;a.fn.textext.addPlugin("tags",d);var b=d.prototype,c="text-tag",e="."+c,f=".text-label",h={tags:{enabled:true,items:null},html:{tags:'<div class="text-tags"/>',tag:'<div class="text-tag"><div class="text-button"><span class="text-label"/><a class="text-remove"/></div></div>'}};b.init=function(b){this.baseInit(b,h);var b=this.input(),c;this.opts("tags.enabled")&&(c=a(this.opts("html.tags")),b.after(c),a(this).data("container",c),this.on({enterKeyPress:this.onEnterKeyPress,
backspaceKeyDown:this.onBackspaceKeyDown,preInvalidate:this.onPreInvalidate,postInit:this.onPostInit,getFormData:this.onGetFormData}),this.on(c,{click:this.onClick,mousemove:this.onContainerMouseMove}),this.on(b,{mousemove:this.onInputMouseMove}));this._originalPadding={left:parseInt(b.css("paddingLeft")||0),top:parseInt(b.css("paddingTop")||0)};this._paddingBox={left:0,top:0};this.updateFormCache()};b.containerElement=function(){return a(this).data("container")};b.onPostInit=function(){this.addTags(this.opts("tags.items"))};
b.onGetFormData=function(a,b,c){a=c===13?"":this.val();b[200]=this.formDataObject(a,this._formData)};b.initPriority=function(){return 100};b.onInputMouseMove=function(a){this.toggleZIndex(a)};b.onContainerMouseMove=function(a){this.toggleZIndex(a)};b.onBackspaceKeyDown=function(){var a=this.tagElements().last();this.val().length==0&&this.removeTag(a)};b.onPreInvalidate=function(){var a=this.tagElements().last(),b=a.position();a.length>0?b.left+=a.innerWidth():b=this._originalPadding;this._paddingBox=
b;this.input().css({paddingLeft:b.left,paddingTop:b.top})};b.onClick=function(b){function d(a,b){q.data(c,a);q.find(f).text(h.itemManager().itemToString(a));h.updateFormCache();m.getFormData();m.invalidateBounds();b&&m.focusInput()}var h=this,m=h.core(),b=a(b.target),o=0,q;b.is(".text-tags")?o=1:b.is(".text-remove")?(h.removeTag(b.parents(e+":first")),o=1):b.is(f)&&(q=b.parents(e+":first"),h.trigger("tagClick",q,q.data(c),d));o&&m.focusInput()};b.onEnterKeyPress=function(){var a=this.val(),a=this.itemManager().stringToItem(a);
this.isTagAllowed(a)&&(this.addTags([a]),this.core().focusInput())};b.updateFormCache=function(){var b=[];this.tagElements().each(function(){b.push(a(this).data(c))});this._formData=b};b.toggleZIndex=function(a){var b=this.input().offset(),c=a.clientX-b.left,e=a.clientY-b.top,d=this._paddingBox,a=this.containerElement(),b=a.is(".text-tags-on-top"),c=c>d.left&&e>d.top;if(!b&&!c||b&&c)a[(!b?"add":"remove")+"Class"]("text-tags-on-top")};b.tagElements=function(){return this.containerElement().find(e)};
b.isTagAllowed=function(a){a={tag:a,result:true};this.trigger("isTagAllowed",a);return a.result===true};b.addTags=function(a){if(a&&a.length!=0){var b=this.core(),c=this.containerElement(),e,d;for(e=0;e<a.length;e++)(d=a[e])&&this.isTagAllowed(d)&&c.append(this.renderTag(d));this.updateFormCache();b.getFormData();b.invalidateBounds()}};b.getTagElement=function(b){var e=this.tagElements(),d,f;for(d=0;f=a(e[d]);d++)if(this.itemManager().compareItems(f.data(c),b))return f};b.removeTag=function(b){var e=
this.core(),d;b instanceof a?(d=b,b.data(c)):d=this.getTagElement(b);d.remove();this.updateFormCache();e.getFormData();e.invalidateBounds()};b.renderTag=function(b){var e=a(this.opts("html.tag"));e.find(".text-label").text(this.itemManager().itemToString(b));e.data(c,b);return e}})(jQuery);(!$.browser.msie||$.browser.version>"8")&&function(a){var d=document,b=d.getElementsByTagName("head")[0]||d.getElementsByTagName("body")[0],d=d.createElement("style");d.innerHTML=a;b.appendChild(d)}('\n.text-core {  position: relative;}.text-core .text-wrap {  background: #fff;  position: absolute;}.text-core .text-wrap textarea, .text-core .text-wrap input {  -webkit-box-sizing: border-box;  -moz-box-sizing: border-box;  box-sizing: border-box;  -webkit-border-radius: 0px;  -moz-border-radius: 0px;  border-radius: 0px;  border: 1px solid #9daccc;  outline: none;  resize: none;  position: absolute;  z-index: 1;  background: none;  overflow: hidden;  margin: 0;  padding: 3px 5px 4px 5px;  white-space: nowrap;  font: 11px "lucida grande", tahoma, verdana, arial, sans-serif;  line-height: 13px;  height: auto;}\n.text-core .text-wrap .text-arrow {  -webkit-box-sizing: border-box;  -moz-box-sizing: border-box;  box-sizing: border-box;  position: absolute;  top: 0;  right: 0;  width: 22px;  height: 22px;  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAOAQMAAADHWqTrAAAAA3NCSVQICAjb4U/gAAAABlBMVEX///8yXJnt8Ns4AAAACXBIWXMAAAsSAAALEgHS3X78AAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1MzmNZGAwAAABpJREFUCJljYEAF/xsY6hkY7BgYZBgYOFBkADkdAmFDagYFAAAAAElFTkSuQmCC") 50% 50% no-repeat;  cursor: pointer;  z-index: 2;}\n.text-core .text-wrap .text-dropdown {  -webkit-box-sizing: border-box;  -moz-box-sizing: border-box;  box-sizing: border-box;  padding: 0;  position: absolute;  z-index: 3;  background: #fff;  border: 1px solid #9daccc;  width: 100%;  max-height: 100px;  padding: 1px;  font: 11px "lucida grande", tahoma, verdana, arial, sans-serif;  display: none;  overflow-x: hidden;  overflow-y: auto;}.text-core .text-wrap .text-dropdown.text-position-below {  margin-top: 1px;}.text-core .text-wrap .text-dropdown.text-position-above {  margin-bottom: 1px;}.text-core .text-wrap .text-dropdown .text-list .text-suggestion {  padding: 3px 5px;  cursor: pointer;}.text-core .text-wrap .text-dropdown .text-list .text-suggestion em {  font-style: normal;  text-decoration: underline;}.text-core .text-wrap .text-dropdown .text-list .text-suggestion.text-selected {  color: #fff;  background: #6d84b4;}\n.text-core .text-wrap .text-focus {  -webkit-box-shadow: 0px 0px 6px #6d84b4;  -moz-box-shadow: 0px 0px 6px #6d84b4;  box-shadow: 0px 0px 6px #6d84b4;  position: absolute;  width: 100%;  height: 100%;  display: none;}.text-core .text-wrap .text-focus.text-show-focus {  display: block;}\n.text-core .text-wrap .text-prompt {  -webkit-box-sizing: border-box;  -moz-box-sizing: border-box;  box-sizing: border-box;  position: absolute;  width: 100%;  height: 100%;  margin: 1px 0 0 2px;  font: 11px "lucida grande", tahoma, verdana, arial, sans-serif;  color: #c0c0c0;  overflow: hidden;  white-space: pre;}.text-core .text-wrap .text-prompt.text-hide-prompt {  display: none;}\n.text-core .text-wrap .text-tags {  -webkit-box-sizing: border-box;  -moz-box-sizing: border-box;  box-sizing: border-box;  position: absolute;  width: 100%;  height: 100%;  padding: 3px 35px 3px 3px;  cursor: text;}.text-core .text-wrap .text-tags.text-tags-on-top {  z-index: 2;}.text-core .text-wrap .text-tags .text-tag {  float: left;}.text-core .text-wrap .text-tags .text-tag .text-button {  -webkit-border-radius: 2px;  -moz-border-radius: 2px;  border-radius: 2px;  -webkit-box-sizing: border-box;  -moz-box-sizing: border-box;  box-sizing: border-box;  position: relative;  float: left;  border: 1px solid #9daccc;  background: #e2e6f0;  color: #000;  padding: 0px 17px 0px 3px;  margin: 0 2px 2px 0;  cursor: pointer;  height: 16px;  font: 11px "lucida grande", tahoma, verdana, arial, sans-serif;}.text-core .text-wrap .text-tags .text-tag .text-button a.text-remove {  position: absolute;  right: 3px;  top: 2px;  display: block;  width: 11px;  height: 11px;  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAhCAYAAAAPm1F2AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAB50RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNS4xqx9I6wAAAQ5JREFUOI2dlD0WwiAQhCc8L6HHgAPoASwtSYvX8BrQxtIyveYA8RppLO1jE+LwE8lzms2yH8MCj1QoaBzH+VuUYNYMS213UlvDRamtUbXb5ZyPHuDoxwGgip3ipfvGuGzPz+vZ/coDONdzFuYCO6ramQQG0DJIE1oPBBvM6e9LqaS2FwD7FWwnVoIAsOc2Xn1jDlyd8pfPBRVOBHA8cc/3yCmQqt0jcY4LuTyAF3pOYS6wI48LAm4MUrx5JthgSQJAt5LtNgAUgEMBBIC3AL2xgo58dEPfhE9wygef89FtCeC49UwltR1pQrK2qr9vNr7uRTCBF3pOYS6wI4/zdQ8MUpxPI9hgSQL0Xyio/QBt54DzsHQx6gAAAABJRU5ErkJggg==") 0 0 no-repeat;}.text-core .text-wrap .text-tags .text-tag .text-button a.text-remove:hover {  background-position: 0 -11px;}.text-core .text-wrap .text-tags .text-tag .text-button a.text-remove:active {  background-position: 0 -22px;}');
(function(a){function d(b,e,f,h){if(!e.busy){var g=b[0].parentNode,j=b[e.currSlide],k=b[e.nextSlide];if(g.cycleTimeout!==0||f){if(f||!g.cyclePause){e.before.length&&a.each(e.before,function(a,b){b.apply(k,[j,k,e,h])});f=function(){a.browser.msie&&this.style.removeAttribute("filter");a.each(e.after,function(a,b){b.apply(k,[j,k,e,h])})};if(e.nextSlide!=e.currSlide)e.busy=1,a.fn.cycle.custom(j,k,e,f);f=e.nextSlide+1==b.length;e.nextSlide=f?0:e.nextSlide+1;e.currSlide=f?b.length-1:e.nextSlide-1}if(e.timeout)g.cycleTimeout=
setTimeout(function(){d(b,e,0,!e.rev)},e.timeout)}}}function b(a,b,f){var h=a[0].parentNode,g=h.cycleTimeout;if(g)clearTimeout(g),h.cycleTimeout=0;b.nextSlide=b.currSlide+f;if(b.nextSlide<0)b.nextSlide=a.length-1;else if(b.nextSlide>=a.length)b.nextSlide=0;d(a,b,1,f>=0);return false}a.fn.cycle=function(c){return this.each(function(){c=c||{};this.cycleTimeout&&clearTimeout(this.cycleTimeout);this.cyclePause=this.cycleTimeout=0;var e=a(this),f=c.slideExpr?a(c.slideExpr,this):e.children(),h=f.get();
if(h.length<2)window.console&&window.console.log&&window.console.log("terminating; too few slides: "+h.length);else{var g=a.extend({},a.fn.cycle.defaults,c||{},a.metadata?e.metadata():a.meta?e.data():{});g.before=g.before?[g.before]:[];g.after=g.after?[g.after]:[];g.after.unshift(function(){g.busy=0});var j=this.className;g.width=parseInt((j.match(/w:(\d+)/)||[])[1])||g.width;g.height=parseInt((j.match(/h:(\d+)/)||[])[1])||g.height;g.timeout=parseInt((j.match(/t:(\d+)/)||[])[1])||g.timeout;e.css("position")==
"static"&&e.css("position","relative");g.width&&e.width(g.width);g.height&&g.height!="auto"&&e.height(g.height);f.css({position:"absolute",top:0,left:0}).hide().each(function(b){a(this).css("z-index",h.length-b)});a(h[0]).css("opacity",1).show();a.browser.msie&&h[0].style.removeAttribute("filter");g.fit&&g.width&&f.width(g.width);g.fit&&g.height&&g.height!="auto"&&f.height(g.height);g.pause&&e.hover(function(){this.cyclePause=1},function(){this.cyclePause=0});a.fn.cycle.transitions.fade(e,f,g);f.each(function(){var b=
a(this);this.cycleH=g.fit&&g.height?g.height:b.height();this.cycleW=g.fit&&g.width?g.width:b.width()});f.not(":eq(0)").css({opacity:0});g.cssFirst&&a(f[0]).css(g.cssFirst);if(g.timeout){if(g.speed.constructor==String)g.speed={slow:600,fast:200}[g.speed]||400;for(g.sync||(g.speed/=2);g.timeout-g.speed<250;)g.timeout+=g.speed}g.speedIn=g.speed;g.speedOut=g.speed;g.slideCount=h.length;g.currSlide=0;g.nextSlide=1;e=f[0];g.before.length&&g.before[0].apply(e,[e,e,g,true]);g.after.length>1&&g.after[1].apply(e,
[e,e,g,true]);if(g.click&&!g.next)g.next=g.click;g.next&&a(g.next).bind("click",function(){return b(h,g,g.rev?-1:1)});g.prev&&a(g.prev).bind("click",function(){return b(h,g,g.rev?1:-1)});if(g.timeout)this.cycleTimeout=setTimeout(function(){d(h,g,0,!g.rev)},g.timeout+(g.delay||0))}})};a.fn.cycle.custom=function(b,e,d,h){var g=a(b),j=a(e);j.css({opacity:0});var k=function(){j.animate({opacity:1},d.speedIn,d.easeIn,h)};g.animate({opacity:0},d.speedOut,d.easeOut,function(){g.css({display:"none"});d.sync||
k()});d.sync&&k()};a.fn.cycle.transitions={fade:function(b,e,d){e.not(":eq(0)").css("opacity",0);d.before.push(function(){a(this).show()})}};a.fn.cycle.ver=function(){return"Lite-1.0"};a.fn.cycle.defaults={timeout:4E3,speed:1E3,next:null,prev:null,before:null,after:null,height:"auto",sync:1,fit:0,pause:0,delay:0,slideExpr:null}})(jQuery);
(function(a,d){var b=a.jQuery||a.Cowboy||(a.Cowboy={}),c;b.throttle=c=function(a,c,h,g){function j(){function b(){m=+new Date;h.apply(v,D)}function j(){k=d}var v=this,u=+new Date-m,D=arguments;g&&!k&&b();k&&clearTimeout(k);g===d&&u>a?b():c!==true&&(k=setTimeout(g?j:b,g===d?a-u:a))}var k,m=0;typeof c!=="boolean"&&(g=h,h=c,c=d);if(b.guid)j.guid=h.guid=h.guid||b.guid++;return j};b.debounce=function(a,b,h){return h===d?c(a,b,false):c(a,h,b!==false)}})(this);
(function(a){a(function(){var d=a.support,b;a:{b=document.createElement("bootstrap");var c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},e;for(e in c)if(b.style[e]!==void 0){b=c[e];break a}b=void 0}d.transition=b&&{end:b}})})(window.jQuery);
(function(a){var d=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};d.prototype.close=function(b){function c(){h.trigger("closed").remove()}var e=a(this),d=e.attr("data-target"),h;d||(d=(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]*$)/,""));h=a(d);b&&b.preventDefault();h.length||(h=e.hasClass("alert")?e:e.parent());h.trigger(b=a.Event("close"));b.isDefaultPrevented()||(h.removeClass("in"),a.support.transition&&h.hasClass("fade")?h.on(a.support.transition.end,c):c())};a.fn.alert=function(b){return this.each(function(){var c=
a(this),e=c.data("alert");e||c.data("alert",e=new d(this));typeof b=="string"&&e[b].call(c)})};a.fn.alert.Constructor=d;a(function(){a("body").on("click.alert.data-api",'[data-dismiss="alert"]',d.prototype.close)})})(window.jQuery);
(function(a){var d=function(b,c){this.$element=a(b);this.options=a.extend({},a.fn.button.defaults,c)};d.prototype.setState=function(a){var c=this.$element,e=c.data(),d=c.is("input")?"val":"html";a+="Text";e.resetText||c.data("resetText",c[d]());c[d](e[a]||this.options[a]);setTimeout(function(){a=="loadingText"?c.addClass("disabled").attr("disabled","disabled"):c.removeClass("disabled").removeAttr("disabled")},0)};d.prototype.toggle=function(){var a=this.$element.parent('[data-toggle="buttons-radio"]');
a&&a.find(".active").removeClass("active");this.$element.toggleClass("active")};a.fn.button=function(b){return this.each(function(){var c=a(this),e=c.data("button"),f=typeof b=="object"&&b;e||c.data("button",e=new d(this,f));b=="toggle"?e.toggle():b&&e.setState(b)})};a.fn.button.defaults={loadingText:"loading..."};a.fn.button.Constructor=d;a(function(){a("body").on("click.button.data-api","[data-toggle^=button]",function(b){b=a(b.target);b.hasClass("btn")||(b=b.closest(".btn"));b.button("toggle")})})})(window.jQuery);
(function(a){var d=function(b,c){this.$element=a(b);this.options=c;this.options.slide&&this.slide(this.options.slide);this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};d.prototype={cycle:function(b){if(!b)this.paused=false;this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this},to:function(b){var c=this.$element.find(".active"),e=c.parent().children(),
c=e.index(c),d=this;if(!(b>e.length-1||b<0))return this.sliding?this.$element.one("slid",function(){d.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(e[b]))},pause:function(a){if(!a)this.paused=true;clearInterval(this.interval);this.interval=null;return this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(b,c){var e=this.$element.find(".active"),d=c||e[b](),h=this.interval,g=b=="next"?"left":
"right",j=b=="next"?"first":"last",k=this,m=a.Event("slide");this.sliding=true;h&&this.pause();d=d.length?d:this.$element.find(".item")[j]();if(!d.hasClass("active")){if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(m);if(m.isDefaultPrevented())return;d.addClass(b);e.addClass(g);d.addClass(g);this.$element.one(a.support.transition.end,function(){d.removeClass([b,g].join(" ")).addClass("active");e.removeClass(["active",g].join(" "));k.sliding=false;setTimeout(function(){k.$element.trigger("slid")},
0)})}else{this.$element.trigger(m);if(m.isDefaultPrevented())return;e.removeClass("active");d.addClass("active");this.sliding=false;this.$element.trigger("slid")}h&&this.cycle();return this}}};a.fn.carousel=function(b){return this.each(function(){var c=a(this),e=c.data("carousel"),f=a.extend({},a.fn.carousel.defaults,typeof b=="object"&&b);e||c.data("carousel",e=new d(this,f));if(typeof b=="number")e.to(b);else if(typeof b=="string"||(b=f.slide))e[b]();else f.interval&&e.cycle()})};a.fn.carousel.defaults=
{interval:5E3,pause:"hover"};a.fn.carousel.Constructor=d;a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(b){var c=a(this),e,d=a(c.attr("data-target")||(e=c.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),c=!d.data("modal")&&a.extend({},d.data(),c.data());d.carousel(c);b.preventDefault()})})})(window.jQuery);
(function(a){var d=function(b,c){this.$element=a(b);this.options=a.extend({},a.fn.collapse.defaults,c);if(this.options.parent)this.$parent=a(this.options.parent);this.options.toggle&&this.toggle()};d.prototype={constructor:d,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var b,c,e,d;if(!this.transitioning){b=this.dimension();c=a.camelCase(["scroll",b].join("-"));if((e=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&e.length){if((d=e.data("collapse"))&&
d.transitioning)return;e.collapse("hide");d||e.data("collapse",null)}this.$element[b](0);this.transition("addClass",a.Event("show"),"shown");this.$element[b](this.$element[0][c])}},hide:function(){var b;this.transitioning||(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var c=this.dimension();this.$element.removeClass("collapse")[c](a||"auto");this.$element[a!==null?"addClass":"removeClass"]("collapse");
return this},transition:function(b,c,e){var d=this,h=function(){c.type=="show"&&d.reset();d.transitioning=0;d.$element.trigger(e)};this.$element.trigger(c);if(!c.isDefaultPrevented())this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,h):h()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};a.fn.collapse=function(b){return this.each(function(){var c=a(this),e=c.data("collapse"),f=typeof b==
"object"&&b;e||c.data("collapse",e=new d(this,f));if(typeof b=="string")e[b]()})};a.fn.collapse.defaults={toggle:true};a.fn.collapse.Constructor=d;a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),e,b=c.attr("data-target")||b.preventDefault()||(e=c.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),c=a(b).data("collapse")?"toggle":c.data();a(b).collapse(c)})})})(window.jQuery);
(function(a){function d(){a(b).parent().removeClass("open")}var b='[data-toggle="dropdown"]',c=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};c.prototype={constructor:c,toggle:function(){var b=a(this),c;if(!b.is(".disabled, :disabled"))return c=b.attr("data-target"),c||(c=(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]*$)/,"")),c=a(c),c.length||(c=b.parent()),b=c.hasClass("open"),d(),b||c.toggleClass("open"),
false}};a.fn.dropdown=function(b){return this.each(function(){var d=a(this),h=d.data("dropdown");h||d.data("dropdown",h=new c(this));typeof b=="string"&&h[b].call(d)})};a.fn.dropdown.Constructor=c;a(function(){a("html").on("click.dropdown.data-api",d);a("body").on("click.dropdown",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api",b,c.prototype.toggle)})})(window.jQuery);
(function(a){function d(){var c=this,e=setTimeout(function(){c.$element.off(a.support.transition.end);b.call(c)},500);this.$element.one(a.support.transition.end,function(){clearTimeout(e);b.call(c)})}function b(){this.$element.hide().trigger("hidden");c.call(this)}function c(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body);this.options.backdrop!="static"&&
this.$backdrop.click(a.proxy(this.hide,this));this.$backdrop.addClass("in");d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(e,this)):e.call(this)):b&&b()}function e(){this.$backdrop.remove();this.$backdrop=null}function f(){var b=this;if(this.isShown&&this.options.keyboard)a(document).on("keyup.dismiss.modal",function(a){a.which==
27&&b.hide()});else this.isShown||a(document).off("keyup.dismiss.modal")}var h=function(b,c){this.options=c;this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this))};h.prototype={constructor:h,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var b=this,e=a.Event("show");this.$element.trigger(e);if(!this.isShown&&!e.isDefaultPrevented())a("body").addClass("modal-open"),this.isShown=true,f.call(this),c.call(this,function(){var c=
a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body);b.$element.show();b.$element.addClass("in");c?b.$element.one(a.support.transition.end,function(){b.$element.trigger("shown")}):b.$element.trigger("shown")})},hide:function(c){c&&c.preventDefault();c=a.Event("hide");this.$element.trigger(c);if(this.isShown&&!c.isDefaultPrevented())this.isShown=false,a("body").removeClass("modal-open"),f.call(this),this.$element.removeClass("in"),a.support.transition&&
this.$element.hasClass("fade")?d.call(this):b.call(this)}};a.fn.modal=function(b){return this.each(function(){var c=a(this),e=c.data("modal"),d=a.extend({},a.fn.modal.defaults,c.data(),typeof b=="object"&&b);e||c.data("modal",e=new h(this,d));if(typeof b=="string")e[b]();else d.show&&e.show()})};a.fn.modal.defaults={backdrop:true,keyboard:true,show:true};a.fn.modal.Constructor=h;a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),e,d=a(c.attr("data-target")||
(e=c.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),c=d.data("modal")?"toggle":a.extend({},d.data(),c.data());b.preventDefault();d.modal(c)})})})(window.jQuery);
(function(a){var d=function(a,c){this.init("tooltip",a,c)};d.prototype={constructor:d,init:function(b,c,e){this.type=b;this.$element=a(c);this.options=this.getOptions(e);this.enabled=true;this.options.trigger!="manual"&&(b=this.options.trigger=="hover"?"mouseenter":"focus",c=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(b,this.options.selector,a.proxy(this.enter,this)),this.$element.on(c,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},
this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){b=a.extend({},a.fn[this.type].defaults,b,this.$element.data());if(b.delay&&typeof b.delay=="number")b.delay={show:b.delay,hide:b.delay};return b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show)return c.show();clearTimeout(this.timeout);c.hoverState="in";this.timeout=setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show)},
leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.hide)return c.hide();clearTimeout(this.timeout);c.hoverState="out";this.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},show:function(){var a,c,e,d,h,g,j;if(this.hasContent()&&this.enabled){a=this.tip();this.setContent();this.options.animation&&a.addClass("fade");g=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],
this.$element[0]):this.options.placement;c=/in/.test(g);a.remove().css({top:0,left:0,display:"block"}).appendTo(c?this.$element:document.body);e=this.getPosition(c);d=a[0].offsetWidth;h=a[0].offsetHeight;switch(c?g.split(" ")[1]:g){case "bottom":j={top:e.top+e.height,left:e.left+e.width/2-d/2};break;case "top":j={top:e.top-h,left:e.left+e.width/2-d/2};break;case "left":j={top:e.top+e.height/2-h/2,left:e.left-d};break;case "right":j={top:e.top+e.height/2-h/2,left:e.left+e.width}}a.css(j).addClass(g).addClass("in")}},
isHTML:function(a){return typeof a!="string"||a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(a)},setContent:function(){var a=this.tip(),c=this.getTitle();a.find(".tooltip-inner")[this.isHTML(c)?"html":"text"](c);a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).remove()},500);c.one(a.support.transition.end,function(){clearTimeout(b);c.remove()})}var c=this.tip();c.removeClass("in");
a.support.transition&&this.$tip.hasClass("fade")?b():c.remove()},fixTitle:function(){var a=this.$element;if(a.attr("title")||typeof a.attr("data-original-title")!="string")a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a=this.$element,c=this.options;
return a.attr("data-original-title")||(typeof c.title=="function"?c.title.call(a[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){if(!this.$element[0].parentNode)this.hide(),this.options=this.$element=null},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};a.fn.tooltip=function(b){return this.each(function(){var c=
a(this),e=c.data("tooltip"),f=typeof b=="object"&&b;e||c.data("tooltip",e=new d(this,f));if(typeof b=="string")e[b]()})};a.fn.tooltip.Constructor=d;a.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}})(window.jQuery);
(function(a){var d=function(a,c){this.init("popover",a,c)};d.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:d,setContent:function(){var a=this.tip(),c=this.getTitle(),d=this.getContent();a.find(".popover-title")[this.isHTML(c)?"html":"text"](c);a.find(".popover-content > *")[this.isHTML(d)?"html":"text"](d);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a=this.$element,c=this.options;
return a.attr("data-content")||(typeof c.content=="function"?c.content.call(a[0]):c.content)},tip:function(){if(!this.$tip)this.$tip=a(this.options.template);return this.$tip}});a.fn.popover=function(b){return this.each(function(){var c=a(this),e=c.data("popover"),f=typeof b=="object"&&b;e||c.data("popover",e=new d(this,f));if(typeof b=="string")e[b]()})};a.fn.popover.Constructor=d;a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})})(window.jQuery);
(function(a){function d(b,c){var d=a.proxy(this.process,this),f=a(b).is("body")?a(window):a(b),h;this.options=a.extend({},a.fn.scrollspy.defaults,c);this.$scrollElement=f.on("scroll.scroll.data-api",d);this.selector=(this.options.target||(h=a(b).attr("href"))&&h.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=a("body");this.refresh();this.process()}d.prototype={constructor:d,refresh:function(){var b=this;this.offsets=a([]);this.targets=a([]);this.$body.find(this.selector).map(function(){var b=
a(this),b=b.data("target")||b.attr("href"),d=/^#\w/.test(b)&&a(b);return d&&b.length&&[[d.position().top,b]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,c=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),d=this.offsets,f=this.targets,h=this.activeTarget,g;if(a>=c)return h!=(g=f.last()[0])&&this.activate(g);for(g=
d.length;g--;)h!=f[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(f[g])},activate:function(b){this.activeTarget=b;a(this.selector).parent(".active").removeClass("active");b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parent("li").addClass("active");b.parent(".dropdown-menu")&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate")}};a.fn.scrollspy=function(b){return this.each(function(){var c=a(this),e=c.data("scrollspy"),f=typeof b=="object"&&b;e||c.data("scrollspy",
e=new d(this,f));if(typeof b=="string")e[b]()})};a.fn.scrollspy.Constructor=d;a.fn.scrollspy.defaults={offset:10};a(function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})})(window.jQuery);
(function(a){var d=function(b){this.element=a(b)};d.prototype={constructor:d,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),f,h;d||(d=(d=b.attr("href"))&&d.replace(/.*(?=#[^\s]*$)/,""));b.parent("li").hasClass("active")||(f=c.find(".active a").last()[0],h=a.Event("show",{relatedTarget:f}),b.trigger(h),h.isDefaultPrevented()||(d=a(d),this.activate(b.parent("li"),c),this.activate(d,d.parent(),function(){b.trigger({type:"shown",relatedTarget:f})})))},
activate:function(b,c,d){function f(){h.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");g?b.addClass("in"):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");d&&d()}var h=c.find("> .active"),g=d&&a.support.transition&&h.hasClass("fade");g?h.one(a.support.transition.end,f):f();h.removeClass("in")}};a.fn.tab=function(b){return this.each(function(){var c=a(this),e=c.data("tab");e||c.data("tab",e=new d(this));
if(typeof b=="string")e[b]()})};a.fn.tab.Constructor=d;a(function(){a("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})})})(window.jQuery);
(function(a){var d=function(b,c){this.$element=a(b);this.options=a.extend({},a.fn.typeahead.defaults,c);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=a(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=false;this.listen()};d.prototype={constructor:d,select:function(){this.$element.val(this.updater(this.$menu.find(".active").attr("data-value"))).change();
return this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});this.$menu.css({top:b.top+b.height,left:b.left});this.$menu.show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(){var b=this,c;this.query=this.$element.val();if(!this.query)return this.shown?this.hide():this;c=a.grep(this.source,function(a){return b.matcher(a)});c=this.sorter(c);return!c.length?
this.shown?this.hide():this:this.render(c.slice(0,this.options.items)).show()},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var c=[],d=[],f=[],h;h=a.shift();)h.toLowerCase().indexOf(this.query.toLowerCase())?~h.indexOf(this.query)?d.push(h):f.push(h):c.push(h);return c.concat(d,f)},highlighter:function(a){var c=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(RegExp("("+c+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},
render:function(b){var c=this,b=a(b).map(function(b,d){b=a(c.options.item).attr("data-value",d);b.find("a").html(c.highlighter(d));return b[0]});b.first().addClass("active");this.$menu.html(b);return this},next:function(){var b=this.$menu.find(".active").removeClass("active").next();b.length||(b=a(this.$menu.find("li")[0]));b.addClass("active")},prev:function(){var a=this.$menu.find(".active").removeClass("active").prev();a.length||(a=this.$menu.find("li").last());a.addClass("active")},listen:function(){this.$element.on("blur",
a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this));if(a.browser.webkit||a.browser.msie)this.$element.on("keydown",a.proxy(this.keypress,this));this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},keyup:function(a){switch(a.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation();
a.preventDefault()},keypress:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:if(a.type!="keydown")break;a.preventDefault();this.prev();break;case 40:if(a.type!="keydown")break;a.preventDefault();this.next()}a.stopPropagation()}},blur:function(){var a=this;setTimeout(function(){a.hide()},150)},click:function(a){a.stopPropagation();a.preventDefault();this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active");a(b.currentTarget).addClass("active")}};
a.fn.typeahead=function(b){return this.each(function(){var c=a(this),e=c.data("typeahead"),f=typeof b=="object"&&b;e||c.data("typeahead",e=new d(this,f));if(typeof b=="string")e[b]()})};a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'};a.fn.typeahead.Constructor=d;a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);c.data("typeahead")||(b.preventDefault(),c.typeahead(c.data()))})})})(window.jQuery);
MessageBundle={en:{"ajax.loading":"loading...","ajax.error":"network error,please try later",required:"please input value","selection.required":"please select",phone:"please input valid phone number",email:"please input valid email",integer:"must be a integer","integer.positive":"must be a positive integer","double":"must be a decimal","double.positive":"must be a positive decimal","save.and.create":"save and add","no.selection":"no selection","no.modification":"no modification",select:"please select",
"confirm.delete":"are sure to delete?","confirm.save":"are sure to save?","confirm.exit":"you have unsaved modification,are sure to exit?"},"zh-cn":{"ajax.loading":"\u6b63\u5728\u52a0\u8f7d...","ajax.error":"\u9519\u8bef,\u8bf7\u7a0d\u540e\u518d\u8bd5",required:"\u8bf7\u586b\u5199","selection.required":"\u8bf7\u9009\u62e9",email:"email\u4e0d\u5408\u6cd5",phone:"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u53f7\u7801",integer:"\u8bf7\u586b\u5199\u6574\u6570","integer.positive":"\u8bf7\u586b\u5199\u6b63\u6574\u6570",
"double":"\u8bf7\u586b\u5199\u6570\u5b57","double.positive":"\u8bf7\u586b\u5199\u5927\u4e8e\u96f6\u7684\u6570\u5b57","save.and.create":"\u4fdd\u5b58\u5e76\u65b0\u5efa","no.selection":"\u6ca1\u6709\u9009\u4e2d","no.modification":"\u6ca1\u6709\u66f4\u6539",add:"\u6dfb\u52a0",remove:"\u5220\u9664",browse:"\u6d4f\u89c8\u6587\u4ef6",select:"\u8bf7\u9009\u62e9",save:"\u4fdd\u5b58",restore:"\u8fd8\u539f",cancel:"\u53d6\u6d88",error:"\u9519\u8bef",success:"\u64cd\u4f5c\u6210\u529f",confirm:"\u786e\u5b9a",
"confirm.delete":"\u786e\u5b9a\u8981\u5220\u9664?","confirm.save":"\u786e\u5b9a\u8981\u4fdd\u5b58?","confirm.exit":"\u6709\u6539\u52a8\u672a\u4fdd\u5b58,\u786e\u5b9a\u8981\u79bb\u5f00?","true":"\u662f","false":"\u5426"},get:function(){var a=arguments[0],d=MessageBundle.lang(),d=MessageBundle[d][a];typeof d=="undefined"&&(d=a);for(a=1;a<arguments.length;a++)d=d.replace("{"+a+"}",arguments[a]);return d},lang:function(){var a=(navigator.language||navigator.browserLanguage||"").toLowerCase();MessageBundle[a]||
(a="en");return a},shortLang:function(){var a=MessageBundle.lang(),d=a.indexOf("-");d>0&&(a=a.substring(0,d));return a}};var MODERN_BROWSER=!$.browser.msie||$.browser.version>8;
(function(){var a=document.domain;if(!a.match(/^(\d+\.){3}\d+$/)){a=a.split(".");try{if(a.length>2)document.domain=a[a.length-2]+"."+a[a.length-1]}catch(d){if(a.length>3)document.domain=a[a.length-3]+"."+a[a.length-2]+"."+a[a.length-1]}}$.ajaxSettings.traditional=true;var b=$.ajax;if(MODERN_BROWSER)$.ajax=function(a){a.url=UrlUtils.makeSameOrigin(a.url);a.xhrFields={withCredentials:true};return b(a)};if(typeof $.rc4EncryptStr!="undefined"&&$('meta[name="pe"]').attr("content")!="false"){var c=$.param;
$.param=function(a,b){(jQuery.isArray(a)||a.jquery)&&jQuery.each(a,function(){if(/password$/.test(this.name.toLowerCase()))try{var a=$.cookie("T"),a=a.substring(15,25);this.value=$.rc4EncryptStr(encodeURIComponent(this.value+a),a)}catch(b){}});return c(a,b)}}})();
Indicator={text:"",show:function(a){$("#indicator").length||$('<div id="indicator"></div>').appendTo(document.body);var d=$("#indicator");a&&d.hasClass("loading")&&d.removeClass("loading");!a&&!d.hasClass("loading")&&d.addClass("loading");d.html(Indicator.text||MessageBundle.get("ajax.loading"));d.show();Indicator.text=""},showError:function(){Indicator.text=MessageBundle.get("ajax.error");Indicator.show(true)},hide:function(){Indicator.text="";$("#indicator")&&$("#indicator").hide()}};
UrlUtils={extractDomain:function(a){if(UrlUtils.isAbsolute(a)){var a=a.replace(/:\d+/,""),a=a.substring(a.indexOf("://")+3),d=a.indexOf("/");d>0&&(a=a.substring(0,d));return a}else return document.location.hostname},isSameDomain:function(a,d){var d=d||document.location.href,b=UrlUtils.extractDomain(a),c=UrlUtils.extractDomain(d);return b==c},isSameOrigin:function(a,d){var d=d||document.location.href,b=UrlUtils.extractDomain(a),c=UrlUtils.extractDomain(d);if($.browser.msie&&b!=c)return false;b=b.split(".");
c=c.split(".");return b[b.length-1]==c[c.length-1]&&b[b.length-2]==c[c.length-2]},makeSameOrigin:function(a,d){d=d||document.location.href;return UrlUtils.isSameOrigin(a,d)?a:d.substring(0,d.indexOf("/",d.indexOf("://")+3))+CONTEXT_PATH+"/webproxy/"+a},isAbsolute:function(a){if(!a)return false;a=a.indexOf("://");return a==4||a==5},absolutize:function(a){if(UrlUtils.isAbsolute(a))return a;var d=document.location.href,b=d.indexOf("://");return a.length==0||a.indexOf("/")==0?d.substring(0,d.indexOf("/",
b+3))+CONTEXT_PATH+a:d.substring(0,d.lastIndexOf("/")+1)+a}};
Message={compose:function(a,d){return'<div class="'+d+'"><span class="close" onclick="$(this.parentNode).remove()"></span>'+a+"</div>"},showMessage:function(){Message.showActionMessage(MessageBundle.get.apply(this,arguments))},showActionMessage:function(a,d){if(a){if(typeof a=="string"){var b=[];b.push(a);a=b}$("#message").length||$('<div id="message"></div>').prependTo($("#content"));if(typeof $.fn.jnotifyInizialize!="undefined"){$("#notification").length||$('<div id="notification"><div>').prependTo(document.body).jnotifyInizialize({oneAtTime:false,
appendType:"append"}).css({position:"fixed",top:"40px",right:"40px",width:"250px","min-height":"50px","z-index":"9999"});for(b=0;b<a.length;b++)$("#notification").jnotifyAddMessage({text:a[b],permanent:false})}else{for(var c="",b=0;b<a.length;b++)c+=Message.compose(a[b],"action-message");d&&d.tagName=="FORM"?($("#"+d.id+"_message").length==0&&$(d).before('<div id="'+d.id+'_message"></div>'),$("#"+d.id+"_message").html(c)):($("#message").length||$('<div id="message"></div>').prependTo($("#content")),
$("#message").html(c))}}},showError:function(){Message.showActionError(MessageBundle.get.apply(this,arguments))},showActionError:function(a,d){if(a){if(typeof a=="string"){var b=[];b.push(a);a=b}var b=$("#content"),c;$("#_window_").parents(".ui-dialog").length&&(b=$("#_window_"));$("#message",b).length||$('<div id="message"></div>').prependTo(b);c=$("#message",b);if(typeof $.fn.jnotifyInizialize!="undefined"){c.jnotifyInizialize({oneAtTime:false});for(b=0;b<a.length;b++)c.jnotifyAddMessage({text:a[b],
disappearTime:6E4,permanent:false,type:"error"});$("html,body").animate({scrollTop:$("#message").offset().top-20},100)}else if($.alerts)$.alerts.alert(a.join("\n"),MessageBundle.get("error"));else{c="";for(b=0;b<a.length;b++)c+=Message.compose(a[b],"action-error");c&&(d&&d.tagName=="FORM"?($("#"+d.id+"_message").length==0&&$(d).before('<div id="'+d.id+'_message"></div>'),$("#"+d.id+"_message").html(c)):($("#message").length||$('<div id="message"></div>').prependTo($("#content")),$("#message").html(c)))}}},
showFieldError:function(a,d,b){d=d||MessageBundle.get(b);if(a&&$(a).length){a=$(a);$(".fieldError",a.closest(".field")).remove();d=$('<div class="fieldError removeonclick"><div class="fieldErrorContent">'+d+"</div><div>").insertAfter(a);$('<div class="fieldErrorArrow"/>').html('<div class="line10"><\!-- --\></div><div class="line9"><\!-- --\></div><div class="line8"><\!-- --\></div><div class="line7"><\!-- --\></div><div class="line6"><\!-- --\></div><div class="line5"><\!-- --\></div><div class="line4"><\!-- --\></div><div class="line3"><\!-- --\></div><div class="line2"><\!-- --\></div><div class="line1"><\!-- --\></div>').appendTo(d);
var c=a.width(),e=d.height(),b=a.position().top,a=a.position().left+c-30;d.css({top:b+"px",left:a+"px",marginTop:-e+"px",opacity:0});d.animate({opacity:0.8})}else Message.showActionError(d)}};
Form={focus:function(a){for(var d=$(":input:visible",a).get(),b=0;b<d.length;b++)if($(".fieldError,.field-error",$(d[b]).parent()).length){setTimeout(function(){$(d[b]).focus()},50);break}},validate:function(a){if($(a).prop("tagName")!="FORM"){$(".fieldError,.field-error",$(a).parent()).fadeIn().remove();if($(a).is(":visible")&&!$(a).prop("disabled"))if($(a).hasClass("required")&&!$(a).val())return $(a).prop("tagName")=="SELECT"?Message.showFieldError(a,null,"selection.required"):Message.showFieldError(a,
null,"required"),false;else if($(a).hasClass("email")&&$(a).val()&&!$(a).val().match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/))return Message.showFieldError(a,null,"email"),false;else if($(a).hasClass("phone")&&$(a).val()&&!$(a).val().match(/^[\d-]+$/))return Message.showFieldError(a,null,"phone"),false;else if($(a).hasClass("integer")&&$(a).val()){if($(a).hasClass("positive")&&!$(a).val().match(/^[+]?\d*$/))return Message.showFieldError(a,null,"integer.positive"),false;if(!$(a).hasClass("positive")&&
!$(a).val().match(/^[-+]?\d*$/))return Message.showFieldError(a,null,"integer"),false}else if($(a).hasClass("double")&&$(a).val()){if($(a).hasClass("positive")&&!$(a).val().match(/^[+]?\d+(\.\d+)?$/))return Message.showFieldError(a,null,"double.positive"),false;if(!$(a).hasClass("positive")&&!$(a).val().match(/^[-+]?\d+(\.\d+)?$/))return Message.showFieldError(a,null,"double"),false}return true}else{var d=true;$(":input",a).each(function(){Form.validate(this)||(d=false)});d||Form.focus(a);return d}}};
Ajax={defaultRepacement:"content",fire:function(a,d){if(!a)return true;var b=a[d];typeof b=="undefined"&&(b=$(a).attr(d));if(typeof b=="undefined"||!b)return true;var c=[];if(arguments.length>2)for(var e=2;e<arguments.length;e++)c[e-2]=arguments[e];var f;if(typeof b=="function")f=b.apply(a,c);else{b.indexOf("return")>-1&&(b=b.replace("return",""));a._temp=function(){return eval(b)};try{f=a._temp()}catch(h){alert(h)}}return false==f?false:true},handleResponse:function(a,d){if(a){var b=false,c=d.target;
if(c&&$(c).parents("div.ui-dialog").length)d.quiet=true;if(typeof a=="string"&&(a.indexOf("{")==0||a.indexOf("[")==0))a=$.parseJSON(a);if(typeof a=="string"){if(a.indexOf("<title>")>=0&&a.indexOf("</title>")>0&&(Ajax.title=a.substring(a.indexOf("<title>")+7,a.indexOf("</title>")),d.replaceTitle))document.title=Ajax.title;for(var e={},f=(d.replacement||$(c).attr("replacement")||($(c).prop("tagName")=="FORM"?$(c).attr("id"):null)||Ajax.defaultRepacement).split(","),h=0;h<f.length;h++){var g=f[h].split(":",
2);e[g[0]]=g.length==2?g[1]:g[0]}var f=a.replace(/<script(.|\s)*?\/script>/g,""),h=$("<div/>").html(f),j;for(j in e){g=$("#"+j);j==Ajax.defaultRepacement&&!g.length&&(g=$("body"));!d.quiet&&g.length&&$("html,body").animate({scrollTop:g.offset().top-50},100);var k=h.find("#"+e[j]);k.length?g.html(k.html()):h.find("#content").length?g.html(h.find("#content").html()):h.find("body").length?g.html(h.find("body").html()):g.html(f);!d.quiet&&typeof $.effects!="undefined"&&g.effect("highlight");_observe(g)}h.remove();
Ajax.fire(c,"onsuccess",a)}else if(Ajax.jsonResult=a,a.fieldErrors||a.actionErrors?(b=true,d.onerror&&d.onerror.apply(window),Ajax.fire(c,"onerror",a)):(d.onsuccess&&d.onsuccess.apply(window),Ajax.fire(c,"onsuccess",a)),Message.showActionError(a.actionErrors,c),Message.showActionMessage(a.actionMessages,c),a.fieldErrors)if(c){for(j in a.fieldErrors)Message.showFieldError(c[j],a.fieldErrors[j]);Form.focus(c)}else for(j in a.fieldErrors)Message.showActionError(a.fieldErrors[j]);c&&c.tagName=="FORM"&&
(setTimeout(function(){$('button[type="submit"]',c).prop("disabled",false);Captcha.refresh()},100),!b&&$(c).hasClass("reset")&&(typeof c.reset=="function"||typeof c.reset=="object"&&!c.reset.nodeType)&&c.reset());Indicator.text="";Ajax.fire(c,"oncomplete",a)}},jsonResult:null,title:""};
function ajaxOptions(a){a=a||{};if(!a.dataType)a.dataType="text";if(!a.headers)a.headers={};$.extend(a.headers,{"X-Data-Type":a.dataType});var d=a.beforeSend;a.beforeSend=function(b){d&&d(b);Indicator.text=a.indicator;Ajax.fire(null,a.onloading)};var b=a.success;a.success=function(c,d,f){Ajax.handleResponse(c,a);b&&!c.fieldErrors&&!c.actionErrors&&b(c,d,f)};return a}function ajax(a){$.ajax(ajaxOptions(a))}var CONTEXT_PATH=$('meta[name="context_path"]').attr("content")||"";
typeof Initialization=="undefined"&&(Initialization={});typeof Observation=="undefined"&&(Observation={});function _init(){var a=[],d;for(d in Initialization)typeof Initialization[d]=="function"&&a.push(d);a.sort();for(d=0;d<a.length;d++)Initialization[a[d]].call(this);_observe()}
function _observe(a){a||(a=document);$(".chart,form.ajax,.ajaxpanel",a).each(function(a){if(!this.id)this.id=("a"+(a+Math.random())).replace(".","").substring(0,5)});var d=[],b;for(b in Observation)typeof Observation[b]=="function"&&d.push(b);d.sort();for(b=0;b<d.length;b++)Observation[d[b]].call(this,a)}$(_init);
Initialization.common=function(){$(document).ajaxStart(function(){Indicator.show()});$(document).ajaxError(function(){Indicator.showError()});$(document).ajaxSuccess(function(a,d){Indicator.hide();var b=d.getResponseHeader("X-Redirect-To");if(b){b=UrlUtils.absolutize(b);try{var c=top.location.href;c&&UrlUtils.isSameDomain(c,b)?top.location.href=b:document.location.href=b}catch(e){document.location.href=b}}});$(".removeonclick").live("click",function(){$(this).remove()});$.alerts.okButton=MessageBundle.get("confirm");
$.alerts.cancelButton=MessageBundle.get("cancel");$(".nav li a").each(function(){$(this).attr("href")==document.location.pathname&&$(this).closest("li").addClass("active")});$(".nav li a").click(function(){$("li",$(this).closest(".nav")).removeClass("active");$(this).closest("li").addClass("active")})};var HISTORY_ENABLED=MODERN_BROWSER&&(typeof history.pushState!="undefined"||typeof $.history!="undefined")&&$('meta[name="history_enabled"]').attr("content")!="false";
if(HISTORY_ENABLED){var SESSION_HISTORY_SUPPORT=typeof history.pushState!="undefined"&&document.location.hash.indexOf("#!/")!=0,_historied_=false;Initialization.history=function(){if(SESSION_HISTORY_SUPPORT){var a=document.location.href;history.replaceState({url:a},"",a);window.onpopstate=function(a){var b=document.location.href;a.state&&ajax({url:b,replaceTitle:true,replacement:a.state.replacement,cache:false,success:function(){$(".nav li a").each(function(){this.href==b&&($("li",$(this).closest(".nav")).removeClass("active"),
$(this).closest("li").addClass("active"))})},headers:{"X-Fragment":"_"}})}}else $.history.init(function(a){if(!(!a&&!_historied_||a&&a.indexOf("!")<0)){var b=document.location.href;b.indexOf("#")>0&&(b=b.substring(0,b.indexOf("#")));a.length&&(a=a.substring(1),UrlUtils.isSameDomain(a)&&CONTEXT_PATH&&(a=CONTEXT_PATH+a),b=a);_historied_=true;ajax({url:b,cache:true,replaceTitle:true,success:function(){$(".nav li a").each(function(){$(this).attr("href")==b&&($("li",$(this).closest(".nav")).removeClass("active"),
$(this).closest("li").addClass("active"))})},headers:{"X-Fragment":"_"}})}},{unescape:true})}}
Observation.common=function(a){$("div.action-error,div.action-message,ul.action-error li,ul.action-message li",a).each(function(){var a=$(this);$("div.close",a).length||a.prepend('<div class="close" onclick="$(this.parentNode).remove()"></div>')});$("div.field-error",a).each(function(){var a=$(this).text(),b=$(":input",$(this).parent());$(this).remove();Message.showFieldError(b,a)});var d=$(a).prop("tagName")=="FORM"&&$(a).hasClass("focus")?a:$(".focus:eq(0)",a);if(d.prop("tagName")!="FORM")d.focus();
else for(var d=$(":input:visible",d).toArray(),b=0;b<d.length;b++)if(!$(d[b]).val()){$(d[b]).focus();break}$("form",a).each(function(){$(this).hasClass("ajax")||$(this).submit(function(){$(".action-message,.action-error").remove();return Form.validate(this)})});$('input[type="text"]',a).each(function(){$(this).attr("autocomplete")||$(this).attr("autocomplete","off");var a=$(this).attr("maxlength");if(!a||a>3E3)$(this).hasClass("date")?$(this).attr("maxlength","10"):$(this).hasClass("integer")?$(this).attr("maxlength",
"11"):$(this).hasClass("double")?$(this).attr("maxlength","22"):$(this).attr("maxlength","255")});$(".highlightrow tbody tr",a).hover(function(){$(this).addClass("highlight")},function(){$(this).removeClass("highlight")});$(".linkage",a).each(function(){var a=$(this);a.data("originalclass",a.attr("class"));var b=$(".linkage_switch",a);$(".linkage_component",a).show();$(".linkage_component",a).not("."+b.val()).hide().filter(":input").val("");a.attr("class",a.data("originalclass")+" "+b.val());b.change(function(){var a=
$(this).closest(".linkage"),b=$(this);$(".linkage_component",a).show();$(".linkage_component",a).not("."+b.val()).hide().filter(":input").val("");a.attr("class",a.data("originalclass")+" "+b.val())})});$(":input.conjunct",a).change(function(){var a=$(this),b=$(this).closest("form"),d=$(':input[type=hidden][name$=".id"]',b),b=b.attr("action"),b=b.indexOf("/")>-1?b.substring(0,b.lastIndexOf("/"))+"/input":"input",h={};d.val()&&(h.id=d.val());h[a.attr("name")]=a.val();ajax({global:false,quiet:true,method:"GET",
url:b,data:h,replacement:a.attr("replacement")})});!$.browser.msie&&typeof $.fn.elastic!="undefined"&&$("textarea.elastic",a).elastic();typeof $.fn.tabs!="undefined"&&$("div.tabs",a).each(function(){$(this).tabs({select:function(a,b){$(b.panel).trigger("load")}}).tabs("select",$(this).data("tab"))});typeof $.fn.corner!="undefined"&&$.browser.msie&&$.browser.version<=8&&$(".rounded",a).each(function(){$(this).corner($(this).data("corner"))});typeof $.fn.datepicker!="undefined"&&$("input.date",a).datepicker({dateFormat:"yy-mm-dd",
zIndex:2E3});$("input.captcha",a).focus(function(){$(this).data("_captcha_")||($(this).after('<img class="captcha" src="'+this.id+'"/>'),$("img.captcha",a).click(Captcha.refresh),$(this).data("_captcha_",true))});typeof $.fn.treeTable!="undefined"&&$(".treeTable",a).each(function(){$(this).treeTable({initialState:$(this).hasClass("expanded")?"expanded":"collapsed"})});typeof $.fn.truncatable!="undefined"&&$(".truncatable",a).each(function(){$(this).truncatable({limit:$(this).data("limit")||100})});
typeof $.fn.tipsy!="undefined"&&($("div.tipsy").live("mouseout",function(){$(this).remove()}),$(".tiped,:input[title]",a).each(function(){var a=$(this),b={html:true,fade:true,gravity:a.data("gravity")||"w"};!a.attr("title")&&a.data("tipurl")&&a.attr("title",MessageBundle.get("ajax.loading"));a.hover(function(){a.data("tipurl")&&$.ajax({url:a.data("tipurl"),global:false,dataType:"html",success:function(b){a.attr("title",b);a.tipsy(true).show()}})},function(){a.removeAttr("tipurl")});if(a.is(":input"))b.trigger=
"focus",b.gravity="w";a.tipsy(b)}));$(".switch",a).each(function(){var a=$(this);a.children().css("cursor","pointer").click(function(){a.children().removeClass("selected").css({"font-weight":"normal"});$(this).addClass("selected").css({"font-weight":"bold"})}).filter(".selected").css({"font-weight":"bold","font-size":"1.1em"})});if(typeof swfobject!="undefined")$(".chart",a).each(function(){var a=this.id,b=$(this).width(),d=$(this).height(),h=$(this).attr("data");h.indexOf("/")==0&&(h=document.location.protocol+
"//"+document.location.host+h);h=encodeURIComponent(h);(!a||!b||!d||!h)&&alert("id,width,height,data all required");swfobject.embedSWF(CONTEXT_PATH+"/assets/images/open-flash-chart.swf",a,b,d,"9.0.0",CONTEXT_PATH+"/assets/images/expressInstall.swf",{"data-file":h},{wmode:"transparent"})}),window.save_image=function(){var a=[];a.push("<html><head><title>Charts: Export as Image</title></head><body>");$("object[data]").each(function(){a.push('<img src="data:image/png;base64,'+this.get_img_binary()+'"/>')});
a.push("</body></html>");var b=window.open("","_blank");with(b.document)write(a.join("")),b.document.close()};typeof $.fn.cycle!="undefined"&&$(".cycle").each(function(){var a={fx:"fade",pause:1};$.extend(a,(new Function("return "+($(this).data("cycleoptions")||"{}")))());$(this).cycle(a)});$("a.ajax,form.ajax",a).each(function(){var a=this,b=[],d=$(a).attr("id");typeof d!="string"&&(d="");for(var d=($(a).attr("replacement")||($(a).prop("tagName")=="FORM"?d:"")).split(","),h=0;h<d.length;h++){var g=
d[h].split(":",2);(g=g.length==2?g[1]:g[0])&&b.push(g)}if(this.tagName=="FORM"){var j={beforeSubmit:function(){if(!Ajax.fire(a,"onprepare"))return false;$(".action-message,.action-error").remove();if(!Form.validate(a))return false;Indicator.text=$(a).data("indicator");$('button[type="submit"]',a).prop("disabled",true);Ajax.fire(a,"onloading")},error:function(){Form.focus(a);a&&a.tagName=="FORM"&&setTimeout(function(){$('button[type="submit"]',a).prop("disabled",false)},100);Ajax.fire(a,"onerror")},
success:function(b){Ajax.handleResponse(b,{target:a})},headers:{}};$(this).hasClass("view")||$.extend(j.headers,{"X-Data-Type":"json"});b.length>0&&$.extend(j.headers,{"X-Fragment":b.join(",")});$(this).bind("submit",function(){$(this).ajaxSubmit(j);return false});$("input",this).keyup($.debounce(500,function(a){!$(this).hasClass("email")&&a.keyCode!=13&&Form.validate(this);return true})).blur(function(){this.value!=this.defaultValue&&Form.validate(this);return true});$("select",this).change(function(){Form.validate(this);
return true})}else $(this).click(function(){if(!Ajax.fire(a,"onprepare"))return false;if(HISTORY_ENABLED&&$(this).hasClass("view")&&($(this).hasClass("history")||!$(this).attr("replacement"))){var d=this.href;if(UrlUtils.isSameDomain(d))if(d=d.substring(d.indexOf("//")+2),d=d.substring(d.indexOf("/")),SESSION_HISTORY_SUPPORT)history.pushState({replacement:$(this).attr("replacement"),url:d},"",d);else return CONTEXT_PATH&&(d=d.substring(CONTEXT_PATH.length)),d=d.replace(/^.*#/,""),$.history.load("!"+
d),false}var d={url:this.href,type:$(this).attr("method")||"GET",cache:$(this).hasClass("cache"),beforeSend:function(){$(".action-message,.action-error").remove();Indicator.text=$(a).data("indicator");Ajax.fire(a,"onloading")},error:function(){Ajax.fire(a,"onerror")},headers:{}},f={target:a};$(this).hasClass("view")||$.extend(d.headers,{"X-Data-Type":"json"});b.length>0?$.extend(d.headers,{"X-Fragment":b.join(",")}):($.extend(d.headers,{"X-Fragment":"_"}),f.replaceTitle=true);d.success=function(a){Ajax.handleResponse(a,
f)};$.ajax(d);return false})})};var Dialog={adapt:function(a,d){if(d){var b=d.document;if(d.contentDocument)b=d.contentDocument;else if(d.contentWindow)b=d.contentWindow.document;$(a).dialog("option","title",b.title);$(a).dialog("option","minHeight",c);var c=$(b).height()+20;$(d).height(c)}else $(a).dialog("option","title",Ajax.title);a.dialog("option","position","center");c=a.height();c>600&&a.dialog("option","position","top")}};
Captcha={refresh:function(){$("img.captcha").each(function(){var a=this.src,d=a.lastIndexOf("&");d>0&&(a=a.substring(0,d));this.src=a+"&"+Math.random()});$("input.captcha").val("")}};ArrayUtils={unique:function(a){if(a){for(var d=[],b={},c=0,e;(e=a[c])!=null;c++)b[e]||(d.push(e),b[e]=true);return d}}};
(function(a){a.fn.checkavailable=function(){this.each(function(){var d=a(this);d.bind("checkavailable",function(){if(d.val()){var b=a("input[type=hidden]",d.closest("form")).not('[name^="__"]').add(d),c=d.attr("checkurl");c||(c=d.closest("form").prop("action"),c=c.substring(0,c.lastIndexOf("/"))+"/checkavailable");ajax({global:false,target:d.closest("form")[0],url:c,data:b.serialize()})}}).change(function(){d.addClass("dirty")}).blur(function(){d.hasClass("dirty")&&d.trigger("checkavailable")})});
return this}})(jQuery);Observation.checkavailable=function(a){$(":input.checkavailable",a).checkavailable()};
Observation.tags=function(a){typeof $.fn.textext!="undefined"&&(!$.browser.msie||$.browser.version>"8")&&$("input.tags",a).each(function(){var a=$(this),b={prompt:"...",autocomplete:{dropdownMaxHeight:"200px",render:function(a){return typeof a=="string"?a:a.label?'<div value="'+a.value+'">'+a.label+"</div>":a.value}},ext:{core:{serializeData:function(a){return a.join(",")}},itemManager:{itemToString:function(a){return typeof a=="string"?a:a.value}}}},c=a.val();if(c)b.tagsItems=c.indexOf('["')==0?
$.parseJSON(c):c.split(",");a.attr("source")?(b.plugins="tags prompt focus autocomplete ajax arrow",b.ajax={global:false,url:a.attr("source"),cacheResults:false,dataCallback:function(a){return{keyword:a}}}):b.plugins="tags prompt focus";a.val("").textext(b)})};
(function(a){function d(a,c,d){if(typeof FileReaderSync!="undefined"){for(var f=new BlobBuilder,h=new FileReaderSync,a=event.data,g=0;g<a.length;g++)f.append("--"),f.append(d),f.append("\r\n"),f.append("Content-Disposition: form-data; name="),f.append(c),f.append("; filename="),f.append(a[g].name),f.append("\r\n"),f.append("Content-Type: "),f.append(a[g].type),f.append("\r\n\r\n"),f.append(h.readAsArrayBuffer(a[g])),f.append("\r\n");f.append("--");f.append(d);f.append("--");return f.getBlob()}else if(a[0].getAsBinary){f=
"";for(g=0;g<a.length;g++)f+="--"+d+"\r\n",f+="Content-Disposition: form-data; name="+c+"; filename="+a[g].name+"\r\n",f+="Content-Type: "+a[g].type+"\r\n\r\n",f+=a[g].getAsBinary()+"\r\n";f+="--"+d+"--";return f}else return null}a.ajaxupload=function(b,c){if(!b)return false;var e={url:document.location.href,name:"file"},c=c||{};a.extend(e,c);var c=e,f;c.progress?f=a(c.progress):(f=a("#_uploadprogress"),f.length||(f=a('<progress id="_uploadprogress" style="position: fixed;z-index: 10001;left: 45%;top: 0px;width: 100px;" min="0" max="100" value="0">0</progress>').appendTo(document.body)));
var h=new XMLHttpRequest;h.open("POST",c.url);h.onreadystatechange=function(){h.readyState==4&&(h.status>=200&&h.status<=200||h.status==304)&&h.responseText!=""&&typeof c.success!="undefined"&&c.success(h)};if(f&&f.length&&(h.onload=function(){f.val(100).html(100).hide()},"upload"in h))h.upload.onprogress=function(a){a.lengthComputable&&(a=a.loaded/a.total*100|0,f.val(a).html(a).show())};if(window.FormData){for(var g=new FormData,e=0;e<b.length;e++)g.append(c.name,b[e]);h.send(g)}else{var j="xxxxxxxxx";
h.setRequestHeader("Content-Type","multipart/form-data, boundary="+j);if(!window.BlobBuilder&&window.WebKitBlobBuilder)window.BlobBuilder=window.WebKitBlobBuilder;if(typeof FileReader!="undefined"&&typeof BlobBuilder!="undefined"){for(e=0;e<b.length;e++){var g=b[e],k=new FileReader;k.sourceFile=g;var m=0,j="xxxxxxxxx",o=new BlobBuilder;k.onload=function(a){var d=a.target.sourceFile,e=new BlobBuilder;e.append("--");e.append(j);e.append("\r\n");e.append("Content-Disposition: form-data; name=");e.append(c.name);
e.append("; filename=");e.append(d.name);e.append("\r\n");e.append("Content-Type: ");e.append(d.type);e.append("\r\n\r\n");e.append(a.target.result);e.append("\r\n");o.append(e.getBlob());m++;m==b.length&&(o.append("--"),o.append(j),o.append("--"),typeof c.beforeSend!="undefined"&&c.beforeSend(),h.send(o.getBlob()))};k.readAsArrayBuffer(g)}return true}if(o=d(b,c.name,j))return typeof c.beforeSend!="undefined"&&c.beforeSend(),h.sendAsBinary?h.sendAsBinary(o):h.send(o),true;else h.abort()}return false}})(jQuery);
(function(a){function d(b){var c={url:b.data("url")||document.location.href,global:false,quiet:true,beforeSend:function(){typeof a.fn.mask!="undefined"?b.mask(MessageBundle.get("ajax.loading")):b.html('<div style="text-align:center;">'+MessageBundle.get("ajax.loading")+"</div>")},complete:function(){typeof a.fn.unmask!="undefined"&&b.unmask()},success:function(c){typeof c!="string"&&(b.empty(),a.tmpl(a("#"+b.attr("tmpl")),c).appendTo(b),_observe(b))}};c.replacement=b.attr("url")?b.attr("id")+":"+
(b.attr("replacement")||"content"):b.attr("id");ajax(c)}a.fn.ajaxpanel=function(){a(this).each(function(){var b=a(this);b.bind("load",function(){d(b)});b.data("timeout")?setTimeout(function(){d(b)},parseInt(b.data("timeout"))):b.data("interval")?setInterval(function(){d(b)},parseInt(b.data("interval"))):b.hasClass("manual")||d(b)});return this}})(jQuery);Observation.ajaxpanel=function(a){$(".ajaxpanel",a).ajaxpanel();$(".ajaxpanel .load",a).click(function(){$(this).closest(".ajaxpanel").trigger("load")})};
(function(a){a.fn.marquee=function(){this.each(function(){var d=a(this);d.mouseenter(function(){a(this).addClass("stop")}).mouseleave(function(){a(this).removeClass("stop")});setInterval(function(){d.hasClass("stop")||a(a(":first-child",d).prop("tagName")+":eq(0)",d).fadeOut("slow",function(){a(this).appendTo(d).fadeIn("slow")})},d.data("delay")||3E3)});return this}})(jQuery);Observation.marquee=function(a){$(".marquee",a).marquee()};
(function(a){SearchHighlighter={init:function(){rf=document.referrer;if(window.location.href.indexOf("/search")>0)rf=window.location.href;keywords=null;if(rf&&rf.indexOf("?")>0){name="q";value="";rf.indexOf("yahoo.com")>0&&(name="p");arr=rf.substring(rf.indexOf("?")+1).split("&");for(i=0;i<arr.length;i++)if(ar=arr[i].split("="),ar[0]==name){value=ar[1]||"";break}if(keywords=decodeURIComponent(value.replace(/\+/g," "))){if(a("q"))a("q").value=keywords;keywords=a.trim(keywords.replace(/<|>|\//g," "));
keywords=keywords.split(/\s+/);for(i=0;i<keywords.length;i++)SearchHighlighter.highlight(document.body,keywords[i])}}},highlight:function(a,b){if(a.hasChildNodes)for(var c=0;c<a.childNodes.length;c++)SearchHighlighter.highlight(a.childNodes[c],b);if(a.nodeType==3&&(text=a.nodeValue.toLowerCase(),b=b.toLowerCase(),text.indexOf(b)!=-1&&(pn=a.parentNode,pn.className!="bold")))nv=a.nodeValue,ni=text.indexOf(b),before=document.createTextNode(nv.substr(0,ni)),docWordVal=nv.substr(ni,b.length),after=document.createTextNode(nv.substr(ni+
b.length)),hiwordtext=document.createTextNode(docWordVal),hiword=document.createElement("span"),hiword.className="bold",hiword.appendChild(hiwordtext),pn.insertBefore(before,a),pn.insertBefore(hiword,a),pn.insertBefore(after,a),pn.removeChild(a)}};a(function(){SearchHighlighter.init()})})(jQuery);
(function(a){function d(){var b=a(this),c=b.data("url")||document.location.href,d=b.data("name")||"content",f={};f[d]=b.html();b.hasClass("edited")&&a.alerts.confirm(MessageBundle.get("confirm.save"),MessageBundle.get("select"),function(a){a&&ajax({url:c,type:"POST",data:f,global:false,success:function(){b.removeClass("edited")}})})}a.fn.editme=function(){return a(this).attr("contenteditable","true").keyup(function(){a(this).addClass("edited")}).blur(d)}})(jQuery);
Observation.editme=function(a){$(".editme",a).editme()};
