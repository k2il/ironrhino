jQuery.cookie=function(a,c,b){if(arguments.length>1&&(c===null||typeof c!=="object")){b=jQuery.extend({},b);if(c===null)b.expires=-1;if(typeof b.expires==="number"){var f=b.expires,d=b.expires=new Date;d.setDate(d.getDate()+f)}return document.cookie=[encodeURIComponent(a),"=",b.raw?String(c):encodeURIComponent(String(c)),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join("")}b=c||{};d=b.raw?function(a){return a}:
decodeURIComponent;return(f=RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?d(f[1]):null};
(function(a){a.fn.rc4=function(b){var f=a.extend({key:null,method:"encrypt",callback:null},b);if(a.fn.rc4.ctrlrInst==null)a.fn.rc4.ctrlrInst=new a.fn.rc4.ctrlr(f);return this.each(function(){a.fn.rc4.ctrlrInst.settings=f;a.fn.rc4.ctrlrInst.container=this;a.fn.rc4.ctrlrInst.initialise(this)})};a.extend({hexEncode:function(a){for(var f=[],d=0;d<256;d++)f[d]="0123456789abcdef".charAt(d>>4)+"0123456789abcdef".charAt(d&15);for(var c=[],d=0;d<a.length;d++)c[d]=f[a.charCodeAt(d)];return c.join("")},hexDecode:function(a){for(var f=
[],d=0;d<256;d++)f["0123456789abcdef".charAt(d>>4)+"0123456789abcdef".charAt(d&15)]=String.fromCharCode(d);if(!a.match(/^[a-f0-9]*$/i))return!1;a.length%2&&(a="0"+a);for(var c=[],h=0,d=0;d<a.length;d+=2)c[h++]=f[a.substr(d,2)];return c.join("")},rc4Encrypt:function(a,f){s=[];for(var d=0;d<256;d++)s[d]=d;for(var c=0,h,d=0;d<256;d++)c=(c+s[d]+a.charCodeAt(d%a.length))%256,h=s[d],s[d]=s[c],s[c]=h;for(var c=d=0,g="",j=0;j<f.length;j++)d=(d+1)%256,c=(c+s[d])%256,h=s[d],s[d]=s[c],s[c]=h,g+=String.fromCharCode(f.charCodeAt(j)^
s[(s[d]+s[c])%256]);return g},rc4Decrypt:function(b,f){return a.rc4Encrypt(b,f)},rc4EncryptStr:function(b,f){return a.hexEncode(a.rc4Encrypt(f,unescape(encodeURIComponent(b))))},rc4DecryptStr:function(b,f){return decodeURIComponent(escape(a.rc4Decrypt(f,a.hexDecode(b))))}});a.rc4={};a.fn.rc4.ctrlrInst=null;a.fn.rc4.ctrlr=function(a){this.settings=a};var c=a.fn.rc4.ctrlr;c.prototype.initialise=function(){this.settings.key&&this.settings.method&&(a.trim(this.settings.method.toUpperCase())=="ENCRYPT"&&
this.setObjectValue(a.hexEncode(a.rc4Encrypt(this.settings.key,this.getObjectValue()))),a.trim(this.settings.method.toUpperCase())=="DECRYPT"&&this.setObjectValue(a.rc4Decrypt(this.settings.key,a.hexDecode(this.getObjectValue()))))};c.prototype.getObjectValue=function(){if(a.fn.rc4.ctrlrInst.container.innerHTML)return a.fn.rc4.ctrlrInst.container.innerHTML;if(a.fn.rc4.ctrlrInst.container.value)return a.fn.rc4.ctrlrInst.container.value};c.prototype.setObjectValue=function(b){if(a.fn.rc4.ctrlrInst.container.innerHTML)a.fn.rc4.ctrlrInst.container.innerHTML=
b;if(a.fn.rc4.ctrlrInst.container.value)a.fn.rc4.ctrlrInst.container.value=b}})(jQuery);
(function(a){function c(){a.fn.ajaxSubmit.debug&&window.console&&window.console.log&&window.console.log("[jquery.form] "+Array.prototype.join.call(arguments,""))}a.fn.ajaxSubmit=function(b){function f(){function f(){if(!r++){n.detachEvent?n.detachEvent("onload",f):n.removeEventListener("load",f,!1);var b=!0;try{if(t)throw"timeout";var e,g;g=n.contentWindow?n.contentWindow.document:n.contentDocument?n.contentDocument:n.document;var j=h.dataType=="xml"||g.XMLDocument||a.isXMLDoc(g);c("isXml="+j);if(!j&&
(g.body==null||g.body.innerHTML=="")){if(--w){r=0;setTimeout(f,100);return}c("Could not access iframe DOM after 50 tries.");return}m.responseText=g.body?g.body.innerHTML:null;m.responseXML=g.XMLDocument?g.XMLDocument:g;m.getResponseHeader=function(a){return{"content-type":h.dataType}[a]};if(h.dataType=="json"||h.dataType=="script"){var k=g.getElementsByTagName("textarea")[0];if(k)m.responseText=k.value;else{var p=g.getElementsByTagName("pre")[0];if(p)m.responseText=p.innerHTML}}else if(h.dataType==
"xml"&&!m.responseXML&&m.responseText!=null)m.responseXML=d(m.responseText);e=a.httpData(m,h.dataType)}catch(q){b=!1,a.handleError(h,m,"error",q)}b&&(h.success(e,"success"),o&&a.event.trigger("ajaxSuccess",[m,h]));o&&a.event.trigger("ajaxComplete",[m,h]);o&&!--a.active&&a.event.trigger("ajaxStop");h.complete&&h.complete(m,b?"success":"error");setTimeout(function(){l.remove();m.responseXML=null},100)}}function d(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):
b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&b.documentElement.tagName!="parsererror"?b:null}var e=j[0];if(a(":input[name=submit]",e).length)alert('Error: Form elements must not be named "submit".');else{var h=a.extend({},a.ajaxSettings,b),g=a.extend(!0,{},a.extend(!0,{},a.ajaxSettings),h),k="jqFormIO"+(new Date).getTime(),l=a('<iframe id="'+k+'" name="'+k+'" src="'+h.iframeSrc+'" />'),n=l[0];l.css({position:"absolute",top:"-1000px",left:"-1000px"});var m={aborted:0,
responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;l.attr("src",h.iframeSrc)}},o=h.global;o&&!a.active++&&a.event.trigger("ajaxStart");o&&a.event.trigger("ajaxSend",[m,h]);if(g.beforeSend&&g.beforeSend(m,g)===!1)g.global&&a.active--;else if(!m.aborted){var r=0,t=0;if(g=e.clk){var q=g.name;if(q&&!g.disabled&&(b.extraData=b.extraData||{},b.extraData[q]=g.value,g.type==
"image"))b.extraData[name+".x"]=e.clk_x,b.extraData[name+".y"]=e.clk_y}setTimeout(function(){var d=j.attr("target"),c=j.attr("action");e.setAttribute("target",k);e.getAttribute("method")!="POST"&&e.setAttribute("method","POST");e.getAttribute("action")!=h.url&&e.setAttribute("action",h.url);b.skipEncodingOverride||j.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});h.timeout&&setTimeout(function(){t=!0;f()},h.timeout);var g=[];try{if(b.extraData)for(var m in b.extraData)g.push(a('<input type="hidden" name="'+
m+'" value="'+b.extraData[m]+'" />').appendTo(e)[0]);l.appendTo("body");n.attachEvent?n.attachEvent("onload",f):n.addEventListener("load",f,!1);e.submit()}finally{e.setAttribute("action",c),d?e.setAttribute("target",d):j.removeAttr("target"),a(g).remove()}},10);var w=50}}}if(!this.length)return c("ajaxSubmit: skipping submit process - no element selected"),this;typeof b=="function"&&(b={success:b});var d=a.trim(this.attr("action"));d&&(d=(d.match(/^([^#]+)/)||[])[1]);d=d||window.location.href||"";
b=a.extend({url:d,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},b||{});d={};this.trigger("form-pre-serialize",[this,b,d]);if(d.veto)return c("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(b.beforeSerialize&&b.beforeSerialize(this,b)===!1)return c("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var e=this.formToArray(b.semantic);if(b.data){b.extraData=b.data;for(var h in b.data)if(b.data[h]instanceof
Array)for(var g in b.data[h])e.push({name:h,value:b.data[h][g]});else e.push({name:h,value:b.data[h]})}if(b.beforeSubmit&&b.beforeSubmit(e,this,b)===!1)return c("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[e,this,b,d]);if(d.veto)return c("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;h=a.param(e);b.type.toUpperCase()=="GET"?(b.url+=(b.url.indexOf("?")>=0?"&":"?")+h,b.data=null):b.data=h;var j=this,k=[];b.resetForm&&k.push(function(){j.resetForm()});
b.clearForm&&k.push(function(){j.clearForm()});if(!b.dataType&&b.target){var l=b.success||function(){};k.push(function(f){a(b.target).html(f).each(l,arguments)})}else b.success&&k.push(b.success);b.success=function(a,f){for(var d=0,c=k.length;d<c;d++)k[d].apply(b,[a,f,j])};h=a("input:file",this).fieldValue();g=!1;for(d=0;d<h.length;d++)h[d]&&(g=!0);h.length&&b.iframe!==!1||b.iframe||g?b.closeKeepAlive?a.get(b.closeKeepAlive,f):f():a.ajax(b);this.trigger("form-submit-notify",[this,b]);return this};
a.fn.ajaxForm=function(b){return this.ajaxFormUnbind().bind("submit.form-plugin",function(){a(this).ajaxSubmit(b);return!1}).bind("click.form-plugin",function(b){var d=b.target,c=a(d);if(!c.is(":submit,input:image")){d=c.closest(":submit");if(d.length==0)return;d=d[0]}var h=this;h.clk=d;if(d.type=="image")b.offsetX!=void 0?(h.clk_x=b.offsetX,h.clk_y=b.offsetY):typeof a.fn.offset=="function"?(c=c.offset(),h.clk_x=b.pageX-c.left,h.clk_y=b.pageY-c.top):(h.clk_x=b.pageX-d.offsetLeft,h.clk_y=b.pageY-d.offsetTop);
setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)})};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(b){var f=[];if(this.length==0)return f;var d=this[0],c=b?d.getElementsByTagName("*"):d.elements;if(!c)return f;for(var h=0,g=c.length;h<g;h++){var j=c[h],k=j.name;if(k)if(b&&d.clk&&j.type=="image")!j.disabled&&d.clk==j&&(f.push({name:k,value:a(j).val()}),f.push({name:k+".x",value:d.clk_x},{name:k+".y",value:d.clk_y}));else if((j=
a.fieldValue(j,!0))&&j.constructor==Array)for(var l=0,v=j.length;l<v;l++)f.push({name:k,value:j[l]});else j!==null&&typeof j!="undefined"&&f.push({name:k,value:j})}if(!b&&d.clk&&(b=a(d.clk),c=b[0],(k=c.name)&&!c.disabled&&c.type=="image"))f.push({name:k,value:b.val()}),f.push({name:k+".x",value:d.clk_x},{name:k+".y",value:d.clk_y});return f};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(b){var f=[];this.each(function(){var c=this.name;if(c){var e=
a.fieldValue(this,b);if(e&&e.constructor==Array)for(var h=0,g=e.length;h<g;h++)f.push({name:c,value:e[h]});else e!==null&&typeof e!="undefined"&&f.push({name:this.name,value:e})}});return a.param(f)};a.fn.fieldValue=function(b){for(var f=[],c=0,e=this.length;c<e;c++){var h=a.fieldValue(this[c],b);h===null||typeof h=="undefined"||h.constructor==Array&&!h.length||(h.constructor==Array?a.merge(f,h):f.push(h))}return f};a.fieldValue=function(a,f){var c=a.name,e=a.type,h=a.tagName.toLowerCase();typeof f==
"undefined"&&(f=!0);if(f&&(!c||a.disabled||e=="reset"||e=="button"||(e=="checkbox"||e=="radio")&&!a.checked||(e=="submit"||e=="image")&&a.form&&a.form.clk!=a||h=="select"&&a.selectedIndex==-1))return null;if(h=="select"){var g=a.selectedIndex;if(g<0)return null;for(var c=[],h=a.options,j=(e=e=="select-one")?g+1:h.length,g=e?g:0;g<j;g++){var k=h[g];if(k.selected){var l=k.value;l||(l=k.attributes&&k.attributes.value&&!k.attributes.value.specified?k.text:k.value);if(e)return l;c.push(l)}}return c}return a.value};
a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})};a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var a=this.type,c=this.tagName.toLowerCase();if(a=="text"||a=="password"||c=="textarea")this.value="";else if(a=="checkbox"||a=="radio")this.checked=!1;else if(c=="select")this.selectedIndex=-1})};a.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&
this.reset()})};a.fn.enable=function(a){a==void 0&&(a=!0);return this.each(function(){this.disabled=!a})};a.fn.selected=function(b){b==void 0&&(b=!0);return this.each(function(){var c=this.type;if(c=="checkbox"||c=="radio")this.checked=b;else if(this.tagName.toLowerCase()=="option")c=a(this).parent("select"),b&&c[0]&&c[0].type=="select-one"&&c.find("option").selected(!1),this.selected=b})}})(jQuery);
(function(a){function c(c){function f(b){var c=RegExp(a.map(b,encodeURIComponent).join("|"),"ig");return function(a){return a.replace(c,decodeURIComponent)}}c=a.extend({unescape:!1},c||{});b.encoder=function(a){return a===!0?function(a){return a}:typeof a=="string"&&(a=f(a.split("")))||typeof a=="function"?function(b){return a(encodeURIComponent(b))}:encodeURIComponent}(c.unescape)}var b={put:function(a,b){(b||window).location.hash=this.encoder(a)},get:function(b){b=(b||window).location.hash.replace(/^#/,
"");try{return a.browser.mozilla?b:decodeURIComponent(b)}catch(c){return b}},encoder:encodeURIComponent},f={id:"__jQuery_history",init:function(){var b='<iframe id="'+this.id+'" style="display:none" src="javascript:false;" />';a("body").prepend(b);return this},_document:function(){return a("#"+this.id)[0].contentWindow.document},put:function(a){var c=this._document();c.open();c.close();b.put(a,c)},get:function(){return b.get(this._document())}},d={base:{callback:void 0,type:void 0,check:function(){},
load:function(){},init:function(a,b){c(b);e.callback=a;e._options=b;e._init()},_init:function(){},_options:{}},timer:{_appState:void 0,_init:function(){var a=b.get();e._appState=a;e.callback(a);setInterval(e.check,100)},check:function(){var a=b.get();if(a!=e._appState)e._appState=a,e.callback(a)},load:function(a){if(a!=e._appState)b.put(a),e._appState=a,e.callback(a)}},iframeTimer:{_appState:void 0,_init:function(){var a=b.get();e._appState=a;f.init().put(a);e.callback(a);setInterval(e.check,100)},
check:function(){var a=f.get(),c=b.get();if(c!=a)c==e._appState?(e._appState=a,b.put(a),e.callback(a)):(e._appState=c,f.put(c),e.callback(c))},load:function(a){if(a!=e._appState)b.put(a),f.put(a),e._appState=a,e.callback(a)}},hashchangeEvent:{_init:function(){e.callback(b.get());a(window).bind("hashchange",e.check)},check:function(){e.callback(b.get())},load:function(a){b.put(a)}}},e=a.extend({},d.base);e.type=a.browser.msie&&(a.browser.version<8||document.documentMode<8)?"iframeTimer":"onhashchange"in
window?"hashchangeEvent":"timer";a.extend(e,d[e.type]);a.history=e})(jQuery);
(function(a){a.fn.jnotifyInizialize=function(c){c=a.extend({},{oneAtTime:!1,appendType:"append"},c);this.addClass("notify-wrapper");c.oneAtTime&&this.addClass("notify-wrapper-oneattime");c.appendType=="prepend"&&c.oneAtTime==!1&&this.addClass("notify-wrapper-prepend");return this};a.fn.jnotifyAddMessage=function(c){function b(a){a.animate({opacity:"0"},600,function(){a.parent().animate({height:"0px"},300,function(){var b=a.closest(".notify-wrapper");a.parent().remove();navigator.userAgent.match(/MSIE (\d+\.\d+);/)&&
a.parent().parent().removeClass("IEsucks");$(".jnotify-item-wrapper",b).length||b.remove()})})}if(this.hasClass("notify-wrapper")){var c=a.extend({},{text:"",type:"message",showIcon:!0,permanent:!1,disappearTime:3E3},c),f,d;switch(c.type){case "message":f="ui-state-highlight";d="ui-icon-info";break;case "error":f="ui-state-error";d="ui-icon-alert";break;default:f="ui-state-highlight",d="ui-icon-info"}this.hasClass("notify-wrapper-oneattime")&&this.children().remove();var e=a('<div class="jnotify-item-wrapper"></div>'),
h=a('<div class="ui-corner-all jnotify-item"></div>').addClass(f);this.hasClass("notify-wrapper-prepend")?h.prependTo(this):h.appendTo(this);h.wrap(e);c.showIcon&&a('<span class="ui-icon" style="float:left; margin-right: .3em;" />').addClass(d).appendTo(h);a("<span></span>").html(c.text).appendTo(h);a('<div class="jnotify-item-close"><span class="ui-icon ui-icon-circle-close"/></div>').prependTo(h).click(function(){b(h)});navigator.userAgent.match(/MSIE (\d+\.\d+);/)&&(this.css({top:document.documentElement.scrollTop}),
this.removeClass("IEsucks"));c.permanent||setTimeout(function(){b(h)},c.disappearTime)}}})(jQuery);
(function(a){a.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:0.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(c,b,f){b==null&&(b="Alert");a.alerts._show(b,c,null,"alert",function(a){f&&f(a)})},confirm:function(c,b,f){b==null&&(b="Confirm");a.alerts._show(b,c,null,"confirm",function(a){f&&f(a)})},prompt:function(c,b,f,d){f==null&&(f="Prompt");a.alerts._show(f,c,b,"prompt",function(a){d&&
d(a)})},_show:function(c,b,f,d,e){a.alerts._hide();a.alerts._overlay("show");a("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_icon"></div><div id="popup_message"></div></div></div>');a.alerts.dialogClass&&a("#popup_container").addClass(a.alerts.dialogClass);var h=a.browser.msie&&parseInt(a.browser.version)<=6?"absolute":"fixed";a("#popup_container").css({position:h,zIndex:99999,padding:0,margin:0});a("#popup_title").text(c);a("#popup_content").addClass(d);
a("#popup_message").text(b);a("#popup_message").html(a("#popup_message").text().replace(/\n/g,"<br />"));a("#popup_container").css({minWidth:a("#popup_container").outerWidth(),maxWidth:a("#popup_container").outerWidth()});a.alerts._reposition();a.alerts._maintainPosition(!0);switch(d){case "alert":a("#popup_message").after('<div id="popup_panel"><button id="popup_ok" class="btn"><span><span>'+a.alerts.okButton+"</span></span></button></div>");a("#popup_ok").click(function(){a.alerts._hide();e(!0)});
a("#popup_ok").focus().keypress(function(b){(b.keyCode==13||b.keyCode==27)&&a("#popup_ok").trigger("click")});break;case "confirm":a("#popup_message").after('<div id="popup_panel"><button id="popup_ok" class="btn"><span><span>'+a.alerts.okButton+'</span></span></button><button id="popup_cancel" class="btn"><span><span>'+a.alerts.cancelButton+"</span></span></button></div>");a("#popup_ok").click(function(){a.alerts._hide();e&&e(!0)});a("#popup_cancel").click(function(){a.alerts._hide();e&&e(!1)});
a("#popup_ok").focus();a("#popup_ok, #popup_cancel").keypress(function(b){b.keyCode==13&&a("#popup_ok").trigger("click");b.keyCode==27&&a("#popup_cancel").trigger("click")});break;case "prompt":a("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><button id="popup_ok" class="btn"><span><span>'+a.alerts.okButton+'</span></span></button><button id="popup_cancel" class="btn"><span><span>'+a.alerts.cancelButton+"</span></span></button></div>"),
a("#popup_prompt").width(a("#popup_message").width()),a("#popup_ok").click(function(){var b=a("#popup_prompt").val();a.alerts._hide();e&&e(b)}),a("#popup_cancel").click(function(){a.alerts._hide();e&&e(null)}),a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(b){b.keyCode==13&&a("#popup_ok").trigger("click");b.keyCode==27&&a("#popup_cancel").trigger("click")}),f&&a("#popup_prompt").val(f),a("#popup_prompt").focus().select()}if(a.alerts.draggable)try{a("#popup_container").draggable({handle:a("#popup_title")}),
a("#popup_title").css({cursor:"move"})}catch(g){}},_hide:function(){a("#popup_container").remove();a.alerts._overlay("hide");a.alerts._maintainPosition(!1)},_overlay:function(c){switch(c){case "show":a.alerts._overlay("hide");a("BODY").append('<div id="popup_overlay"></div>');a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:a.alerts.overlayColor,opacity:a.alerts.overlayOpacity});break;case "hide":a("#popup_overlay").remove()}},
_reposition:function(){var c=a(window).height()/2-a("#popup_container").outerHeight()/2+a.alerts.verticalOffset,b=a(window).width()/2-a("#popup_container").outerWidth()/2+a.alerts.horizontalOffset;c<0&&(c=0);b<0&&(b=0);a.browser.msie&&parseInt(a.browser.version)<=6&&(c+=a(window).scrollTop());a("#popup_container").css({top:c+"px",left:b+"px"});a("#popup_overlay").height(a(document).height())},_maintainPosition:function(c){if(a.alerts.repositionOnResize)switch(c){case !0:a(window).bind("resize",a.alerts._reposition);
break;case !1:a(window).unbind("resize",a.alerts._reposition)}}};jAlert=function(c,b,f){a.alerts.alert(c,b,f)};jConfirm=function(c,b,f){a.alerts.confirm(c,b,f)};jPrompt=function(c,b,f,d){a.alerts.prompt(c,b,f,d)}})(jQuery);
(function(a){function c(b,c){this.$element=a(b);this.options=c;this.enabled=!0;this.fixTitle()}c.prototype={show:function(){var b=this.getTitle();if(b&&this.enabled){var c=this.tip();c.find(".tipsy-inner")[this.options.html?"html":"text"](b);c[0].className="tipsy";c.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var b=a.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),d=c[0].offsetWidth,e=c[0].offsetHeight,
h=typeof this.options.gravity=="function"?this.options.gravity.call(this.$element[0]):this.options.gravity,g;switch(h.charAt(0)){case "n":g={top:b.top+b.height+this.options.offset,left:b.left+b.width/2-d/2};break;case "s":g={top:b.top-e-this.options.offset,left:b.left+b.width/2-d/2};break;case "e":g={top:b.top+b.height/2-e/2,left:b.left-d-this.options.offset};break;case "w":g={top:b.top+b.height/2-e/2,left:b.left+b.width+this.options.offset}}if(h.length==2)g.left=h.charAt(1)=="w"?b.left+b.width/2-
15:b.left+b.width/2-d+15;c.css(g).addClass("tipsy-"+h);c.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+h.charAt(0);this.options.className&&c.addClass(typeof this.options.className=="function"?this.options.className.call(this.$element[0]):this.options.className);this.options.fade?c.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):c.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){a(this).remove()}):
this.tip().remove()},fixTitle:function(){var a=this.$element;if(a.attr("title")||typeof a.attr("original-title")!="string")a.attr("original-title",a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,c=this.$element,d=this.options;this.fixTitle();d=this.options;typeof d.title=="string"?a=c.attr(d.title=="title"?"original-title":d.title):typeof d.title=="function"&&(a=d.title.call(c[0]));return(a=(""+a).replace(/(^\s*|\s*$)/,""))||d.fallback},tip:function(){if(!this.$tip)this.$tip=a('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>');
return this.$tip},validate:function(){if(!this.$element[0].parentNode)this.hide(),this.options=this.$element=null},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}};a.fn.tipsy=function(b){function f(f){var d=a.data(f,"tipsy");d||(d=new c(f,a.fn.tipsy.elementOptions(f,b)),a.data(f,"tipsy",d));return d}function d(){var a=f(this);a.hoverState="in";b.delayIn==0?a.show():(a.fixTitle(),setTimeout(function(){a.hoverState=="in"&&a.show()},
b.delayIn))}function e(){var a=f(this);a.hoverState="out";b.delayOut==0?a.hide():setTimeout(function(){a.hoverState=="out"&&a.hide()},b.delayOut)}if(b===!0)return this.data("tipsy");else if(typeof b=="string"){var h=this.data("tipsy");if(h)h[b]();return this}b=a.extend({},a.fn.tipsy.defaults,b);b.live||this.each(function(){f(this)});if(b.trigger!="manual"){var h=b.live?"live":"bind",g=b.trigger=="hover"?"mouseleave":"blur";this[h](b.trigger=="hover"?"mouseenter":"focus",d)[h](g,e)}return this};a.fn.tipsy.defaults=
{className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:0.8,title:"title",trigger:"hover"};a.fn.tipsy.elementOptions=function(b,c){return a.metadata?a.extend({},c,a(b).metadata()):c};a.fn.tipsy.autoNS=function(){return a(this).offset().top>a(document).scrollTop()+a(window).height()/2?"s":"n"};a.fn.tipsy.autoWE=function(){return a(this).offset().left>a(document).scrollLeft()+a(window).width()/2?"e":"w"};a.fn.tipsy.autoBounds=function(b,c){return function(){var d=
{ns:c[0],ew:c.length>1?c[1]:!1},e=a(document).scrollTop()+b,h=a(document).scrollLeft()+b,g=a(this);if(g.offset().top<e)d.ns="n";if(g.offset().left<h)d.ew="w";if(a(window).width()+a(document).scrollLeft()-g.offset().left<b)d.ew="e";if(a(window).height()+a(document).scrollTop()-g.offset().top<b)d.ns="s";return d.ns+(d.ew?d.ew:"")}}})(jQuery);
(function(a){function c(b,d,e,h){if(!d.busy){var g=b[0].parentNode,j=b[d.currSlide],k=b[d.nextSlide];if(g.cycleTimeout!==0||e){if(e||!g.cyclePause){d.before.length&&a.each(d.before,function(a,b){b.apply(k,[j,k,d,h])});e=function(){a.browser.msie&&this.style.removeAttribute("filter");a.each(d.after,function(a,b){b.apply(k,[j,k,d,h])})};if(d.nextSlide!=d.currSlide)d.busy=1,a.fn.cycle.custom(j,k,d,e);e=d.nextSlide+1==b.length;d.nextSlide=e?0:d.nextSlide+1;d.currSlide=e?b.length-1:d.nextSlide-1}if(d.timeout)g.cycleTimeout=
setTimeout(function(){c(b,d,0,!d.rev)},d.timeout)}}}function b(a,b,e){var h=a[0].parentNode,g=h.cycleTimeout;if(g)clearTimeout(g),h.cycleTimeout=0;b.nextSlide=b.currSlide+e;if(b.nextSlide<0)b.nextSlide=a.length-1;else if(b.nextSlide>=a.length)b.nextSlide=0;c(a,b,1,e>=0);return!1}a.fn.cycle=function(f){return this.each(function(){f=f||{};this.cycleTimeout&&clearTimeout(this.cycleTimeout);this.cyclePause=this.cycleTimeout=0;var d=a(this),e=f.slideExpr?a(f.slideExpr,this):d.children(),h=e.get();if(h.length<
2)window.console&&window.console.log&&window.console.log("terminating; too few slides: "+h.length);else{var g=a.extend({},a.fn.cycle.defaults,f||{},a.metadata?d.metadata():a.meta?d.data():{});g.before=g.before?[g.before]:[];g.after=g.after?[g.after]:[];g.after.unshift(function(){g.busy=0});var j=this.className;g.width=parseInt((j.match(/w:(\d+)/)||[])[1])||g.width;g.height=parseInt((j.match(/h:(\d+)/)||[])[1])||g.height;g.timeout=parseInt((j.match(/t:(\d+)/)||[])[1])||g.timeout;d.css("position")==
"static"&&d.css("position","relative");g.width&&d.width(g.width);g.height&&g.height!="auto"&&d.height(g.height);e.css({position:"absolute",top:0,left:0}).hide().each(function(b){a(this).css("z-index",h.length-b)});a(h[0]).css("opacity",1).show();a.browser.msie&&h[0].style.removeAttribute("filter");g.fit&&g.width&&e.width(g.width);g.fit&&g.height&&g.height!="auto"&&e.height(g.height);g.pause&&d.hover(function(){this.cyclePause=1},function(){this.cyclePause=0});a.fn.cycle.transitions.fade(d,e,g);e.each(function(){var b=
a(this);this.cycleH=g.fit&&g.height?g.height:b.height();this.cycleW=g.fit&&g.width?g.width:b.width()});e.not(":eq(0)").css({opacity:0});g.cssFirst&&a(e[0]).css(g.cssFirst);if(g.timeout){if(g.speed.constructor==String)g.speed={slow:600,fast:200}[g.speed]||400;for(g.sync||(g.speed/=2);g.timeout-g.speed<250;)g.timeout+=g.speed}g.speedIn=g.speed;g.speedOut=g.speed;g.slideCount=h.length;g.currSlide=0;g.nextSlide=1;d=e[0];g.before.length&&g.before[0].apply(d,[d,d,g,!0]);g.after.length>1&&g.after[1].apply(d,
[d,d,g,!0]);if(g.click&&!g.next)g.next=g.click;g.next&&a(g.next).bind("click",function(){return b(h,g,g.rev?-1:1)});g.prev&&a(g.prev).bind("click",function(){return b(h,g,g.rev?1:-1)});if(g.timeout)this.cycleTimeout=setTimeout(function(){c(h,g,0,!g.rev)},g.timeout+(g.delay||0))}})};a.fn.cycle.custom=function(b,c,e,h){var g=a(b),j=a(c);j.css({opacity:0});var k=function(){j.animate({opacity:1},e.speedIn,e.easeIn,h)};g.animate({opacity:0},e.speedOut,e.easeOut,function(){g.css({display:"none"});e.sync||
k()});e.sync&&k()};a.fn.cycle.transitions={fade:function(b,c,e){c.not(":eq(0)").css("opacity",0);e.before.push(function(){a(this).show()})}};a.fn.cycle.ver=function(){return"Lite-1.0"};a.fn.cycle.defaults={timeout:4E3,speed:1E3,next:null,prev:null,before:null,after:null,height:"auto",sync:1,fit:0,pause:0,delay:0,slideExpr:null}})(jQuery);
(function(a,c){var b=a.jQuery||a.Cowboy||(a.Cowboy={}),f;b.throttle=f=function(a,f,h,g){function j(){function b(){l=+new Date;h.apply(p,x)}function j(){k=c}var p=this,u=+new Date-l,x=arguments;g&&!k&&b();k&&clearTimeout(k);g===c&&u>a?b():f!==!0&&(k=setTimeout(g?j:b,g===c?a-u:a))}var k,l=0;typeof f!=="boolean"&&(g=h,h=f,f=c);if(b.guid)j.guid=h.guid=h.guid||b.guid++;return j};b.debounce=function(a,b,h){return h===c?f(a,b,!1):f(a,h,b!==!1)}})(this);
MessageBundle={en:{"ajax.loading":"loading...","ajax.error":"network error,please try later",required:"please input value","selection.required":"please select",email:"must be a valid email",integer:"must be a integer","integer.positive":"must be a positive integer","double":"must be a decimal","double.positive":"must be a positive decimal","save.and.create":"save and add","no.selection":"no selection","no.modification":"no modification",select:"please select","confirm.delete":"are sure to delete?",
"confirm.save":"are sure to save?","confirm.exit":"you have unsaved modification,are sure to exit?"},"zh-cn":{"ajax.loading":"\u6b63\u5728\u52a0\u8f7d...","ajax.error":"\u9519\u8bef,\u8bf7\u7a0d\u540e\u518d\u8bd5",required:"\u8bf7\u586b\u5199","selection.required":"\u8bf7\u9009\u62e9",email:"email\u4e0d\u5408\u6cd5",integer:"\u8bf7\u586b\u5199\u6574\u6570","integer.positive":"\u8bf7\u586b\u5199\u6b63\u6574\u6570","double":"\u8bf7\u586b\u5199\u6570\u5b57","double.positive":"\u8bf7\u586b\u5199\u5927\u4e8e\u96f6\u7684\u6570\u5b57",
"save.and.create":"\u4fdd\u5b58\u5e76\u65b0\u5efa","no.selection":"\u6ca1\u6709\u9009\u4e2d","no.modification":"\u6ca1\u6709\u66f4\u6539",add:"\u6dfb\u52a0",remove:"\u5220\u9664",browse:"\u6d4f\u89c8\u6587\u4ef6",select:"\u8bf7\u9009\u62e9",save:"\u4fdd\u5b58",restore:"\u8fd8\u539f",cancel:"\u53d6\u6d88",error:"\u9519\u8bef",success:"\u64cd\u4f5c\u6210\u529f",confirm:"\u786e\u5b9a","confirm.delete":"\u786e\u5b9a\u8981\u5220\u9664?","confirm.save":"\u786e\u5b9a\u8981\u4fdd\u5b58?","confirm.exit":"\u6709\u6539\u52a8\u672a\u4fdd\u5b58,\u786e\u5b9a\u8981\u79bb\u5f00?",
"true":"\u662f","false":"\u5426"},get:function(){var a=arguments[0],c=MessageBundle.lang(),c=MessageBundle[c][a];typeof c=="undefined"&&(c=a);for(a=1;a<arguments.length;a++)c=c.replace("{"+a+"}",arguments[a]);return c},lang:function(){var a=(navigator.language||navigator.browserLanguage||"").toLowerCase();MessageBundle[a]||(a="en");return a},shortLang:function(){var a=MessageBundle.lang(),c=a.indexOf("-");c>0&&(a=a.substring(0,c));return a}};
(function(){var a=document.domain;if(!a.match(/^(\d+\.){3}\d+$/)){a=a.split(".");try{if(a.length>2)document.domain=a[a.length-2]+"."+a[a.length-1]}catch(c){if(a.length>3)document.domain=a[a.length-3]+"."+a[a.length-2]+"."+a[a.length-1]}}$.ajaxSettings.traditional=!0;var b=$.ajax;$.ajax=function(a){a.url=UrlUtils.makeSameOrigin(a.url);a.xhrFields={withCredentials:!0};var c=a.beforeSend;a.beforeSend=function(b){if(a.header)for(var f in a.header)b.setRequestHeader(f,a.header[f]);c&&c(b)};return b(a)};
if(typeof $.rc4EncryptStr!="undefined"&&$('meta[name="pe"]').attr("content")!="false"){var f=$.param;$.param=function(a,b){(jQuery.isArray(a)||a.jquery)&&jQuery.each(a,function(){if(/password$/.test(this.name.toLowerCase()))try{var a=$.cookie("T"),a=a.substring(15,25);this.value=$.rc4EncryptStr(encodeURIComponent(this.value+a),a)}catch(b){}});return f(a,b)}}})();
Indicator={text:"",show:function(a){$("#indicator").length||$('<div id="indicator"></div>').appendTo(document.body);var c=$("#indicator");a&&c.hasClass("loading")&&c.removeClass("loading");!a&&!c.hasClass("loading")&&c.addClass("loading");c.html(Indicator.text||MessageBundle.get("ajax.loading"));c.show();Indicator.text=""},showError:function(){Indicator.text=MessageBundle.get("ajax.error");Indicator.show(!0)},hide:function(){Indicator.text="";$("#indicator")&&$("#indicator").hide()}};
UrlUtils={extractDomain:function(a){if(UrlUtils.isAbsolute(a)){var a=a.replace(/:\d+/,""),a=a.substring(a.indexOf("://")+3),c=a.indexOf("/");c>0&&(a=a.substring(0,c));return a}else return document.location.hostname},isSameDomain:function(a,c){var c=c||document.location.href,b=UrlUtils.extractDomain(a),f=UrlUtils.extractDomain(c);return b==f},isSameOrigin:function(a,c){var c=c||document.location.href,b=UrlUtils.extractDomain(a),f=UrlUtils.extractDomain(c);if($.browser.msie&&b!=f)return!1;b=b.split(".");
f=f.split(".");return b[b.length-1]==f[f.length-1]&&b[b.length-2]==f[f.length-2]},makeSameOrigin:function(a,c){c=c||document.location.href;return UrlUtils.isSameOrigin(a,c)?a:c.substring(0,c.indexOf("/",c.indexOf("://")+3))+CONTEXT_PATH+"/webproxy/"+a},isAbsolute:function(a){if(!a)return!1;a=a.indexOf("://");return a==4||a==5},absolutize:function(a){if(UrlUtils.isAbsolute(a))return a;var c=document.location.href,b=c.indexOf("://");return a.length==0||a.indexOf("/")==0?c.substring(0,c.indexOf("/",
b+3))+CONTEXT_PATH+a:c.substring(0,c.lastIndexOf("/")+1)+a}};
Message={compose:function(a,c){return'<div class="'+c+'"><span class="close" onclick="$(this.parentNode).remove()"></span>'+a+"</div>"},showMessage:function(){Message.showActionMessage(MessageBundle.get.apply(this,arguments))},showActionMessage:function(a,c){if(a){if(typeof a=="string"){var b=[];b.push(a);a=b}$("#message").length||$('<div id="message"></div>').prependTo($("#content"));if(typeof $.fn.jnotifyInizialize!="undefined"){$("#notification").length||$('<div id="notification"><div>').prependTo(document.body).jnotifyInizialize({oneAtTime:!1,
appendType:"append"}).css({position:"fixed",top:"40px",right:"40px",width:"250px","min-height":"50px","z-index":"9999"});for(b=0;b<a.length;b++)$("#notification").jnotifyAddMessage({text:a[b],permanent:!1})}else{for(var f="",b=0;b<a.length;b++)f+=Message.compose(a[b],"action_message");c&&c.tagName=="FORM"?($("#"+c.id+"_message").length==0&&$(c).before('<div id="'+c.id+'_message"></div>'),$("#"+c.id+"_message").html(f)):($("#message").length||$('<div id="message"></div>').prependTo($("#content")),
$("#message").html(f))}}},showError:function(){Message.showActionError(MessageBundle.get.apply(this,arguments))},showActionError:function(a,c){if(a){if(typeof a=="string"){var b=[];b.push(a);a=b}$("#message").length||$('<div id="message"></div>').prependTo($("#content"));if(typeof $.fn.jnotifyInizialize!="undefined"){$("#message").jnotifyInizialize({oneAtTime:!1});for(b=0;b<a.length;b++)$("#message").jnotifyAddMessage({text:a[b],disappearTime:1E4,permanent:!1,type:"error"});$("html,body").animate({scrollTop:$("#message").offset().top-
20},100)}else if($.alerts)$.alerts.alert(a.join("\n"),MessageBundle.get("error"));else{for(var f="",b=0;b<a.length;b++)f+=Message.compose(a[b],"action_error");f&&(c&&c.tagName=="FORM"?($("#"+c.id+"_message").length==0&&$(c).before('<div id="'+c.id+'_message"></div>'),$("#"+c.id+"_message").html(f)):($("#message").length||$('<div id="message"></div>').prependTo($("#content")),$("#message").html(f)))}}},showFieldError:function(a,c,b){c=c||MessageBundle.get(b);if(a&&$(a).length){a=$(a);c=$('<div class="fieldError removeonclick"><div class="fieldErrorContent">'+
c+"</div><div>").insertAfter(a);$('<div class="fieldErrorArrow"/>').html('<div class="line10"><\!-- --\></div><div class="line9"><\!-- --\></div><div class="line8"><\!-- --\></div><div class="line7"><\!-- --\></div><div class="line6"><\!-- --\></div><div class="line5"><\!-- --\></div><div class="line4"><\!-- --\></div><div class="line3"><\!-- --\></div><div class="line2"><\!-- --\></div><div class="line1"><\!-- --\></div>').appendTo(c);var f=a.width(),d=c.height(),b=a.position().top,a=a.position().left+
f-30;c.css({top:b+"px",left:a+"px",marginTop:-d+"px",opacity:0});c.animate({opacity:0.8})}else Message.showActionError(c)}};
Form={focus:function(a){for(var c=$(":input:visible",a).get(),b=0;b<c.length;b++)if($(".fieldError,.field_error",$(c[b]).parent()).length){setTimeout(function(){$(c[b]).focus()},50);break}},validate:function(a){if($(a).prop("tagName")!="FORM")if($(".fieldError,.field_error",$(a).parent()).fadeIn().remove(),$(a).hasClass("required")&&!$(a).val())return $(a).prop("tagName")=="SELECT"?Message.showFieldError(a,null,"selection.required"):Message.showFieldError(a,null,"required"),!1;else if($(a).hasClass("email")&&
$(a).val()&&!$(a).val().match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/))return Message.showFieldError(a,null,"email"),!1;else{if($(a).hasClass("integer")&&$(a).val()){if($(a).hasClass("positive")&&!$(a).val().match(/^[+]?\d*$/))return Message.showFieldError(a,null,"integer.positive"),!1;if(!$(a).hasClass("positive")&&!$(a).val().match(/^[-+]?\d*$/))return Message.showFieldError(a,null,"integer"),!1}else if($(a).hasClass("double")&&$(a).val()){if($(a).hasClass("positive")&&!$(a).val().match(/^[+]?\d+(\.\d+)?$/))return Message.showFieldError(a,
null,"double.positive"),!1;if(!$(a).hasClass("positive")&&!$(a).val().match(/^[-+]?\d+(\.\d+)?$/))return Message.showFieldError(a,null,"double"),!1}return!0}else{var c=!0;$(":input",a).each(function(){Form.validate(this)||(c=!1)});c||Form.focus(a);return c}}};
Ajax={defaultRepacement:"content",fire:function(a,c){if(!a)return!0;var b=a[c];typeof b=="undefined"&&(b=$(a).attr(c));if(typeof b=="undefined"||!b)return!0;var f=[];if(arguments.length>2)for(var d=2;d<arguments.length;d++)f[d-2]=arguments[d];var e;if(typeof b=="function")e=b.apply(a,f);else{b.indexOf("return")>-1&&(b=b.replace("return",""));a._temp=function(){return eval(b)};try{e=a._temp()}catch(h){alert(h)}}return!1==e?!1:!0},handleResponse:function(a,c){var b=!1,f=c.target;if(typeof a=="string"&&
(a.indexOf("{")==0||a.indexOf("[")==0))a=$.parseJSON(a);if(typeof a=="string"){if(a.indexOf("<title>")>=0&&a.indexOf("</title>")>0&&(Ajax.title=a.substring(a.indexOf("<title>")+7,a.indexOf("</title>")),c.replaceTitle))document.title=Ajax.title;for(var d={},e=(c.replacement||$(f).attr("replacement")||($(f).prop("tagName")=="FORM"?$(f).attr("id"):null)||Ajax.defaultRepacement).split(","),h=0;h<e.length;h++){var g=e[h].split(":",2);d[g[0]]=g.length==2?g[1]:g[0]}var e=a.replace(/<script(.|\s)*?\/script>/g,
""),h=$("<div/>").html(e),j;for(j in d)c.quiet||$("html,body").animate({scrollTop:$("#"+j).offset().top-50},100),h.find("#"+d[j]).length?$("#"+j).html(h.find("#"+d[j]).html()):(e.indexOf(">",e.indexOf("<body")),e.indexOf("</body>"),h.find("#content").length?$("#"+j).html(h.find("#content").html()):h.find("body").length?$("#"+j).html(h.find("body").html()):$("#"+j).html(e)),!c.quiet&&typeof $.effects!="undefined"&&$("#"+j).effect("highlight"),_observe($("#"+j));h.remove();Ajax.fire(f,"onsuccess",a)}else if(Ajax.jsonResult=
a,a.fieldErrors||a.actionErrors?(b=!0,c.onerror&&c.onerror.apply(window),Ajax.fire(f,"onerror",a)):(c.onsuccess&&c.onsuccess.apply(window),Ajax.fire(f,"onsuccess",a)),Message.showActionError(a.actionErrors,f),Message.showActionMessage(a.actionMessages,f),a.fieldErrors)if(f){for(j in a.fieldErrors)Message.showFieldError(f[j],a.fieldErrors[j]);Form.focus(f)}else for(j in a.fieldErrors)Message.showActionError(a.fieldErrors[j]);f&&f.tagName=="FORM"&&(setTimeout(function(){$('button[type="submit"]',f).prop("disabled",
!1);Captcha.refresh()},100),!b&&$(f).hasClass("reset")&&(typeof f.reset=="function"||typeof f.reset=="object"&&!f.reset.nodeType)&&f.reset());Indicator.text="";Ajax.fire(f,"oncomplete",a)},jsonResult:null,title:""};
function ajaxOptions(a){a=a||{};if(!a.dataType)a.dataType="text";if(!a.header)a.header={};$.extend(a.header,{"X-Data-Type":a.dataType});var c=a.beforeSend;a.beforeSend=function(b){c&&c(b);Indicator.text=a.indicator;Ajax.fire(null,a.onloading)};var b=a.success;a.success=function(c,d,e){Ajax.handleResponse(c,a);b&&!c.fieldErrors&&!c.actionErrors&&b(c,d,e)};return a}function ajax(a){$.ajax(ajaxOptions(a))}var CONTEXT_PATH=$('meta[name="context_path"]').attr("content")||"";
typeof Initialization=="undefined"&&(Initialization={});typeof Observation=="undefined"&&(Observation={});function _init(){var a=[],c;for(c in Initialization)typeof Initialization[c]=="function"&&a.push(c);a.sort();for(c=0;c<a.length;c++)Initialization[a[c]].call(this);_observe()}
function _observe(a){a||(a=document);$(".chart,form.ajax,.ajaxpanel",a).each(function(a){if(!this.id)this.id=("a"+(a+Math.random())).replace(".","").substring(0,5)});var c=[],b;for(b in Observation)typeof Observation[b]=="function"&&c.push(b);c.sort();for(b=0;b<c.length;b++)Observation[c[b]].call(this,a)}$(_init);
Initialization.common=function(){$(document).ajaxStart(function(){Indicator.show()});$(document).ajaxError(function(){Indicator.showError()});$(document).ajaxSuccess(function(a,c){Indicator.hide();var b=c.getResponseHeader("X-Redirect-To");if(b)top.location.href=UrlUtils.absolutize(b)});$(".removeonclick").live("click",function(){$(this).remove()});$.alerts.okButton=MessageBundle.get("confirm");$.alerts.cancelButton=MessageBundle.get("cancel");$(".menu li a").each(function(){$(this).attr("href")==
document.location.pathname&&$(this).addClass("selected")});$(".menu li a").click(function(){$("li a",$(this).closest(".menu")).removeClass("selected");$(this).addClass("selected")})};var HISTORY_ENABLED=(typeof history.pushState!="undefined"||typeof $.history!="undefined")&&$('meta[name="history_enabled"]').attr("content")!="false",SESSION_HISTORY_SUPPORT=typeof history.pushState!="undefined"&&document.location.hash.indexOf("#!/")!=0,_historied_=!1;
Initialization.history=function(){if(HISTORY_ENABLED)if(SESSION_HISTORY_SUPPORT){var a=document.location.href;history.replaceState({url:a},"",a);window.onpopstate=function(a){var b=document.location.href;a.state&&ajax({url:b,replaceTitle:!0,replacement:a.state.replacement,success:function(){$(".menu li a").each(function(){this.href==b&&($("li a",$(this).closest(".menu")).removeClass("selected"),$(this).addClass("selected"))})},header:{"X-Fragment":"_"}})}}else $.history.init(function(a){if(!(!a&&
!_historied_||a&&a.indexOf("!")<0)){var b=document.location.href;b.indexOf("#")>0&&(b=b.substring(0,b.indexOf("#")));a.length&&(a=a.substring(1),UrlUtils.isSameDomain(a)&&CONTEXT_PATH&&(a=CONTEXT_PATH+a),b=a);_historied_=!0;ajax({url:b,cache:!0,replaceTitle:!0,success:function(){$(".menu li a").each(function(){$(this).attr("href")==b&&($("li a",$(this).closest(".menu")).removeClass("selected"),$(this).addClass("selected"))})},header:{"X-Fragment":"_"}})}},{unescape:!0})};
Observation.common=function(a){$("div.action_error,div.action_message,ul.action_error li,ul.action_message li").each(function(){var a=$(this);$("div.close",a).length||a.prepend('<div class="close" onclick="$(this.parentNode).remove()"></div>')});$("div.field_error").each(function(){var a=$(this).text(),b=$(":input",$(this).parent());$(this).remove();Message.showFieldError(b,a)});var c=$(a).prop("tagName")=="FORM"&&$(a).hasClass("focus")?a:$(".focus:eq(0)",a);if(c.prop("tagName")!="FORM")c.focus();
else for(var c=$(":input:visible",c).toArray(),b=0;b<c.length;b++)if(!$(c[b]).val()){$(c[b]).focus();break}$("form",a).each(function(){$(this).hasClass("ajax")||$(this).submit(function(){$(".action_message,.action_error").remove();return Form.validate(this)})});$('input[type="text"]',a).each(function(){$(this).attr("autocomplete")||$(this).attr("autocomplete","off");var a=$(this).attr("maxlength");if(!a||a>3E3)$(this).hasClass("date")?$(this).attr("maxlength","10"):$(this).hasClass("integer")?$(this).attr("maxlength",
"11"):$(this).hasClass("double")?$(this).attr("maxlength","22"):$(this).attr("maxlength","255")});$(".highlightrow tbody tr").hover(function(){$(this).addClass("highlight")},function(){$(this).removeClass("highlight")});!$.browser.msie&&typeof $.fn.elastic!="undefined"&&$("textarea").elastic();typeof $.fn.tabs!="undefined"&&$("div.tabs",a).each(function(){$(this).tabs({select:function(a,b){$(b.panel).trigger("load")}}).tabs("select",$(this).attr("tab"))});typeof $.fn.corner!="undefined"&&$.browser.msie&&
$.browser.version<=8&&$(".rounded",a).each(function(){$(this).corner($(this).attr("corner"))});typeof $.fn.datepicker!="undefined"&&$("input.date",a).datepicker({dateFormat:"yy-mm-dd",zIndex:2E3});$("input.captcha",a).focus(function(){$(this).attr("_captcha_")||($(this).after('<img class="captcha" src="'+this.id+'"/>'),$("img.captcha",a).click(Captcha.refresh),$(this).attr("_captcha_",!0))});typeof $.fn.treeTable!="undefined"&&$(".treeTable",a).each(function(){$(this).treeTable({initialState:$(this).hasClass("expanded")?
"expanded":"collapsed"})});typeof $.fn.truncatable!="undefined"&&$(".truncatable",a).each(function(){$(this).truncatable({limit:$(this).attr("limit")||100})});typeof $.fn.tipsy!="undefined"&&($("div.tipsy").live("mouseout",function(){$(this).remove()}),$(".tiped,:input[title]",a).each(function(){var a=$(this),b={html:!0,fade:!0,gravity:a.attr("gravity")||"w"};!a.attr("title")&&a.attr("tipurl")&&a.attr("title",MessageBundle.get("ajax.loading"));a.hover(function(){a.attr("tipurl")&&$.ajax({url:a.attr("tipurl"),
global:!1,dataType:"html",success:function(b){a.attr("title",b);a.tipsy(!0).show()}})},function(){a.removeAttr("tipurl")});if(a.is(":input"))b.trigger="focus",b.gravity="w";a.tipsy(b)}));$(".switch",a).each(function(){var a=$(this);a.children().css("cursor","pointer").click(function(){a.children().removeClass("selected").css("font-weight","normal");$(this).addClass("selected").css("font-weight","bold")}).filter(".selected").css("font-weight","bold")});if(typeof swfobject!="undefined")$(".chart",a).each(function(){var a=
this.id,b=$(this).width(),c=$(this).height(),h=$(this).attr("data");h.indexOf("/")==0&&(h=document.location.protocol+"//"+document.location.host+h);h=encodeURIComponent(h);(!a||!b||!c||!h)&&alert("id,width,height,data all required");swfobject.embedSWF(CONTEXT_PATH+"/assets/images/open-flash-chart.swf",a,b,c,"9.0.0",CONTEXT_PATH+"/assets/images/expressInstall.swf",{"data-file":h},{wmode:"transparent"})}),window.save_image=function(){var a=[];a.push("<html><head><title>Charts: Export as Image</title></head><body>");
$("object[data]").each(function(){a.push('<img src="data:image/png;base64,'+this.get_img_binary()+'"/>')});a.push("</body></html>");var b=window.open("","_blank");with(b.document)write(a.join("")),b.document.close()};typeof $.fn.cycle!="undefined"&&$(".cycle").each(function(){var a={fx:"fade",pause:1};$.extend(a,(new Function("return "+($(this).attr("options")||"{}")))());$(this).cycle(a)});$("a.ajax,form.ajax",a).each(function(){var a=this,b=[],c=$(a).attr("id");typeof c!="string"&&(c="");for(var c=
($(a).attr("replacement")||($(a).prop("tagName")=="FORM"?c:"")).split(","),h=0;h<c.length;h++){var g=c[h].split(":",2);(g=g.length==2?g[1]:g[0])&&b.push(g)}if(this.tagName=="FORM"){var j={beforeSubmit:function(){if(!Ajax.fire(a,"onprepare"))return!1;$(".action_message,.action_error").remove();if(!Form.validate(a))return!1;Indicator.text=$(a).attr("indicator");$('button[type="submit"]',a).prop("disabled",!0);Ajax.fire(a,"onloading")},error:function(){Form.focus(a);a&&a.tagName=="FORM"&&setTimeout(function(){$('button[type="submit"]',
a).prop("disabled",!1)},100);Ajax.fire(a,"onerror")},success:function(b){Ajax.handleResponse(b,{target:a})},header:{}};$(this).hasClass("view")||$.extend(j.header,{"X-Data-Type":"json"});b.length>0&&$.extend(j.header,{"X-Fragment":b.join(",")});$(this).bind("submit",function(){$(this).ajaxSubmit(j);return!1});$("input",this).keyup($.debounce(500,function(a){a.keyCode!=13&&Form.validate(this);return!0}));$("select",this).change(function(){Form.validate(this);return!0})}else $(this).click(function(){if(!Ajax.fire(a,
"onprepare"))return!1;if(HISTORY_ENABLED&&$(this).hasClass("view")&&($(this).hasClass("history")||!$(this).attr("replacement"))){var c=this.href;if(UrlUtils.isSameDomain(c))if(c=c.substring(c.indexOf("//")+2),c=c.substring(c.indexOf("/")),SESSION_HISTORY_SUPPORT)history.pushState({replacement:$(this).attr("replacement"),url:c},"",c);else return CONTEXT_PATH&&(c=c.substring(CONTEXT_PATH.length)),c=c.replace(/^.*#/,""),$.history.load("!"+c),!1}var c={url:this.href,type:$(this).attr("method")||"GET",
cache:$(this).hasClass("cache"),beforeSend:function(){$(".action_message,.action_error").remove();Indicator.text=$(a).attr("indicator");Ajax.fire(a,"onloading")},error:function(){Ajax.fire(a,"onerror")},header:{}},e={target:a};$(this).hasClass("view")||$.extend(c.header,{"X-Data-Type":"json"});b.length>0?$.extend(c.header,{"X-Fragment":b.join(",")}):($.extend(c.header,{"X-Fragment":"_"}),e.replaceTitle=!0);c.success=function(a){Ajax.handleResponse(a,e)};$.ajax(c);return!1})})};
var Dialog={adapt:function(a,c){if(c){var b=c.document;if(c.contentDocument)b=c.contentDocument;else if(c.contentWindow)b=c.contentWindow.document;$(a).dialog("option","title",b.title)}else $(a).dialog("option","title",Ajax.title);a.dialog("option","position","center");a.height()>600&&a.dialog("option","position","top")}};Captcha={refresh:function(){$("img.captcha").each(function(){var a=this.src,c=a.lastIndexOf("&");c>0&&(a=a.substring(0,c));this.src=a+"&"+Math.random()});$("input.captcha").val("")}};
(function(a){function c(a,c,d){if(typeof FileReaderSync!="undefined"){for(var e=new BlobBuilder,h=new FileReaderSync,a=event.data,g=0;g<a.length;g++)e.append("--"),e.append(d),e.append("\r\n"),e.append("Content-Disposition: form-data; name="),e.append(c),e.append("; filename="),e.append(a[g].name),e.append("\r\n"),e.append("Content-Type: "),e.append(a[g].type),e.append("\r\n\r\n"),e.append(h.readAsArrayBuffer(a[g])),e.append("\r\n");e.append("--");e.append(d);e.append("--");return e.getBlob()}else if(a[0].getAsBinary){e=
"";for(g=0;g<a.length;g++)e+="--"+d+"\r\n",e+="Content-Disposition: form-data; name="+c+"; filename="+a[g].name+"\r\n",e+="Content-Type: "+a[g].type+"\r\n\r\n",e+=a[g].getAsBinary()+"\r\n";e+="--"+d+"--";return e}else return null}if(!window.BlobBuilder&&window.WebKitBlobBuilder)window.BlobBuilder=window.WebKitBlobBuilder;a.ajaxupload=function(b,f){if(!b)return!1;var d={url:document.location.href,name:"file"},f=f||{};a.extend(d,f);var f=d,e=new XMLHttpRequest,h="xxxxxxxxx";e.open("POST",f.url,!0);
e.setRequestHeader("Content-Type","multipart/form-data, boundary="+h);e.onreadystatechange=function(){e.readyState==4&&(e.status>=200&&e.status<=200||e.status==304)&&e.responseText!=""&&typeof f.success!="undefined"&&f.success(e)};if(typeof FileReader!="undefined"&&typeof BlobBuilder!="undefined"){for(d=0;d<b.length;d++){var g=b[d],j=new FileReader;j.sourceFile=g;var k=0,h="xxxxxxxxx",l=new BlobBuilder;j.onload=function(a){var c=a.target.sourceFile,d=new BlobBuilder;d.append("--");d.append(h);d.append("\r\n");
d.append("Content-Disposition: form-data; name=");d.append(f.name);d.append("; filename=");d.append(c.name);d.append("\r\n");d.append("Content-Type: ");d.append(c.type);d.append("\r\n\r\n");d.append(a.target.result);d.append("\r\n");l.append(d.getBlob());k++;k==b.length&&(l.append("--"),l.append(h),l.append("--"),typeof f.beforeSend!="undefined"&&f.beforeSend(),e.send(l.getBlob()))};j.readAsArrayBuffer(g)}return!0}if(l=c(b,f.name,h))return typeof f.beforeSend!="undefined"&&f.beforeSend(),e.sendAsBinary?
e.sendAsBinary(l):e.send(l),!0;else e.abort();return!1}})(jQuery);
(function(a){function c(b){var c={url:b.attr("url")||document.location.href,global:!1,quiet:!0,beforeSend:function(){typeof a.fn.mask!="undefined"?b.mask(MessageBundle.get("ajax.loading")):b.html('<div style="text-align:center;">'+MessageBundle.get("ajax.loading")+"</div>")},complete:function(){typeof a.fn.unmask!="undefined"&&b.unmask()},success:function(c){typeof c!="string"&&(b.empty(),a.tmpl(a("#"+b.attr("tmpl")),c).appendTo(b),_observe(b))}};c.replacement=b.attr("url")?b.attr("id")+":"+(b.attr("replacement")||
"content"):b.attr("id");ajax(c)}a.fn.ajaxpanel=function(){a(this).each(function(){var b=a(this);b.bind("load",function(){c(b)});b.attr("timeout")?setTimeout(function(){c(b)},parseInt(b.attr("timeout"))):b.attr("interval")?setInterval(function(){c(b)},parseInt(b.attr("interval"))):b.hasClass("manual")||c(b)});return this}})(jQuery);Observation.ajaxpanel=function(a){$(".ajaxpanel",a).ajaxpanel();$(".ajaxpanel .load",a).click(function(){$(this).closest(".ajaxpanel").trigger("load")})};
(function(a){a.fn.marquee=function(){this.each(function(){var c=a(this);c.mouseenter(function(){a(this).addClass("stop")}).mouseleave(function(){a(this).removeClass("stop")});setInterval(function(){c.hasClass("stop")||a(a(":first-child",c).prop("tagName")+":eq(0)",c).fadeOut("slow",function(){a(this).appendTo(c).fadeIn("slow")})},c.attr("delay")||3E3)});return this}})(jQuery);Observation.marquee=function(a){$(".marquee",a).marquee()};
(function(a){SearchHighlighter={init:function(){rf=document.referrer;if(window.location.href.indexOf("/search")>0)rf=window.location.href;keywords=null;if(rf&&rf.indexOf("?")>0){name="q";value="";rf.indexOf("yahoo.com")>0&&(name="p");arr=rf.substring(rf.indexOf("?")+1).split("&");for(i=0;i<arr.length;i++)if(ar=arr[i].split("="),ar[0]==name){value=ar[1]||"";break}if(keywords=decodeURIComponent(value.replace(/\+/g," "))){if(a("q"))a("q").value=keywords;keywords=a.trim(keywords.replace(/<|>|\//g," "));
keywords=keywords.split(/\s+/);for(i=0;i<keywords.length;i++)SearchHighlighter.highlight(document.body,keywords[i])}}},highlight:function(a,b){if(a.hasChildNodes)for(var f=0;f<a.childNodes.length;f++)SearchHighlighter.highlight(a.childNodes[f],b);if(a.nodeType==3&&(text=a.nodeValue.toLowerCase(),b=b.toLowerCase(),text.indexOf(b)!=-1&&(pn=a.parentNode,pn.className!="bold")))nv=a.nodeValue,ni=text.indexOf(b),before=document.createTextNode(nv.substr(0,ni)),docWordVal=nv.substr(ni,b.length),after=document.createTextNode(nv.substr(ni+
b.length)),hiwordtext=document.createTextNode(docWordVal),hiword=document.createElement("span"),hiword.className="bold",hiword.appendChild(hiwordtext),pn.insertBefore(before,a),pn.insertBefore(hiword,a),pn.insertBefore(after,a),pn.removeChild(a)}};a(function(){SearchHighlighter.init()})})(jQuery);
(function(a){function c(){var b=a(this),c=b.attr("url")||document.location.href,d=b.attr("name")||"content",e={};e[d]=b.html();b.attr("edited")&&a.alerts.confirm(MessageBundle.get("confirm.save"),MessageBundle.get("select"),function(a){a&&ajax({url:c,type:"POST",data:e,global:!1,success:function(){b.removeAttr("edited")}})})}a.fn.editme=function(){return a(this).attr("contenteditable","true").keyup(function(){a(this).attr("edited","true")}).blur(c)}})(jQuery);
Observation.editme=function(a){$(".editme",a).editme()};
